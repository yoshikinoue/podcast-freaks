/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{552:function(t,n,e){"use strict";e(577)("link",function(t){return function(n){return t(this,"a","href",n)}})},553:function(t,n,e){var r,o;var c=e(554),f=function(){"use strict";function b(a,b){var t=n.options.cellSize*n._domainType[n.options.subDomain].column(a)+n.options.cellPadding*n._domainType[n.options.subDomain].column(a);return 2===arguments.length&&!0===b?t+=n.domainHorizontalLabelWidth+n.options.domainGutter+n.options.domainMargin[1]+n.options.domainMargin[3]:t}function t(a,b){var t=n.options.cellSize*n._domainType[n.options.subDomain].row(a)+n.options.cellPadding*n._domainType[n.options.subDomain].row(a);return 2===arguments.length&&!0===b&&(t+=n.options.domainGutter+n.domainVerticalLabelHeight+n.options.domainMargin[0]+n.options.domainMargin[2]),t}var n=this;for(var e in this.allowedDataType=["json","csv","tsv","txt"],this.options={itemSelector:"#cal-heatmap",paintOnLoad:!0,range:12,cellSize:10,cellPadding:2,cellRadius:0,domainGutter:2,domainMargin:[0,0,0,0],domain:"hour",subDomain:"min",colLimit:null,rowLimit:null,weekStartOnMonday:!0,start:new Date,minDate:null,maxDate:null,data:"",dataType:this.allowedDataType[0],dataPostPayload:null,considerMissingDataAsZero:!1,loadOnInit:!0,verticalOrientation:!1,domainDynamicDimension:!0,label:{position:"bottom",align:"center",offset:{x:0,y:0},rotate:null,width:100,height:null},legend:[10,20,30,40],displayLegend:!0,legendCellSize:10,legendCellPadding:2,legendMargin:[0,0,0,0],legendVerticalPosition:"bottom",legendHorizontalPosition:"left",legendOrientation:"horizontal",legendColors:null,highlight:[],itemName:["item","items"],domainLabelFormat:null,subDomainTitleFormat:{empty:"{date}",filled:"{count} {name} {connector} {date}"},subDomainDateFormat:null,subDomainTextFormat:null,legendTitleFormat:{lower:"less than {min} {name}",inner:"between {down} and {up} {name}",upper:"more than {max} {name}"},animationDuration:500,nextSelector:!1,previousSelector:!1,itemNamespace:"cal-heatmap",tooltip:!1,onClick:null,afterLoad:null,afterLoadNextDomain:null,afterLoadPreviousDomain:null,onComplete:null,afterLoadData:function(a){return a},onMaxDomainReached:null,onMinDomainReached:null},this._domainType={min:{name:"minute",level:10,maxItemNumber:60,defaultRowNumber:10,defaultColumnNumber:6,row:function(a){return n.getSubDomainRowNumber(a)},column:function(a){return n.getSubDomainColumnNumber(a)},position:{x:function(a){return Math.floor(a.getMinutes()/n._domainType.min.row(a))},y:function(a){return a.getMinutes()%n._domainType.min.row(a)}},format:{date:"%H:%M, %A %B %-e, %Y",legend:"",connector:"at"},extractUnit:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()).getTime()}},hour:{name:"hour",level:20,maxItemNumber:function(a){switch(n.options.domain){case"day":return 24;case"week":return 168;case"month":return 24*(n.options.domainDynamicDimension?n.getDayCountInMonth(a):31)}},defaultRowNumber:6,defaultColumnNumber:function(a){switch(n.options.domain){case"day":return 4;case"week":return 28;case"month":return n.options.domainDynamicDimension?n.getDayCountInMonth(a):31}},row:function(a){return n.getSubDomainRowNumber(a)},column:function(a){return n.getSubDomainColumnNumber(a)},position:{x:function(a){return"month"===n.options.domain?n.options.colLimit>0||n.options.rowLimit>0?Math.floor((a.getHours()+24*(a.getDate()-1))/n._domainType.hour.row(a)):Math.floor(a.getHours()/n._domainType.hour.row(a))+4*(a.getDate()-1):"week"===n.options.domain?n.options.colLimit>0||n.options.rowLimit>0?Math.floor((a.getHours()+24*n.getWeekDay(a))/n._domainType.hour.row(a)):Math.floor(a.getHours()/n._domainType.hour.row(a))+4*n.getWeekDay(a):Math.floor(a.getHours()/n._domainType.hour.row(a))},y:function(a){var b=a.getHours();if(n.options.colLimit>0||n.options.rowLimit>0)switch(n.options.domain){case"month":b+=24*(a.getDate()-1);break;case"week":b+=24*n.getWeekDay(a)}return Math.floor(b%n._domainType.hour.row(a))}},format:{date:"%Hh, %A %B %-e, %Y",legend:"%H:00",connector:"at"},extractUnit:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()).getTime()}},day:{name:"day",level:30,maxItemNumber:function(a){switch(n.options.domain){case"week":return 7;case"month":return n.options.domainDynamicDimension?n.getDayCountInMonth(a):31;case"year":return n.options.domainDynamicDimension?n.getDayCountInYear(a):366}},defaultColumnNumber:function(a){switch(a=new Date(a),n.options.domain){case"week":return 1;case"month":return n.options.domainDynamicDimension&&!n.options.verticalOrientation?n.getWeekNumber(new Date(a.getFullYear(),a.getMonth()+1,0))-n.getWeekNumber(a)+1:6;case"year":return n.options.domainDynamicDimension?n.getWeekNumber(new Date(a.getFullYear(),11,31))-n.getWeekNumber(new Date(a.getFullYear(),0))+1:54}},defaultRowNumber:7,row:function(a){return n.getSubDomainRowNumber(a)},column:function(a){return n.getSubDomainColumnNumber(a)},position:{x:function(a){switch(n.options.domain){case"week":return Math.floor(n.getWeekDay(a)/n._domainType.day.row(a));case"month":return n.options.colLimit>0||n.options.rowLimit>0?Math.floor((a.getDate()-1)/n._domainType.day.row(a)):n.getWeekNumber(a)-n.getWeekNumber(new Date(a.getFullYear(),a.getMonth()));case"year":return n.options.colLimit>0||n.options.rowLimit>0?Math.floor((n.getDayOfYear(a)-1)/n._domainType.day.row(a)):n.getWeekNumber(a)}},y:function(a){var b=n.getWeekDay(a);if(n.options.colLimit>0||n.options.rowLimit>0)switch(n.options.domain){case"year":b=n.getDayOfYear(a)-1;break;case"week":b=n.getWeekDay(a);break;case"month":b=a.getDate()-1}return Math.floor(b%n._domainType.day.row(a))}},format:{date:"%A %B %-e, %Y",legend:"%e %b",connector:"on"},extractUnit:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()}},week:{name:"week",level:40,maxItemNumber:54,defaultColumnNumber:function(a){switch(a=new Date(a),n.options.domain){case"year":return n._domainType.week.maxItemNumber;case"month":return n.options.domainDynamicDimension?n.getWeekNumber(new Date(a.getFullYear(),a.getMonth()+1,0))-n.getWeekNumber(a):5}},defaultRowNumber:1,row:function(a){return n.getSubDomainRowNumber(a)},column:function(a){return n.getSubDomainColumnNumber(a)},position:{x:function(a){switch(n.options.domain){case"year":return Math.floor(n.getWeekNumber(a)/n._domainType.week.row(a));case"month":return Math.floor(n.getMonthWeekNumber(a)/n._domainType.week.row(a))}},y:function(a){return n.getWeekNumber(a)%n._domainType.week.row(a)}},format:{date:"%B Week #%W",legend:"%B Week #%W",connector:"in"},extractUnit:function(a){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=b.getDay()-(n.options.weekStartOnMonday?1:0);return t<0&&(t=6),b.setDate(b.getDate()-t),b.getTime()}},month:{name:"month",level:50,maxItemNumber:12,defaultColumnNumber:12,defaultRowNumber:1,row:function(){return n.getSubDomainRowNumber()},column:function(){return n.getSubDomainColumnNumber()},position:{x:function(a){return Math.floor(a.getMonth()/n._domainType.month.row(a))},y:function(a){return a.getMonth()%n._domainType.month.row(a)}},format:{date:"%B %Y",legend:"%B",connector:"in"},extractUnit:function(a){return new Date(a.getFullYear(),a.getMonth()).getTime()}},year:{name:"year",level:60,row:function(){return n.options.rowLimit||1},column:function(){return n.options.colLimit||1},position:{x:function(){return 1},y:function(){return 1}},format:{date:"%Y",legend:"%Y",connector:"in"},extractUnit:function(a){return new Date(a.getFullYear()).getTime()}}},this._domainType)if(this._domainType.hasOwnProperty(e)){var r=this._domainType[e];this._domainType["x_"+e]={name:"x_"+e,level:r.type,maxItemNumber:r.maxItemNumber,defaultRowNumber:r.defaultRowNumber,defaultColumnNumber:r.defaultColumnNumber,row:r.column,column:r.row,position:{x:r.position.y,y:r.position.x},format:r.format,extractUnit:r.extractUnit}}this.lastInsertedSvg=null,this._completed=!1,this._domains=c.map(),this.graphDim={width:0,height:0},this.legendDim={width:0,height:0},this.NAVIGATE_LEFT=1,this.NAVIGATE_RIGHT=2,this.RESET_ALL_ON_UPDATE=0,this.RESET_SINGLE_ON_UPDATE=1,this.APPEND_ON_UPDATE=2,this.DEFAULT_LEGEND_MARGIN=10,this.root=null,this.tooltip=null,this._maxDomainReached=!1,this._minDomainReached=!1,this.domainPosition=new l,this.Legend=null,this.legendScale=null,this.DSTDomain=[],this._init=function(){return n.getDomain(n.options.start).map(function(a){return a.getTime()}).map(function(a){n._domains.set(a,n.getSubDomain(a).map(function(a){return{t:n._domainType[n.options.subDomain].extractUnit(a),v:null}}))}),n.root=c.select(n.options.itemSelector).append("svg").attr("class","cal-heatmap-container"),n.tooltip=c.select(n.options.itemSelector).attr("style",function(){var a=c.select(n.options.itemSelector).attr("style");return(null!==a?a:"")+"position:relative;"}).append("div").attr("class","ch-tooltip"),n.root.attr("x",0).attr("y",0).append("svg").attr("class","graph"),n.Legend=new h(n),n.options.paintOnLoad&&function(){n.verticalDomainLabel="top"===n.options.label.position||"bottom"===n.options.label.position,n.domainVerticalLabelHeight=null===n.options.label.height?Math.max(25,2*n.options.cellSize):n.options.label.height,n.domainHorizontalLabelWidth=0,""===n.options.domainLabelFormat&&null===n.options.label.height&&(n.domainVerticalLabelHeight=0),n.verticalDomainLabel||(n.domainVerticalLabelHeight=0,n.domainHorizontalLabelWidth=n.options.label.width),n.paint(),!1!==n.options.nextSelector&&c.select(n.options.nextSelector).on("click."+n.options.itemNamespace,function(){return c.event.preventDefault(),n.loadNextDomain(1)}),!1!==n.options.previousSelector&&c.select(n.options.previousSelector).on("click."+n.options.itemNamespace,function(){return c.event.preventDefault(),n.loadPreviousDomain(1)}),n.Legend.redraw(n.graphDim.width-n.options.domainGutter-n.options.cellPadding),n.afterLoad();var a=n.getDomainKeys();n.options.loadOnInit?n.getDatas(n.options.data,new Date(a[0]),n.getSubDomain(a[a.length-1]).pop(),function(){n.fill(),n.onComplete()}):n.onComplete(),n.checkIfMinDomainIsReached(a[0]),n.checkIfMaxDomainIsReached(n.getNextDomain().getTime())}(),!0},this.paint=function(a){function e(b,t,e,r){var g=0;switch(a){case!1:return g=t[e],t[e]+=r,n.domainPosition.setPosition(b,g),g;case n.NAVIGATE_RIGHT:return n.domainPosition.setPosition(b,t[e]),i=r,o=n.domainPosition.getPositionFromIndex(1),n.domainPosition.shiftRightBy(o),t[e];case n.NAVIGATE_LEFT:return i=-(g=-r),o=t[e]-n.domainPosition.getLast(),n.domainPosition.setPosition(b,g),n.domainPosition.shiftLeftBy(i),g}}var g=n.options;0===arguments.length&&(a=!1);var r=n.root.select(".graph").selectAll(".graph-domain").data(function(){var b=n.getDomainKeys();return a===n.NAVIGATE_LEFT?b.reverse():b},function(a){return a}),i=0,o=0,c=r.enter().append("svg").attr("width",function(a){return b(a,!0)}).attr("height",function(a){return t(a,!0)}).attr("x",function(a){return g.verticalOrientation?(n.graphDim.width=Math.max(n.graphDim.width,b(a,!0)),0):e(a,n.graphDim,"width",b(a,!0))}).attr("y",function(a){return g.verticalOrientation?e(a,n.graphDim,"height",t(a,!0)):(n.graphDim.height=Math.max(n.graphDim.height,t(a,!0)),0)}).attr("class",function(a){var b="graph-domain",t=new Date(a);switch(g.domain){case"hour":b+=" h_"+t.getHours();case"day":b+=" d_"+t.getDate()+" dy_"+t.getDay();case"week":b+=" w_"+n.getWeekNumber(t);case"month":b+=" m_"+(t.getMonth()+1);case"year":b+=" y_"+t.getFullYear()}return b});n.lastInsertedSvg=c,c.append("rect").attr("width",function(a){return b(a,!0)-g.domainGutter-g.cellPadding}).attr("height",function(a){return t(a,!0)-g.domainGutter-g.cellPadding}).attr("class","domain-background");var f=c.append("svg").attr("x",function(){return"left"===g.label.position?n.domainHorizontalLabelWidth+g.domainMargin[3]:g.domainMargin[3]}).attr("y",function(){return"top"===g.label.position?n.domainVerticalLabelHeight+g.domainMargin[0]:g.domainMargin[0]}).attr("class","graph-subdomain-group").selectAll("g").data(function(a){return n._domains.get(a)}).enter().append("g");f.append("rect").attr("class",function(a){return"graph-rect"+n.getHighlightClassName(a.t)+(null!==g.onClick?" hover_cursor":"")}).attr("width",g.cellSize).attr("height",g.cellSize).attr("x",function(a){return n.positionSubDomainX(a.t)}).attr("y",function(a){return n.positionSubDomainY(a.t)}).on("click",function(a){if(null!==g.onClick)return n.onClick(new Date(a.t),a.v)}).call(function(a){g.cellRadius>0&&a.attr("rx",g.cellRadius).attr("ry",g.cellRadius),null!==n.legendScale&&null!==g.legendColors&&g.legendColors.hasOwnProperty("base")&&a.attr("fill",g.legendColors.base),g.tooltip&&(a.on("mouseover",function(a){var b=this.parentNode.parentNode;n.tooltip.html(n.getSubDomainTitle(a)).attr("style","display: block;");var t=n.positionSubDomainX(a.t)-n.tooltip[0][0].offsetWidth/2+g.cellSize/2,e=n.positionSubDomainY(a.t)-n.tooltip[0][0].offsetHeight-g.cellSize/2;t+=parseInt(b.getAttribute("x"),10),e+=parseInt(b.getAttribute("y"),10),t+=parseInt(n.root.select(".graph").attr("x"),10),e+=parseInt(n.root.select(".graph").attr("y"),10),t+=parseInt(b.parentNode.getAttribute("x"),10),e+=parseInt(b.parentNode.getAttribute("y"),10),n.tooltip.attr("style","display: block; left: "+t+"px; top: "+e+"px;")}),a.on("mouseout",function(){n.tooltip.attr("style","display:none").html("")}))}),g.tooltip||f.append("title").text(function(a){return n.formatDate(new Date(a.t),g.subDomainDateFormat)}),""!==g.domainLabelFormat&&c.append("text").attr("class","graph-label").attr("y",function(a){var b=g.domainMargin[0];switch(g.label.position){case"top":b+=n.domainVerticalLabelHeight/2;break;case"bottom":b+=t(a)+n.domainVerticalLabelHeight/2}return b+g.label.offset.y*("right"===g.label.rotate&&"right"===g.label.position||"left"===g.label.rotate&&"left"===g.label.position?-1:1)}).attr("x",function(a){var t=g.domainMargin[3];switch(g.label.position){case"right":t+=b(a);break;case"bottom":case"top":t+=b(a)/2}return"right"===g.label.align?t+n.domainHorizontalLabelWidth-g.label.offset.x*("right"===g.label.rotate?-1:1):t+g.label.offset.x}).attr("text-anchor",function(){switch(g.label.align){case"start":case"left":return"start";case"end":case"right":return"end";default:return"middle"}}).attr("dominant-baseline",function(){return n.verticalDomainLabel?"middle":"top"}).text(function(a){return n.formatDate(new Date(a),g.domainLabelFormat)}).call(function(a){switch(g.label.rotate){case"right":a.attr("transform",function(a){var t="rotate(90), ";switch(g.label.position){case"right":t+="translate(-"+b(a)+" , -"+b(a)+")";break;case"left":t+="translate(0, -"+n.domainHorizontalLabelWidth+")"}return t});break;case"left":a.attr("transform",function(a){var t="rotate(270), ";switch(g.label.position){case"right":t+="translate(-"+(b(a)+n.domainHorizontalLabelWidth)+" , "+b(a)+")";break;case"left":t+="translate(-"+n.domainHorizontalLabelWidth+" , "+n.domainHorizontalLabelWidth+")"}return t})}}),null!==g.subDomainTextFormat&&f.append("text").attr("class",function(a){return"subdomain-text"+n.getHighlightClassName(a.t)}).attr("x",function(a){return n.positionSubDomainX(a.t)+g.cellSize/2}).attr("y",function(a){return n.positionSubDomainY(a.t)+g.cellSize/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(a){return n.formatDate(new Date(a.t),g.subDomainTextFormat)}),!1!==a&&r.transition().duration(g.animationDuration).attr("x",function(a){return g.verticalOrientation?0:n.domainPosition.getPosition(a)}).attr("y",function(a){return g.verticalOrientation?n.domainPosition.getPosition(a):0});var l=n.graphDim.width,h=n.graphDim.height;g.verticalOrientation?n.graphDim.height+=i-o:n.graphDim.width+=i-o,r.exit().transition().duration(g.animationDuration).attr("x",function(t){if(g.verticalOrientation)return 0;switch(a){case n.NAVIGATE_LEFT:return Math.min(n.graphDim.width,l);case n.NAVIGATE_RIGHT:return-b(t,!0)}}).attr("y",function(b){if(!g.verticalOrientation)return 0;switch(a){case n.NAVIGATE_LEFT:return Math.min(n.graphDim.height,h);case n.NAVIGATE_RIGHT:return-t(b,!0)}}).remove(),n.resize()}};f.prototype={init:function(a){"use strict";function b(a,b,t){if((b&&!1===a||a instanceof Element||"string"==typeof a)&&""!==a)return!0;throw new Error("The "+t+" is not valid")}function g(a){switch("number"==typeof a&&(a=[a]),Array.isArray(a)||(console.log("Margin only takes an integer or an array of integers"),a=[0]),a.length){case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];case 4:return a;default:return a.slice(0,4)}}var t=this,n=t.options=function t(a,b){for(var n in b)try{b[n].constructor===Object?a[n]=t(a[n],b[n]):a[n]=b[n]}catch(t){a[n]=b[n]}return a}(t.options,a);if(function(){if(!t._domainType.hasOwnProperty(n.domain)||"min"===n.domain||"x_"===n.domain.substring(0,2))throw new Error("The domain '"+n.domain+"' is not valid");if(!t._domainType.hasOwnProperty(n.subDomain)||"year"===n.subDomain)throw new Error("The subDomain '"+n.subDomain+"' is not valid");if(t._domainType[n.domain].level<=t._domainType[n.subDomain].level)throw new Error("'"+n.subDomain+"' is not a valid subDomain to '"+n.domain+"'")}(),b(n.itemSelector,!1,"itemSelector"),-1===t.allowedDataType.indexOf(n.dataType))throw new Error("The data type '"+n.dataType+"' is not valid data type");if(null===c.select(n.itemSelector)[0][0])throw new Error("The node '"+n.itemSelector+"' specified in itemSelector does not exists");try{b(n.nextSelector,!0,"nextSelector"),b(n.previousSelector,!0,"previousSelector")}catch(a){return console.log(a.message),!1}a.hasOwnProperty("subDomain")||(this.options.subDomain=function(a){switch(a){case"year":return"month";case"month":case"week":return"day";case"day":return"hour";default:return"min"}}(a.domain)),"string"==typeof n.itemNamespace&&""!==n.itemNamespace||(console.log("itemNamespace can not be empty, falling back to cal-heatmap"),n.itemNamespace="cal-heatmap");var e=["data","onComplete","onClick","afterLoad","afterLoadData","afterLoadPreviousDomain","afterLoadNextDomain"];for(var r in e)a.hasOwnProperty(e[r])&&(n[e[r]]=a[e[r]]);return n.subDomainDateFormat="string"==typeof n.subDomainDateFormat||"function"==typeof n.subDomainDateFormat?n.subDomainDateFormat:this._domainType[n.subDomain].format.date,n.domainLabelFormat="string"==typeof n.domainLabelFormat||"function"==typeof n.domainLabelFormat?n.domainLabelFormat:this._domainType[n.domain].format.legend,n.subDomainTextFormat="string"==typeof n.subDomainTextFormat&&""!==n.subDomainTextFormat||"function"==typeof n.subDomainTextFormat?n.subDomainTextFormat:null,n.domainMargin=g(n.domainMargin),n.legendMargin=g(n.legendMargin),n.highlight=t.expandDateSetting(n.highlight),n.itemName=function(a){return"string"==typeof a?[a,a+(""!==a?"s":"")]:Array.isArray(a)?1===a.length?[a[0],a[0]+"s"]:a.length>2?a.slice(0,2):a:["item","items"]}(n.itemName),n.colLimit=function(a){return a>0?a:null}(n.colLimit),n.rowLimit=function(a){return a>0&&n.colLimit>0?(console.log("colLimit and rowLimit are mutually exclusive, rowLimit will be ignored"),null):a>0?a:null}(n.rowLimit),a.hasOwnProperty("legendMargin")||function(){switch(n.legendVerticalPosition){case"top":n.legendMargin[2]=t.DEFAULT_LEGEND_MARGIN;break;case"bottom":n.legendMargin[0]=t.DEFAULT_LEGEND_MARGIN;break;case"middle":case"center":n.legendMargin["right"===n.legendHorizontalPosition?3:1]=t.DEFAULT_LEGEND_MARGIN}}(),function(){if(!a.hasOwnProperty("label")||a.hasOwnProperty("label")&&!a.label.hasOwnProperty("align")){switch(n.label.position){case"left":n.label.align="right";break;case"right":n.label.align="left";break;default:n.label.align="center"}"left"===n.label.rotate?n.label.align="right":"right"===n.label.rotate&&(n.label.align="left")}(!a.hasOwnProperty("label")||a.hasOwnProperty("label")&&!a.label.hasOwnProperty("offset"))&&("left"!==n.label.position&&"right"!==n.label.position||(n.label.offset={x:10,y:15}))}(),this._init()},expandDateSetting:function(a){"use strict";return Array.isArray(a)||(a=[a]),a.map(function(a){return"now"===a?new Date:a instanceof Date&&a}).filter(function(a){return!1!==a})},fill:function(a){"use strict";var t=this,n=t.options;0===arguments.length&&(a=t.root.selectAll(".graph-domain"));var e=a.selectAll("svg").selectAll("g").data(function(a){return t._domains.get(a)});e.transition().duration(n.animationDuration).select("rect").attr("class",function(a){var b=t.getHighlightClassName(a.t).trim().split(" "),e=t.dateIsLessThan(a.t,new Date),r=t.dateIsEqual(a.t,new Date);return(null===t.legendScale||null===a.v&&n.hasOwnProperty("considerMissingDataAsZero")&&!n.considerMissingDataAsZero&&!n.legendColors.hasOwnProperty("base"))&&b.push("graph-rect"),r?b.push("now"):e||b.push("future"),null!==a.v?b.push(t.Legend.getClass(a.v,null===t.legendScale)):n.considerMissingDataAsZero&&e&&b.push(t.Legend.getClass(0,null===t.legendScale)),null!==n.onClick&&b.push("hover_cursor"),b.join(" ")}).call(function(a){return null!==t.legendScale&&void a.attr("fill",function(a){return null===a.v&&n.hasOwnProperty("considerMissingDataAsZero")&&!n.considerMissingDataAsZero&&n.legendColors.hasOwnProperty("base")?n.legendColors.base:null!==n.legendColors&&n.legendColors.hasOwnProperty("empty")&&(0===a.v||null===a.v&&n.hasOwnProperty("considerMissingDataAsZero")&&n.considerMissingDataAsZero)?n.legendColors.empty:a.v<0&&n.legend[0]>0&&null!==n.legendColors&&n.legendColors.hasOwnProperty("overflow")?n.legendColors.overflow:t.legendScale(Math.min(a.v,n.legend[n.legend.length-1]))})}),e.transition().duration(n.animationDuration).select("title").text(function(a){return t.getSubDomainTitle(a)}),e.transition().duration(n.animationDuration).select("text").attr("class",function(a){return"subdomain-text"+t.getHighlightClassName(a.t)}).call(function(a){"function"==typeof n.subDomainTextFormat&&a.text(function(a){return n.subDomainTextFormat(a.t,a.v)})})},triggerEvent:function(a,b,t){"use strict";return!!(3===arguments.length&&t||null===this.options[a])||("function"==typeof this.options[a]?("function"==typeof b&&(b=b()),this.options[a].apply(this,b)):(console.log("Provided callback for "+a+" is not a function."),!1))},onClick:function(a,b){"use strict";return this.triggerEvent("onClick",[a,b])},afterLoad:function(){"use strict";return this.triggerEvent("afterLoad")},onComplete:function(){"use strict";var a=this.triggerEvent("onComplete",[],this._completed);return this._completed=!0,a},afterLoadPreviousDomain:function(a){"use strict";var b=this;return this.triggerEvent("afterLoadPreviousDomain",function(){var t=b.getSubDomain(a);return[t.shift(),t.pop()]})},afterLoadNextDomain:function(a){"use strict";var b=this;return this.triggerEvent("afterLoadNextDomain",function(){var t=b.getSubDomain(a);return[t.shift(),t.pop()]})},onMinDomainReached:function(a){"use strict";return this._minDomainReached=a,this.triggerEvent("onMinDomainReached",[a])},onMaxDomainReached:function(a){"use strict";return this._maxDomainReached=a,this.triggerEvent("onMaxDomainReached",[a])},checkIfMinDomainIsReached:function(a,b){"use strict";this.minDomainIsReached(a)&&this.onMinDomainReached(!0),2===arguments.length&&this._maxDomainReached&&!this.maxDomainIsReached(b)&&this.onMaxDomainReached(!1)},checkIfMaxDomainIsReached:function(a,b){"use strict";this.maxDomainIsReached(a)&&this.onMaxDomainReached(!0),2===arguments.length&&this._minDomainReached&&!this.minDomainIsReached(b)&&this.onMinDomainReached(!1)},formatNumber:c.format(",g"),formatDate:function(a,b){"use strict";return arguments.length<2&&(b="title"),"function"==typeof b?b(a):c.time.format(b)(a)},getSubDomainTitle:function(a){"use strict";if(null!==a.v||this.options.considerMissingDataAsZero){var b=a.v;return null===b&&this.options.considerMissingDataAsZero&&(b=0),this.options.subDomainTitleFormat.filled.format({count:this.formatNumber(b),name:this.options.itemName[1!==b?1:0],connector:this._domainType[this.options.subDomain].format.connector,date:this.formatDate(new Date(a.t),this.options.subDomainDateFormat)})}return this.options.subDomainTitleFormat.empty.format({date:this.formatDate(new Date(a.t),this.options.subDomainDateFormat)})},loadNextDomain:function(a){"use strict";if(this._maxDomainReached||0===a)return!1;var b=this.loadNewDomains(this.NAVIGATE_RIGHT,this.getDomain(this.getNextDomain(),a));return this.afterLoadNextDomain(b.end),this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(),b.start),!0},loadPreviousDomain:function(a){"use strict";if(this._minDomainReached||0===a)return!1;var b=this.loadNewDomains(this.NAVIGATE_LEFT,this.getDomain(this.getDomainKeys()[0],-a).reverse());return this.afterLoadPreviousDomain(b.start),this.checkIfMinDomainIsReached(b.start,b.end),!0},loadNewDomains:function(a,b){"use strict";function t(a){return{t:n._domainType[n.options.subDomain].extractUnit(a),v:null}}for(var n=this,e=a===this.NAVIGATE_LEFT,r=-1,g=b.length,o=this.getDomainKeys();++r<g;){if(e&&this.minDomainIsReached(b[r])){b=b.slice(0,r+1);break}if(!e&&this.maxDomainIsReached(b[r])){b=b.slice(0,r);break}}for(r=0,g=(b=b.slice(-this.options.range)).length;r<g;r++)this._domains.set(b[r].getTime(),this.getSubDomain(b[r]).map(t)),this._domains.remove(e?o.pop():o.shift());return o=this.getDomainKeys(),e&&(b=b.reverse()),this.paint(a),this.getDatas(this.options.data,b[0],this.getSubDomain(b[b.length-1]).pop(),function(){n.fill(n.lastInsertedSvg)}),{start:b[e?0:1],end:o[o.length-1]}},maxDomainIsReached:function(a){"use strict";return null!==this.options.maxDate&&this.options.maxDate.getTime()<a},minDomainIsReached:function(a){"use strict";return null!==this.options.minDate&&this.options.minDate.getTime()>=a},getDomainKeys:function(){"use strict";return this._domains.keys().map(function(a){return parseInt(a,10)}).sort(function(a,b){return a-b})},positionSubDomainX:function(a){"use strict";var b=this._domainType[this.options.subDomain].position.x(new Date(a));return b*this.options.cellSize+b*this.options.cellPadding},positionSubDomainY:function(a){"use strict";var b=this._domainType[this.options.subDomain].position.y(new Date(a));return b*this.options.cellSize+b*this.options.cellPadding},getSubDomainColumnNumber:function(a){"use strict";if(this.options.rowLimit>0){var b=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof b&&(b=b(a)),Math.ceil(b/this.options.rowLimit)}var t=this._domainType[this.options.subDomain].defaultColumnNumber;return"function"==typeof t&&(t=t(a)),this.options.colLimit||t},getSubDomainRowNumber:function(a){"use strict";if(this.options.colLimit>0){var b=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof b&&(b=b(a)),Math.ceil(b/this.options.colLimit)}var t=this._domainType[this.options.subDomain].defaultRowNumber;return"function"==typeof t&&(t=t(a)),this.options.rowLimit||t},getHighlightClassName:function(a){"use strict";if(a=new Date(a),this.options.highlight.length>0)for(var b in this.options.highlight)if(this.dateIsEqual(this.options.highlight[b],a))return this.isNow(this.options.highlight[b])?" highlight-now":" highlight";return""},isNow:function(a){"use strict";return this.dateIsEqual(a,new Date)},dateIsEqual:function(a,b){"use strict";switch(a instanceof Date||(a=new Date(a)),b instanceof Date||(b=new Date(b)),this.options.subDomain){case"x_min":case"min":return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()&&a.getHours()===b.getHours()&&a.getMinutes()===b.getMinutes();case"x_hour":case"hour":return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()&&a.getHours()===b.getHours();case"x_day":case"day":return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate();case"x_week":case"week":return a.getFullYear()===b.getFullYear()&&this.getWeekNumber(a)===this.getWeekNumber(b);case"x_month":case"month":return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth();default:return!1}},dateIsLessThan:function(a,b){"use strict";function t(a,b){switch(b){case"x_min":case"min":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()).getTime();case"x_hour":case"hour":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()).getTime();case"x_day":case"day":return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();case"x_week":case"week":case"x_month":case"month":return new Date(a.getFullYear(),a.getMonth()).getTime();default:return a.getTime()}}return a instanceof Date||(a=new Date(a)),b instanceof Date||(b=new Date(b)),t(a,this.options.subDomain)<t(b,this.options.subDomain)},getDayOfYear:c.time.format("%j"),getWeekNumber:function(a){"use strict";return(!0===this.options.weekStartOnMonday?c.time.format("%W"):c.time.format("%U"))(a)},getMonthWeekNumber:function(a){"use strict";"number"==typeof a&&(a=new Date(a));var b=this.getWeekNumber(new Date(a.getFullYear(),a.getMonth()));return this.getWeekNumber(a)-b-1},getWeekNumberInYear:function(a){"use strict";"number"==typeof a&&(a=new Date(a))},getDayCountInMonth:function(a){"use strict";return this.getEndOfMonth(a).getDate()},getDayCountInYear:function(a){"use strict";return"number"==typeof a&&(a=new Date(a)),1===new Date(a.getFullYear(),1,29).getMonth()?366:365},getWeekDay:function(a){"use strict";return!1===this.options.weekStartOnMonday?a.getDay():0===a.getDay()?6:a.getDay()-1},getEndOfMonth:function(a){"use strict";return"number"==typeof a&&(a=new Date(a)),new Date(a.getFullYear(),a.getMonth()+1,0)},jumpDate:function(a,b,t){"use strict";var n=new Date(a);switch(t){case"hour":n.setHours(n.getHours()+b);break;case"day":n.setHours(n.getHours()+24*b);break;case"week":n.setHours(n.getHours()+24*b*7);break;case"month":n.setMonth(n.getMonth()+b);break;case"year":n.setFullYear(n.getFullYear()+b)}return new Date(n)},getMinuteDomain:function(a,b){"use strict";var t,n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours());return t=b instanceof Date?new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours()):new Date(+n+1e3*b*60),c.time.minutes(Math.min(n,t),Math.max(n,t))},getHourDomain:function(a,b){"use strict";var t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()),n=null;b instanceof Date?n=new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours()):(n=new Date(t)).setHours(n.getHours()+b);var e=c.time.hours(Math.min(t,n),Math.max(t,n)),r=0,g=e.length;for(r=0;r<g;r++)if(r>0&&e[r].getHours()===e[r-1].getHours()){this.DSTDomain.push(e[r].getTime()),e.splice(r,1);break}return"number"==typeof b&&e.length>Math.abs(b)&&e.splice(e.length-1,1),e},getDayDomain:function(a,b){"use strict";var t=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=null;return b instanceof Date?n=new Date(b.getFullYear(),b.getMonth(),b.getDate()):(n=new Date(t),n=new Date(n.setDate(n.getDate()+parseInt(b,10)))),c.time.days(Math.min(t,n),Math.max(t,n))},getWeekDomain:function(a,b){"use strict";var t;!1===this.options.weekStartOnMonday?t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()):1===a.getDay()?t=new Date(a.getFullYear(),a.getMonth(),a.getDate()):0===a.getDay()?(t=new Date(a.getFullYear(),a.getMonth(),a.getDate())).setDate(t.getDate()-6):t=new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()+1);var n=new Date(t),e=b;return"object"!=typeof b&&(e=new Date(n.setDate(n.getDate()+7*b))),!0===this.options.weekStartOnMonday?c.time.mondays(Math.min(t,e),Math.max(t,e)):c.time.sundays(Math.min(t,e),Math.max(t,e))},getMonthDomain:function(a,b){"use strict";var t=new Date(a.getFullYear(),a.getMonth()),n=null;return b instanceof Date?n=new Date(b.getFullYear(),b.getMonth()):n=(n=new Date(t)).setMonth(n.getMonth()+b),c.time.months(Math.min(t,n),Math.max(t,n))},getYearDomain:function(a,b){"use strict";var t,n=new Date(a.getFullYear(),0);return t=b instanceof Date?new Date(b.getFullYear(),0):new Date(a.getFullYear()+b,0),c.time.years(Math.min(n,t),Math.max(n,t))},getDomain:function(a,b){"use strict";switch("number"==typeof a&&(a=new Date(a)),arguments.length<2&&(b=this.options.range),this.options.domain){case"hour":var t=this.getHourDomain(a,b);return"number"==typeof b&&t.length<b&&(b>0?t.push(this.getHourDomain(t[t.length-1],2)[1]):t.shift(this.getHourDomain(t[0],-2)[0])),t;case"day":return this.getDayDomain(a,b);case"week":return this.getWeekDomain(a,b);case"month":return this.getMonthDomain(a,b);case"year":return this.getYearDomain(a,b)}},getSubDomain:function(a){"use strict";"number"==typeof a&&(a=new Date(a));var b=this;switch(this.options.subDomain){case"x_min":case"min":return this.getMinuteDomain(a,function(a,b){switch(b){case"hour":return 60;case"day":return 1440;case"week":return 10080}}(0,this.options.domain));case"x_hour":case"hour":return this.getHourDomain(a,function(a,t){switch(t){case"day":return 24;case"week":return 168;case"month":return 24*b.getDayCountInMonth(a)}}(a,this.options.domain));case"x_day":case"day":return this.getDayDomain(a,function(a,t){switch(t){case"year":return b.getDayCountInYear(a);case"month":return b.getDayCountInMonth(a);case"week":return 7}}(a,this.options.domain));case"x_week":case"week":return this.getWeekDomain(a,function(a,t){if("month"===t){var n=new Date(a.getFullYear(),a.getMonth()+1,0),e=b.getWeekNumber(n),r=b.getWeekNumber(new Date(a.getFullYear(),a.getMonth()));return r>e&&(r=0,e++),e-r+1}if("year"===t)return b.getWeekNumber(new Date(a.getFullYear(),11,31))}(a,this.options.domain));case"x_month":case"month":return this.getMonthDomain(a,12)}},getNextDomain:function(a){"use strict";return 0===arguments.length&&(a=1),this.getDomain(this.jumpDate(this.getDomainKeys().pop(),a,this.options.domain),1)[0]},getPreviousDomain:function(a){"use strict";return 0===arguments.length&&(a=1),this.getDomain(this.jumpDate(this.getDomainKeys().shift(),-a,this.options.domain),1)[0]},getDatas:function(a,b,t,n,e,r){"use strict";var g=this;arguments.length<5&&(e=!0),arguments.length<6&&(r=this.APPEND_ON_UPDATE);var o=function(a){!1!==e?"function"==typeof e?a=e(a):"function"==typeof g.options.afterLoadData?a=g.options.afterLoadData(a):console.log("Provided callback for afterLoadData is not a function."):"csv"!==g.options.dataType&&"tsv"!==g.options.dataType||(a=this.interpretCSV(a)),g.parseDatas(a,r,b,t),"function"==typeof n&&n()};switch(typeof a){case"string":if(""===a)return o({}),!0;var i=this.parseURI(a,b,t),f="GET";null!==g.options.dataPostPayload&&(f="POST");var l=null;switch(null!==g.options.dataPostPayload&&(l=this.parseURI(g.options.dataPostPayload,b,t)),this.options.dataType){case"json":c.json(i,o).send(f,l);break;case"csv":c.csv(i,o).send(f,l);break;case"tsv":c.tsv(i,o).send(f,l);break;case"txt":c.text(i,"text/plain",o).send(f,l)}return!1;case"object":if(a===Object(a))return o(a),!1;default:return o({}),!0}},parseDatas:function(a,b,t,n){"use strict";b===this.RESET_ALL_ON_UPDATE&&this._domains.forEach(function(a,b){b.forEach(function(a,b,t){t[b].v=null})});var e={},r=function(a){return a.t};for(var g in a){var o=new Date(1e3*g),i=this.getDomain(o)[0].getTime();if(this.DSTDomain.indexOf(i)>=0&&this._domains.has(i-36e5)&&(i-=36e5),!isNaN(g)&&a.hasOwnProperty(g)&&this._domains.has(i)&&i>=+t&&i<+n){var c=this._domains.get(i);e.hasOwnProperty(i)||(e[i]=c.map(r));var f=e[i].indexOf(this._domainType[this.options.subDomain].extractUnit(o));b===this.RESET_SINGLE_ON_UPDATE?c[f].v=a[g]:isNaN(c[f].v)?c[f].v=a[g]:c[f].v+=a[g]}}},parseURI:function(a,b,t){"use strict";return(a=(a=(a=a.replace(/\{\{t:start\}\}/g,b.getTime()/1e3)).replace(/\{\{t:end\}\}/g,t.getTime()/1e3)).replace(/\{\{d:start\}\}/g,b.toISOString())).replace(/\{\{d:end\}\}/g,t.toISOString())},interpretCSV:function(a){"use strict";var b,t,n={},e=Object.keys(a[0]);for(b=0,t=a.length;b<t;b++)n[a[b][e[0]]]=+a[b][e[1]];return n},resize:function(){"use strict";var a=this,b=a.options,t=b.displayLegend?a.Legend.getDim("width")+b.legendMargin[1]+b.legendMargin[3]:0,n=b.displayLegend?a.Legend.getDim("height")+b.legendMargin[0]+b.legendMargin[2]:0,e=a.graphDim.width-b.domainGutter-b.cellPadding,r=a.graphDim.height-b.domainGutter-b.cellPadding;this.root.transition().duration(b.animationDuration).attr("width",function(){return"middle"===b.legendVerticalPosition||"center"===b.legendVerticalPosition?e+t:Math.max(e,t)}).attr("height",function(){return"middle"===b.legendVerticalPosition||"center"===b.legendVerticalPosition?Math.max(r,n):r+n}),this.root.select(".graph").transition().duration(b.animationDuration).attr("y",function(){return"top"===b.legendVerticalPosition?n:0}).attr("x",function(){return"middle"!==b.legendVerticalPosition&&"center"!==b.legendVerticalPosition||"left"!==b.legendHorizontalPosition?0:t})},next:function(a){"use strict";return 0===arguments.length&&(a=1),this.loadNextDomain(a)},previous:function(a){"use strict";return 0===arguments.length&&(a=1),this.loadPreviousDomain(a)},jumpTo:function(a,b){"use strict";arguments.length<2&&(b=!1);var t=this.getDomainKeys(),n=t[0],e=t[t.length-1];return a<n?this.loadPreviousDomain(this.getDomain(n,a).length):b?this.loadNextDomain(this.getDomain(n,a).length):a>e&&this.loadNextDomain(this.getDomain(e,a).length)},rewind:function(){"use strict";this.jumpTo(this.options.start,!0)},update:function(a,b,t){"use strict";arguments.length<2&&(b=!0),arguments.length<3&&(t=this.RESET_ALL_ON_UPDATE);var n=this.getDomainKeys(),e=this;this.getDatas(a,new Date(n[0]),this.getSubDomain(n[n.length-1]).pop(),function(){e.fill()},b,t)},setLegend:function(){"use strict";var a=this.options.legend.slice(0);arguments.length>=1&&Array.isArray(arguments[0])&&(this.options.legend=arguments[0]),arguments.length>=2&&(Array.isArray(arguments[1])&&arguments[1].length>=2?this.options.legendColors=[arguments[1][0],arguments[1][1]]:this.options.legendColors=arguments[1]),(arguments.length>0&&!function t(a,b){if(!b||!a)return!1;if(a.length!==b.length)return!1;for(var n=0;n<a.length;n++)if(a[n]instanceof Array&&b[n]instanceof Array){if(!t(a[n],b[n]))return!1}else if(a[n]!==b[n])return!1;return!0}(a,this.options.legend)||arguments.length>=2)&&(this.Legend.buildColors(),this.fill()),this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding)},removeLegend:function(){"use strict";return!!this.options.displayLegend&&(this.options.displayLegend=!1,this.Legend.remove(),!0)},showLegend:function(){"use strict";return!this.options.displayLegend&&(this.options.displayLegend=!0,this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding),!0)},highlight:function(a){"use strict";return(this.options.highlight=this.expandDateSetting(a)).length>0&&(this.fill(),!0)},destroy:function(a){"use strict";return this.root.transition().duration(this.options.animationDuration).attr("width",0).attr("height",0).remove().each("end",function(){"function"==typeof a?a():void 0!==a&&console.log("Provided callback for destroy() is not a function.")}),null},getSVG:function(){"use strict";for(var a={".cal-heatmap-container":{},".graph":{},".graph-rect":{},"rect.highlight":{},"rect.now":{},"rect.highlight-now":{},"text.highlight":{},"text.now":{},"text.highlight-now":{},".domain-background":{},".graph-label":{},".subdomain-text":{},".q0":{},".qi":{}},b=1,t=this.options.legend.length+1;b<=t;b++)a[".q"+b]={};var n=this.root,e=["stroke","stroke-width","stroke-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-miterlimit","fill","fill-opacity","fill-rule","marker","marker-start","marker-mid","marker-end","alignement-baseline","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","shape-rendering","text-transform","font-family","font","font-size","font-weight"],r=function(b,t,n){-1!==e.indexOf(t)&&(a[b][t]=n)},g=function(a){return n.select(a)[0][0]};for(var o in a)if(a.hasOwnProperty(o)){var i=g(o);if(null!==i)if("getComputedStyle"in window){var c=getComputedStyle(i,null);if(0!==c.length)for(var f=0;f<c.length;f++)r(o,c.item(f),c.getPropertyValue(c.item(f)));else for(var l in c)c.hasOwnProperty(l)&&r(o,l,c[l])}else if("currentStyle"in i){var h=i.currentStyle;for(var d in h)r(o,d,h[d])}}var v='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"><![CDATA[ ';for(var p in a){for(var q in v+=p+" {\n",a[p])v+="\t"+q+":"+a[p][q]+";\n";v+="}\n"}return v+="]]></style>",(v+=(new XMLSerializer).serializeToString(this.root[0][0]))+"</svg>"}};var l=function(){"use strict";this.positions=c.map()};l.prototype.getPosition=function(a){"use strict";return this.positions.get(a)},l.prototype.getPositionFromIndex=function(a){"use strict";var b=this.getKeys();return this.positions.get(b[a])},l.prototype.getLast=function(){"use strict";var a=this.getKeys();return this.positions.get(a[a.length-1])},l.prototype.setPosition=function(a,b){"use strict";this.positions.set(a,b)},l.prototype.shiftRightBy=function(a){"use strict";this.positions.forEach(function(b,t){this.set(b,t-a)});var b=this.getKeys();this.positions.remove(b[0])},l.prototype.shiftLeftBy=function(a){"use strict";this.positions.forEach(function(b,t){this.set(b,t+a)});var b=this.getKeys();this.positions.remove(b[b.length-1])},l.prototype.getKeys=function(){"use strict";return this.positions.keys().sort(function(a,b){return parseInt(a,10)-parseInt(b,10)})};var h=function(a){"use strict";this.calendar=a,this.computeDim(),null!==a.options.legendColors&&this.buildColors()};h.prototype.computeDim=function(){"use strict";var a=this.calendar.options;this.dim={width:a.legendCellSize*(a.legend.length+1)+a.legendCellPadding*a.legend.length,height:a.legendCellSize}},h.prototype.remove=function(){"use strict";this.calendar.root.select(".graph-legend").remove(),this.calendar.resize()},h.prototype.redraw=function(a){"use strict";function b(a){a.attr("width",i.legendCellSize).attr("height",i.legendCellSize).attr("x",function(a,b){return b*(i.legendCellSize+i.legendCellPadding)})}function t(){switch(i.legendHorizontalPosition){case"right":return"center"===i.legendVerticalPosition||"middle"===i.legendVerticalPosition?a+i.legendMargin[3]:a-r.getDim("width")-i.legendMargin[1];case"middle":case"center":return Math.round(a/2-r.getDim("width")/2);default:return i.legendMargin[3]}}function n(){return"bottom"===i.legendVerticalPosition?g.graphDim.height+i.legendMargin[0]-i.domainGutter-i.cellPadding:i.legendMargin[0]}if(!this.calendar.options.displayLegend)return!1;var e,r=this,g=this.calendar,o=g.root,i=g.options;this.computeDim();var c=i.legend.slice(0);c.push(c[c.length-1]+1);var f=g.root.select(".graph-legend");null!==f[0][0]?e=(o=f).select("g").selectAll("rect").data(c):((o="top"===i.legendVerticalPosition?o.insert("svg",".graph"):o.append("svg")).attr("x",t()).attr("y",n()),e=o.attr("class","graph-legend").attr("height",r.getDim("height")).attr("width",r.getDim("width")).append("g").selectAll().data(c)),e.enter().append("rect").call(b).attr("class",function(a){return g.Legend.getClass(a,null===g.legendScale)}).attr("fill-opacity",0).call(function(a){null!==g.legendScale&&null!==i.legendColors&&i.legendColors.hasOwnProperty("base")&&a.attr("fill",i.legendColors.base)}).append("title"),e.exit().transition().duration(i.animationDuration).attr("fill-opacity",0).remove(),e.transition().delay(function(a,b){return i.animationDuration*b/10}).call(b).attr("fill-opacity",1).call(function(a){a.attr("fill",function(a,b){return null===g.legendScale?"":0===b?g.legendScale(a-1):g.legendScale(i.legend[b-1])}),a.attr("class",function(a){return g.Legend.getClass(a,null===g.legendScale)})}),e.select("title").text(function(a,b){return 0===b?i.legendTitleFormat.lower.format({min:i.legend[b],name:i.itemName[1]}):b===c.length-1?i.legendTitleFormat.upper.format({max:i.legend[b-1],name:i.itemName[1]}):i.legendTitleFormat.inner.format({down:i.legend[b-1],up:i.legend[b],name:i.itemName[1]})}),o.transition().duration(i.animationDuration).attr("x",t()).attr("y",n()).attr("width",r.getDim("width")).attr("height",r.getDim("height")),o.select("g").transition().duration(i.animationDuration).attr("transform",function(){return"vertical"===i.legendOrientation?"rotate(90 "+i.legendCellSize/2+" "+i.legendCellSize/2+")":""}),g.resize()},h.prototype.getDim=function(a){"use strict";var b="horizontal"===this.calendar.options.legendOrientation;switch(a){case"width":return this.dim[b?"width":"height"];case"height":return this.dim[b?"height":"width"]}},h.prototype.buildColors=function(){"use strict";var a=this.calendar.options;if(null===a.legendColors)return this.calendar.legendScale=null,!1;var b=[];if(Array.isArray(a.legendColors))b=a.legendColors;else{if(!a.legendColors.hasOwnProperty("min")||!a.legendColors.hasOwnProperty("max"))return a.legendColors=null,!1;b=[a.legendColors.min,a.legendColors.max]}var t=a.legend.slice(0);t[0]>0?t.unshift(0):t[0]<0&&t.unshift(t[0]-(t[t.length-1]-t[0])/t.length);var n=c.scale.linear().range(b).interpolate(c.interpolateHcl).domain([c.min(t),c.max(t)]),e=t.map(function(a){return n(a)});return this.calendar.legendScale=c.scale.threshold().domain(a.legend).range(e),!0},h.prototype.getClass=function(a,b){"use strict";if(null===a||isNaN(a))return"";for(var t=[this.calendar.options.legend.length+1],n=0,e=this.calendar.options.legend.length-1;n<=e;n++){if(this.calendar.options.legend[0]>0&&a<0){t=["1","i"];break}if(a<=this.calendar.options.legend[n]){t=[n+1];break}}return 0===a&&t.push(0),t.unshift(""),(t.join(" r")+(b?t.join(" q"):"")).trim()},String.prototype.format=function(){"use strict";var a=this;for(var b in arguments[0])if(arguments[0].hasOwnProperty(b)){var t=new RegExp("\\{"+b+"\\}","gi");a=a.replace(t,arguments[0][b])}return a},r=[e(554)],void 0===(o=function(){"use strict";return f}.apply(n,r))||(t.exports=o)},554:function(t,n,e){var r,o;!function(){var c={version:"3.5.17"},f=[].slice,l=function(t){return f.call(t)},h=this.document;function d(t){return t&&(t.ownerDocument||t.document||t).documentElement}function v(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(h)try{l(h.documentElement.childNodes)[0].nodeType}catch(t){l=function(t){for(var i=t.length,n=new Array(i);i--;)n[i]=t[i];return n}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var m=this.Element.prototype,y=m.setAttribute,_=m.setAttributeNS,x=this.CSSStyleDeclaration.prototype,w=x.setProperty;m.setAttribute=function(t,n){y.call(this,t,n+"")},m.setAttributeNS=function(t,n,e){_.call(this,t,n,e+"")},x.setProperty=function(t,n,e){w.call(this,t,n+"",e)}}function M(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function D(t){return null===t?NaN:+t}function N(t){return!isNaN(t)}function k(t){return{left:function(a,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=a.length);e<r;){var o=e+r>>>1;t(a[o],n)<0?e=o+1:r=o}return e},right:function(a,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=a.length);e<r;){var o=e+r>>>1;t(a[o],n)>0?r=o:e=o+1}return e}}}c.ascending=M,c.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},c.min=function(t,n){var a,b,i=-1,e=t.length;if(1===arguments.length){for(;++i<e;)if(null!=(b=t[i])&&b>=b){a=b;break}for(;++i<e;)null!=(b=t[i])&&a>b&&(a=b)}else{for(;++i<e;)if(null!=(b=n.call(t,t[i],i))&&b>=b){a=b;break}for(;++i<e;)null!=(b=n.call(t,t[i],i))&&a>b&&(a=b)}return a},c.max=function(t,n){var a,b,i=-1,e=t.length;if(1===arguments.length){for(;++i<e;)if(null!=(b=t[i])&&b>=b){a=b;break}for(;++i<e;)null!=(b=t[i])&&b>a&&(a=b)}else{for(;++i<e;)if(null!=(b=n.call(t,t[i],i))&&b>=b){a=b;break}for(;++i<e;)null!=(b=n.call(t,t[i],i))&&b>a&&(a=b)}return a},c.extent=function(t,n){var a,b,e,i=-1,r=t.length;if(1===arguments.length){for(;++i<r;)if(null!=(b=t[i])&&b>=b){a=e=b;break}for(;++i<r;)null!=(b=t[i])&&(a>b&&(a=b),e<b&&(e=b))}else{for(;++i<r;)if(null!=(b=n.call(t,t[i],i))&&b>=b){a=e=b;break}for(;++i<r;)null!=(b=n.call(t,t[i],i))&&(a>b&&(a=b),e<b&&(e=b))}return[a,e]},c.sum=function(t,n){var a,s=0,e=t.length,i=-1;if(1===arguments.length)for(;++i<e;)N(a=+t[i])&&(s+=a);else for(;++i<e;)N(a=+n.call(t,t[i],i))&&(s+=a);return s},c.mean=function(t,n){var a,s=0,e=t.length,i=-1,r=e;if(1===arguments.length)for(;++i<e;)N(a=D(t[i]))?s+=a:--r;else for(;++i<e;)N(a=D(n.call(t,t[i],i)))?s+=a:--r;if(r)return s/r},c.quantile=function(t,p){var n=(t.length-1)*p+1,e=Math.floor(n),r=+t[e-1],o=n-e;return o?r+o*(t[e]-r):r},c.median=function(t,n){var a,e=[],r=t.length,i=-1;if(1===arguments.length)for(;++i<r;)N(a=D(t[i]))&&e.push(a);else for(;++i<r;)N(a=D(n.call(t,t[i],i)))&&e.push(a);if(e.length)return c.quantile(e.sort(M),.5)},c.variance=function(t,n){var a,e,r=t.length,o=0,s=0,i=-1,c=0;if(1===arguments.length)for(;++i<r;)N(a=D(t[i]))&&(s+=(e=a-o)*(a-(o+=e/++c)));else for(;++i<r;)N(a=D(n.call(t,t[i],i)))&&(s+=(e=a-o)*(a-(o+=e/++c)));if(c>1)return s/(c-1)},c.deviation=function(){var t=c.variance.apply(this,arguments);return t?Math.sqrt(t):t};var S=k(M);function T(t){return t.length}c.bisectLeft=S.left,c.bisect=c.bisectRight=S.right,c.bisector=function(t){return k(1===t.length?function(n,e){return M(t(n),e)}:t)},c.shuffle=function(t,n,e){(o=arguments.length)<3&&(e=t.length,o<2&&(n=0));for(var r,i,o=e-n;o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},c.permute=function(t,n){for(var i=n.length,e=new Array(i);i--;)e[i]=t[n[i]];return e},c.pairs=function(t){for(var i=0,n=t.length-1,e=t[0],r=new Array(n<0?0:n);i<n;)r[i]=[e,e=t[++i]];return r},c.transpose=function(t){if(!(r=t.length))return[];for(var i=-1,n=c.min(t,T),e=new Array(n);++i<n;)for(var r,o=-1,f=e[i]=new Array(r);++o<r;)f[o]=t[o][i];return e},c.zip=function(){return c.transpose(arguments)},c.keys=function(map){var t=[];for(var n in map)t.push(n);return t},c.values=function(map){var t=[];for(var n in map)t.push(map[n]);return t},c.entries=function(map){var t=[];for(var n in map)t.push({key:n,value:map[n]});return t},c.merge=function(t){for(var n,e,r,o=t.length,i=-1,c=0;++i<o;)c+=t[i].length;for(e=new Array(c);--o>=0;)for(n=(r=t[o]).length;--n>=0;)e[--c]=r[n];return e};var C=Math.abs;function A(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function E(){this._=Object.create(null)}c.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,o=[],c=function(t){var n=1;for(;t*n%1;)n*=10;return n}(C(e)),i=-1;if(t*=c,n*=c,(e*=c)<0)for(;(r=t+e*++i)>n;)o.push(r/c);else for(;(r=t+e*++i)<n;)o.push(r/c);return o},c.map=function(object,t){var map=new E;if(object instanceof E)object.forEach(function(t,n){map.set(t,n)});else if(Array.isArray(object)){var n,i=-1,e=object.length;if(1===arguments.length)for(;++i<e;)map.set(i,object[i]);else for(;++i<e;)map.set(t.call(object,n=object[i],i),n)}else for(var r in object)map.set(r,object[r]);return map};var L="__proto__",P="\0";function R(t){return(t+="")===L||t[0]===P?P+t:t}function F(t){return(t+="")[0]===P?t.slice(1):t}function U(t){return R(t)in this._}function z(t){return(t=R(t))in this._&&delete this._[t]}function I(){var t=[];for(var n in this._)t.push(F(n));return t}function Y(){var t=0;for(var n in this._)++t;return t}function H(){for(var t in this._)return!1;return!0}function O(){this._=Object.create(null)}function j(t){return t}function V(t,source,n){return function(){var e=n.apply(source,arguments);return e===source?t:e}}function W(object,t){if(t in object)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var i=0,n=Z.length;i<n;++i){var e=Z[i]+t;if(e in object)return e}}A(E,{has:U,get:function(t){return this._[R(t)]},set:function(t,n){return this._[R(t)]=n},remove:z,keys:I,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:F(n),value:this._[n]});return t},size:Y,empty:H,forEach:function(t){for(var n in this._)t.call(this,F(n),this._[n])}}),c.nest=function(){var t,n,e={},r=[],o=[];function map(o,c,f){if(f>=r.length)return n?n.call(e,c):t?c.sort(t):c;for(var l,object,h,d,i=-1,v=c.length,m=r[f++],y=new E;++i<v;)(d=y.get(l=m(object=c[i])))?d.push(object):y.set(l,[object]);return o?(object=o(),h=function(t,n){object.set(t,map(o,n,f))}):(object={},h=function(t,n){object[t]=map(o,n,f)}),y.forEach(h),object}return e.map=function(t,n){return map(n,t,0)},e.entries=function(t){return function t(map,n){if(n>=r.length)return map;var e=[],c=o[n++];return map.forEach(function(r,o){e.push({key:r,values:t(o,n)})}),c?e.sort(function(a,b){return c(a.key,b.key)}):e}(map(c.map,t,0),0)},e.key=function(t){return r.push(t),e},e.sortKeys=function(t){return o[r.length-1]=t,e},e.sortValues=function(n){return t=n,e},e.rollup=function(t){return n=t,e},e},c.set=function(t){var n=new O;if(t)for(var i=0,e=t.length;i<e;++i)n.add(t[i]);return n},A(O,{has:U,add:function(t){return this._[R(t+="")]=!0,t},remove:z,values:I,size:Y,empty:H,forEach:function(t){for(var n in this._)t.call(this,F(n))}}),c.behavior={},c.rebind=function(t,source){for(var n,i=1,e=arguments.length;++i<e;)t[n=arguments[i]]=V(t,source,source[n]);return t};var Z=["webkit","ms","moz","Moz","o","O"];function X(){}function G(){}function B(t){var n=[],e=new E;function r(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}return r.on=function(r,o){var i,c=e.get(r);return arguments.length<2?c&&c.on:(c&&(c.on=null,n=n.slice(0,i=n.indexOf(c)).concat(n.slice(i+1)),e.remove(r)),o&&n.push(e.set(r,{on:o})),t)},r}function $(){c.event.preventDefault()}function K(){for(var s,t=c.event;s=t.sourceEvent;)t=s;return t}function J(t){for(var n=new G,i=0,e=arguments.length;++i<e;)n[arguments[i]]=B(n);return n.of=function(e,r){return function(o){try{var f=o.sourceEvent=c.event;o.target=t,c.event=o,n[o.type].apply(e,r)}finally{c.event=f}}},n}c.dispatch=function(){for(var t=new G,i=-1,n=arguments.length;++i<n;)t[arguments[i]]=B(t);return t},G.prototype.on=function(t,n){var i=t.indexOf("."),e="";if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(e):this[t].on(e,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(e,null);return this}},c.event=null,c.requote=function(s){return s.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,tt={}.__proto__?function(object,t){object.__proto__=t}:function(object,t){for(var n in t)object[n]=t[n]};function nt(t){return tt(t,ot),t}var et=function(s,t){return t.querySelector(s)},it=function(s,t){return t.querySelectorAll(s)},at=function(t,s){var n=t.matches||t[W(t,"matchesSelector")];return(at=function(t,s){return n.call(t,s)})(t,s)};"function"==typeof Sizzle&&(et=function(s,t){return Sizzle(s,t)[0]||null},it=Sizzle,at=Sizzle.matchesSelector),c.selection=function(){return c.select(h.documentElement)};var ot=c.selection.prototype=[];function ut(t){return"function"==typeof t?t:function(){return et(t,this)}}function ct(t){return"function"==typeof t?t:function(){return it(t,this)}}ot.select=function(t){var n,e,r,o,c=[];t=ut(t);for(var f=-1,l=this.length;++f<l;){c.push(n=[]),n.parentNode=(r=this[f]).parentNode;for(var i=-1,h=r.length;++i<h;)(o=r[i])?(n.push(e=t.call(o,o.__data__,i,f)),e&&"__data__"in o&&(e.__data__=o.__data__)):n.push(null)}return nt(c)},ot.selectAll=function(t){var n,e,r=[];t=ct(t);for(var o=-1,c=this.length;++o<c;)for(var f=this[o],i=-1,h=f.length;++i<h;)(e=f[i])&&(r.push(n=l(t.call(e,e.__data__,i,o))),n.parentNode=e);return nt(r)};var st="http://www.w3.org/1999/xhtml",ft={svg:"http://www.w3.org/2000/svg",xhtml:st,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lt(t,n){return t=c.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function ht(s){return s.trim().replace(/\s+/g," ")}function pt(t){return new RegExp("(?:^|\\s+)"+c.requote(t)+"(?:\\s+|$)","g")}function gt(t){return(t+"").trim().split(/^|\s+/)}function vt(t,n){var e=(t=gt(t).map(mt)).length;return"function"==typeof n?function(){for(var i=-1,r=n.apply(this,arguments);++i<e;)t[i](this,r)}:function(){for(var i=-1;++i<e;)t[i](this,n)}}function mt(t){var n=pt(t);return function(e,r){if(o=e.classList)return r?o.add(t):o.remove(t);var o=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(o)||e.setAttribute("class",ht(o+" "+t))):e.setAttribute("class",ht(o.replace(n," ")))}}function yt(t,n,e){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}:function(){this.style.setProperty(t,n,e)}}function bt(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function _t(t){return"function"==typeof t?t:(t=c.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var n=this.ownerDocument,e=this.namespaceURI;return e===st&&n.documentElement.namespaceURI===st?n.createElement(t):n.createElementNS(e,t)}}function xt(){var t=this.parentNode;t&&t.removeChild(this)}function wt(data){return{__data__:data}}function Mt(t){return function(){return at(this,t)}}function Dt(t,n){for(var e=0,r=t.length;e<r;e++)for(var o,c=t[e],i=0,f=c.length;i<f;i++)(o=c[i])&&n(o,i,e);return t}function Nt(t){return tt(t,kt),t}c.ns={prefix:ft,qualify:function(t){var i=t.indexOf(":"),n=t;return i>=0&&"xmlns"!==(n=t.slice(0,i))&&(t=t.slice(i+1)),ft.hasOwnProperty(n)?{space:ft[n],local:t}:t}},ot.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=c.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(lt(n,t[n]));return this}return this.each(lt(t,n))},ot.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=gt(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!pt(t[i]).test(n))return!1;return!0}for(n in t)this.each(vt(n,t[n]));return this}return this.each(vt(t,n))},ot.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each(yt(e,t[e],n));return this}if(r<2){var o=this.node();return v(o).getComputedStyle(o,null).getPropertyValue(t)}e=""}return this.each(yt(t,n,e))},ot.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(bt(n,t[n]));return this}return this.each(bt(t,n))},ot.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ot.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ot.append=function(t){return t=_t(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ot.insert=function(t,n){return t=_t(t),n=ut(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},ot.remove=function(){return this.each(xt)},ot.data=function(t,n){var e,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(r=e[i])&&(t[i]=r.__data__);return t}function c(t,e){var i,r,o,c=t.length,d=e.length,v=Math.min(c,d),m=new Array(d),y=new Array(d),_=new Array(c);if(n){var x,w=new E,M=new Array(c);for(i=-1;++i<c;)(r=t[i])&&(w.has(x=n.call(r,r.__data__,i))?_[i]=r:w.set(x,r),M[i]=x);for(i=-1;++i<d;)(r=w.get(x=n.call(e,o=e[i],i)))?!0!==r&&(m[i]=r,r.__data__=o):y[i]=wt(o),w.set(x,!0);for(i=-1;++i<c;)i in M&&!0!==w.get(M[i])&&(_[i]=t[i])}else{for(i=-1;++i<v;)r=t[i],o=e[i],r?(r.__data__=o,m[i]=r):y[i]=wt(o);for(;i<d;++i)y[i]=wt(e[i]);for(;i<c;++i)_[i]=t[i]}y.update=m,y.parentNode=m.parentNode=_.parentNode=t.parentNode,f.push(y),l.push(m),h.push(_)}var f=Nt([]),l=nt([]),h=nt([]);if("function"==typeof t)for(;++i<o;)c(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)c(e=this[i],t);return l.enter=function(){return f},l.exit=function(){return h},l},ot.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ot.filter=function(filter){var t,n,e,r=[];"function"!=typeof filter&&(filter=Mt(filter));for(var o=0,c=this.length;o<c;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var i=0,f=n.length;i<f;i++)(e=n[i])&&filter.call(e,e.__data__,i,o)&&t.push(e)}return nt(r)},ot.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},ot.sort=function(t){t=function(t){arguments.length||(t=M);return function(a,b){return a&&b?t(a.__data__,b.__data__):!a-!b}}.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},ot.each=function(t){return Dt(this,function(n,i,e){t.call(n,n.__data__,i,e)})},ot.call=function(t){var n=l(arguments);return t.apply(n[0]=this,n),this},ot.empty=function(){return!this.node()},ot.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],i=0,r=e.length;i<r;i++){var o=e[i];if(o)return o}return null},ot.size=function(){var t=0;return Dt(this,function(){++t}),t};var kt=[];function St(t,n,e){var r="__on"+t,i=t.indexOf("."),o=Ct;i>0&&(t=t.slice(0,i));var filter=Tt.get(t);function f(){var n=this[r];n&&(this.removeEventListener(t,n,n.$),delete this[r])}return filter&&(t=filter,o=At),i?n?function(){var c=o(n,l(arguments));f.call(this),this.addEventListener(t,this[r]=c,c.$=e),c._=n}:f:n?X:function(){var n,e=new RegExp("^__on([^.]+)"+c.requote(t)+"$");for(var r in this)if(n=r.match(e)){var o=this[r];this.removeEventListener(n[1],o,o.$),delete this[r]}}}c.selection.enter=Nt,c.selection.enter.prototype=kt,kt.append=ot.append,kt.empty=ot.empty,kt.node=ot.node,kt.call=ot.call,kt.size=ot.size,kt.select=function(t){for(var n,e,r,o,c,f=[],l=-1,h=this.length;++l<h;){r=(o=this[l]).update,f.push(n=[]),n.parentNode=o.parentNode;for(var i=-1,d=o.length;++i<d;)(c=o[i])?(n.push(r[i]=e=t.call(o.parentNode,c.__data__,i,l)),e.__data__=c.__data__):n.push(null)}return nt(f)},kt.insert=function(t,n){var e,r,o;return arguments.length<2&&(e=this,n=function(t,i,n){var c,f=e[n].update,l=f.length;for(n!=o&&(o=n,r=0),i>=r&&(r=i+1);!(c=f[r])&&++r<l;);return c}),ot.insert.call(this,t,n)},c.select=function(t){var n;return"string"==typeof t?(n=[et(t,h)]).parentNode=h.documentElement:(n=[t]).parentNode=d(t),nt([n])},c.selectAll=function(t){var n;return"string"==typeof t?(n=l(it(t,h))).parentNode=h.documentElement:(n=l(t)).parentNode=null,nt([n])},ot.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(St(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(St(t,n,e))};var Tt=c.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ct(t,n){return function(e){var r=c.event;c.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{c.event=r}}}function At(t,n){var e=Ct(t,n);return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}h&&Tt.forEach(function(t){"on"+t in h&&Tt.remove(t)});var Et,Lt=0;function Pt(t){var n=".dragsuppress-"+ ++Lt,e="click"+n,r=c.select(v(t)).on("touchmove"+n,$).on("dragstart"+n,$).on("selectstart"+n,$);if(null==Et&&(Et=!("onselectstart"in t)&&W(t.style,"userSelect")),Et){var style=d(t).style,select=style[Et];style[Et]="none"}return function(t){if(r.on(n,null),Et&&(style[Et]=select),t){var o=function(){r.on(e,null)};r.on(e,function(){$(),o()},!0),setTimeout(o,0)}}}c.mouse=function(t){return Ft(t,K())};var Rt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ft(t,n){n.changedTouches&&(n=n.changedTouches[0]);var svg=t.ownerSVGElement||t;if(svg.createSVGPoint){var e=svg.createSVGPoint();if(Rt<0){var r=v(t);if(r.scrollX||r.scrollY){var o=(svg=c.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Rt=!(o.f||o.e),svg.remove()}}return Rt?(e.x=n.pageX,e.y=n.pageY):(e.x=n.clientX,e.y=n.clientY),[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}var rect=t.getBoundingClientRect();return[n.clientX-rect.left-t.clientLeft,n.clientY-rect.top-t.clientTop]}function Ut(){return c.event.changedTouches[0].identifier}c.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=K().changedTouches),n)for(var r,i=0,o=n.length;i<o;++i)if((r=n[i]).identifier===e)return Ft(t,r)},c.behavior.drag=function(){var t=J(o,"drag","dragstart","dragend"),n=null,e=f(X,c.mouse,v,"mousemove","mouseup"),r=f(Ut,c.touch,j,"touchmove","touchend");function o(){this.on("mousedown.drag",e).on("touchstart.drag",r)}function f(e,r,o,f,l){return function(){var h,d=c.event.target.correspondingElement||c.event.target,v=this.parentNode,m=t.of(this,arguments),y=0,_=e(),x=".drag"+(null==_?"":"-"+_),w=c.select(o(d)).on(f+x,function(){var t,n,e=r(v,_);if(!e)return;t=e[0]-D[0],n=e[1]-D[1],y|=t|n,D=e,m({type:"drag",x:e[0]+h[0],y:e[1]+h[1],dx:t,dy:n})}).on(l+x,function(){if(!r(v,_))return;w.on(f+x,null).on(l+x,null),M(y),m({type:"dragend"})}),M=Pt(d),D=r(v,_);h=n?[(h=n.apply(this,arguments)).x-D[0],h.y-D[1]]:[0,0],m({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(n=t,o):n},c.rebind(o,t,"on")},c.touches=function(t,n){return arguments.length<2&&(n=K().touches),n?l(n).map(function(n){var e=Ft(t,n);return e.identifier=n.identifier,e}):[]};var zt=1e-6,It=zt*zt,Yt=Math.PI,qt=2*Yt,Ht=qt-zt,Ot=Yt/2,jt=Yt/180,Vt=180/Yt;function Wt(t){return t>0?1:t<0?-1:0}function Zt(a,b,t){return(b[0]-a[0])*(t[1]-a[1])-(b[1]-a[1])*(t[0]-a[0])}function Xt(t){return t>1?0:t<-1?Yt:Math.acos(t)}function Gt(t){return t>1?Ot:t<-1?-Ot:Math.asin(t)}function Bt(t){return((t=Math.exp(t))+1/t)/2}function $t(t){return(t=Math.sin(t/2))*t}var Kt=Math.SQRT2;c.interpolateZoom=function(t,n){var i,e,r=t[0],o=t[1],c=t[2],f=n[0],l=n[1],h=n[2],d=f-r,v=l-o,m=d*d+v*v;if(m<It)e=Math.log(h/c)/Kt,i=function(t){return[r+t*d,o+t*v,c*Math.exp(Kt*t*e)]};else{var y=Math.sqrt(m),_=(h*h-c*c+4*m)/(2*c*2*y),x=(h*h-c*c-4*m)/(2*h*2*y),w=Math.log(Math.sqrt(_*_+1)-_),M=Math.log(Math.sqrt(x*x+1)-x);e=(M-w)/Kt,i=function(t){var n,s=t*e,f=Bt(w),u=c/(2*y)*(f*(n=Kt*s+w,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[r+u*d,o+u*v,c*f/Bt(Kt*s+w)]}}return i.duration=1e3*e,i},c.behavior.zoom=function(){var t,n,e,r,o,f,l,d,m,view={x:0,y:0,k:1},y=[960,500],_=tn,x=250,w=0,M="mousedown.zoom",D="mousemove.zoom",N="mouseup.zoom",k="touchstart.zoom",S=J(T,"zoomstart","zoom","zoomend");function T(g){g.on(M,z).on(Qt+".zoom",Y).on("dblclick.zoom",H).on(k,I)}function C(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function A(s){view.k=Math.max(_[0],Math.min(_[1],s))}function E(p,t){t=function(t){return[t[0]*view.k+view.x,t[1]*view.k+view.y]}(t),view.x+=p[0]-t[0],view.y+=p[1]-t[1]}function L(t,p,e,r){t.__chart__={x:view.x,y:view.y,k:view.k},A(Math.pow(2,r)),E(n=p,e),t=c.select(t),x>0&&(t=t.transition().duration(x)),t.call(T.event)}function P(){l&&l.domain(f.range().map(function(t){return(t-view.x)/view.k}).map(f.invert)),m&&m.domain(d.range().map(function(t){return(t-view.y)/view.k}).map(d.invert))}function R(t){w++||t({type:"zoomstart"})}function F(t){P(),t({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function U(t){--w||(t({type:"zoomend"}),n=null)}function z(){var t=this,n=S.of(t,arguments),e=0,r=c.select(v(t)).on(D,function(){e=1,E(c.mouse(t),o),F(n)}).on(N,function(){r.on(D,null).on(N,null),f(e),U(n)}),o=C(c.mouse(t)),f=Pt(t);Eu.call(t),R(n)}function I(){var t,n=this,e=S.of(n,arguments),r={},f=0,l=".zoom-"+c.event.changedTouches[0].identifier,h="touchmove"+l,d="touchend"+l,v=[],m=c.select(n),y=Pt(n);function _(){var e=c.touches(n);return t=view.k,e.forEach(function(t){t.identifier in r&&(r[t.identifier]=C(t))}),e}function x(){var t=c.event.target;c.select(t).on(h,w).on(d,D),v.push(t);for(var e=c.event.changedTouches,i=0,l=e.length;i<l;++i)r[e[i].identifier]=null;var m=_(),y=Date.now();if(1===m.length){if(y-o<500){var p=m[0];L(n,p,r[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),$()}o=y}else if(m.length>1){p=m[0];var q=m[1],x=p[0]-q[0],M=p[1]-q[1];f=x*x+M*M}}function w(){var l,h,d,v,m=c.touches(n);Eu.call(n);for(var i=0,y=m.length;i<y;++i,v=null)if(d=m[i],v=r[d.identifier]){if(h)break;l=d,h=v}if(v){var _=(_=d[0]-l[0])*_+(_=d[1]-l[1])*_,x=f&&Math.sqrt(_/f);l=[(l[0]+d[0])/2,(l[1]+d[1])/2],h=[(h[0]+v[0])/2,(h[1]+v[1])/2],A(x*t)}o=null,E(l,h),F(e)}function D(){if(c.event.touches.length){for(var t=c.event.changedTouches,i=0,n=t.length;i<n;++i)delete r[t[i].identifier];for(var o in r)return void _()}c.selectAll(v).on(l,null),m.on(M,z).on(k,I),y(),U(e)}x(),R(e),m.on(M,null).on(k,x)}function Y(){var o=S.of(this,arguments);r?clearTimeout(r):(Eu.call(this),t=C(n=e||c.mouse(this)),R(o)),r=setTimeout(function(){r=null,U(o)},50),$(),A(Math.pow(2,.002*Jt())*view.k),E(n,t),F(o)}function H(){var p=c.mouse(this),t=Math.log(view.k)/Math.LN2;L(this,p,C(p),c.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Qt||(Qt="onwheel"in h?(Jt=function(){return-c.event.deltaY*(c.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(Jt=function(){return c.event.wheelDelta},"mousewheel"):(Jt=function(){return-c.event.detail},"MozMousePixelScroll")),T.event=function(g){g.each(function(){var t=S.of(this,arguments),e=view;Ru?c.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},R(t)}).tween("zoom:zoom",function(){var r=y[0],o=y[1],f=n?n[0]:r/2,l=n?n[1]:o/2,i=c.interpolateZoom([(f-view.x)/view.k,(l-view.y)/view.k,r/view.k],[(f-e.x)/e.k,(l-e.y)/e.k,r/e.k]);return function(n){var e=i(n),o=r/e[2];this.__chart__=view={x:f-e[0]*o,y:l-e[1]*o,k:o},F(t)}}).each("interrupt.zoom",function(){U(t)}).each("end.zoom",function(){U(t)}):(this.__chart__=view,R(t),F(t),U(t))})},T.translate=function(t){return arguments.length?(view={x:+t[0],y:+t[1],k:view.k},P(),T):[view.x,view.y]},T.scale=function(t){return arguments.length?(view={x:view.x,y:view.y,k:null},A(+t),P(),T):view.k},T.scaleExtent=function(t){return arguments.length?(_=null==t?tn:[+t[0],+t[1]],T):_},T.center=function(t){return arguments.length?(e=t&&[+t[0],+t[1]],T):e},T.size=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],T):y},T.duration=function(t){return arguments.length?(x=+t,T):x},T.x=function(t){return arguments.length?(l=t,f=t.copy(),view={x:0,y:0,k:1},T):l},T.y=function(t){return arguments.length?(m=t,d=t.copy(),view={x:0,y:0,k:1},T):m},c.rebind(T,S,"on")};var Jt,Qt,tn=[0,1/0];function nn(){}function en(t,s,n){return this instanceof en?(this.h=+t,this.s=+s,void(this.l=+n)):arguments.length<2?t instanceof en?new en(t.h,t.s,t.l):Nn(""+t,kn,en):new en(t,s,n)}c.color=nn,nn.prototype.toString=function(){return this.rgb()+""},c.hsl=en;var rn=en.prototype=new nn;function an(t,s,n){var e,r;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,s=isNaN(s)?0:s<0?0:s>1?1:s,e=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+s):n+s-n*s),new _n(o(t+120),o(t),o(t-120))}function on(t,n,e){return this instanceof on?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof on?new on(t.h,t.c,t.l):vn(t instanceof sn?t.l:(t=Sn((t=c.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new on(t,n,e)}rn.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new en(this.h,this.s,this.l/t)},rn.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new en(this.h,this.s,t*this.l)},rn.rgb=function(){return an(this.h,this.s,this.l)},c.hcl=on;var un=on.prototype=new nn;function cn(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new sn(e,Math.cos(t*=jt)*n,Math.sin(t)*n)}function sn(t,a,b){return this instanceof sn?(this.l=+t,this.a=+a,void(this.b=+b)):arguments.length<2?t instanceof sn?new sn(t.l,t.a,t.b):t instanceof on?cn(t.h,t.c,t.l):Sn((t=_n(t)).r,t.g,t.b):new sn(t,a,b)}un.brighter=function(t){return new on(this.h,this.c,Math.min(100,this.l+fn*(arguments.length?t:1)))},un.darker=function(t){return new on(this.h,this.c,Math.max(0,this.l-fn*(arguments.length?t:1)))},un.rgb=function(){return cn(this.h,this.c,this.l).rgb()},c.lab=sn;var fn=18,ln=.95047,hn=1,dn=1.08883,pn=sn.prototype=new nn;function gn(t,a,b){var n=(t+16)/116,e=n+a/500,r=n-b/200;return new _n(bn(3.2404542*(e=mn(e)*ln)-1.5371385*(n=mn(n)*hn)-.4985314*(r=mn(r)*dn)),bn(-.969266*e+1.8760108*n+.041556*r),bn(.0556434*e-.2040259*n+1.0572252*r))}function vn(t,a,b){return t>0?new on(Math.atan2(b,a)*Vt,Math.sqrt(a*a+b*b),t):new on(NaN,NaN,t)}function mn(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function yn(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function bn(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function _n(t,g,b){return this instanceof _n?(this.r=~~t,this.g=~~g,void(this.b=~~b)):arguments.length<2?t instanceof _n?new _n(t.r,t.g,t.b):Nn(""+t,_n,an):new _n(t,g,b)}function xn(t){return new _n(t>>16,t>>8&255,255&t)}function wn(t){return xn(t)+""}pn.brighter=function(t){return new sn(Math.min(100,this.l+fn*(arguments.length?t:1)),this.a,this.b)},pn.darker=function(t){return new sn(Math.max(0,this.l-fn*(arguments.length?t:1)),this.a,this.b)},pn.rgb=function(){return gn(this.l,this.a,this.b)},c.rgb=_n;var Mn=_n.prototype=new nn;function Dn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Nn(t,n,e){var r,o,c,f=0,g=0,b=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return e(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return n(Cn(o[0]),Cn(o[1]),Cn(o[2]))}return(c=An.get(t))?n(c.r,c.g,c.b):(null==t||"#"!==t.charAt(0)||isNaN(c=parseInt(t.slice(1),16))||(4===t.length?(f=(3840&c)>>4,f|=f>>4,g=240&c,g|=g>>4,b=15&c,b|=b<<4):7===t.length&&(f=(16711680&c)>>16,g=(65280&c)>>8,b=255&c)),n(f,g,b))}function kn(t,g,b){var n,s,e=Math.min(t/=255,g/=255,b/=255),r=Math.max(t,g,b),o=r-e,c=(r+e)/2;return o?(s=c<.5?o/(r+e):o/(2-r-e),n=t==r?(g-b)/o+(g<b?6:0):g==r?(b-t)/o+2:(t-g)/o+4,n*=60):(n=NaN,s=c>0&&c<1?0:n),new en(n,s,c)}function Sn(t,g,b){var n=yn((.4124564*(t=Tn(t))+.3575761*(g=Tn(g))+.1804375*(b=Tn(b)))/ln),e=yn((.2126729*t+.7151522*g+.072175*b)/hn);return sn(116*e-16,500*(n-e),200*(e-yn((.0193339*t+.119192*g+.9503041*b)/dn)))}function Tn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Cn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}Mn.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,g=this.g,b=this.b,i=30;return n||g||b?(n&&n<i&&(n=i),g&&g<i&&(g=i),b&&b<i&&(b=i),new _n(Math.min(255,n/t),Math.min(255,g/t),Math.min(255,b/t))):new _n(i,i,i)},Mn.darker=function(t){return new _n((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Mn.hsl=function(){return kn(this.r,this.g,this.b)},Mn.toString=function(){return"#"+Dn(this.r)+Dn(this.g)+Dn(this.b)};var An=c.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function En(t){return"function"==typeof t?t:function(){return t}}function Ln(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Pn(n,e,t,r)}}function Pn(t,n,e,r){var o={},f=c.dispatch("beforesend","progress","load","error"),h={},d=new XMLHttpRequest,v=null;function m(){var t,n=d.status;if(!n&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(d)||n>=200&&n<300||304===n){try{t=e.call(o,d)}catch(t){return void f.error.call(o,t)}f.load.call(o,t)}else f.error.call(o,d)}return!this.XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=m:d.onreadystatechange=function(){d.readyState>3&&m()},d.onprogress=function(t){var n=c.event;c.event=t;try{f.progress.call(o,d)}finally{c.event=n}},o.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?h[t]:(null==n?delete h[t]:h[t]=n+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(v=t,o):v},o.response=function(t){return e=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(l(arguments)))}}),o.send=function(e,data,r){if(2===arguments.length&&"function"==typeof data&&(r=data,data=null),d.open(e,t,!0),null==n||"accept"in h||(h.accept=n+",*/*"),d.setRequestHeader)for(var c in h)d.setRequestHeader(c,h[c]);return null!=n&&d.overrideMimeType&&d.overrideMimeType(n),null!=v&&(d.responseType=v),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),f.beforesend.call(o,d),d.send(null==data?null:data),o},o.abort=function(){return d.abort(),o},c.rebind(o,f,"on"),null==r?o:o.get(function(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}(r))}An.forEach(function(t,n){An.set(t,xn(n))}),c.functor=En,c.xhr=Ln(j),c.dsv=function(t,n){var e=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function o(t,e,r){arguments.length<3&&(r=e,e=null);var o=Pn(t,n,null==e?c:f(e),r);return o.row=function(t){return arguments.length?o.response(null==(e=t)?c:f(t)):e},o}function c(t){return o.parse(t.responseText)}function f(t){return function(n){return o.parse(n.responseText,t)}}function l(n){return n.map(h).join(t)}function h(text){return e.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}return o.parse=function(text,t){var n;return o.parseRows(text,function(e,i){if(n)return n(e,i-1);var a=new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}");n=t?function(n,i){return t(a(n),i)}:a})},o.parseRows=function(text,t){var n,e,o={},c={},f=[],l=text.length,h=0,d=0;function v(){if(h>=l)return c;if(e)return e=!1,o;var t=h;if(34===text.charCodeAt(t)){for(var i=t;i++<l;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}return h=i+2,13===(n=text.charCodeAt(i+1))?(e=!0,10===text.charCodeAt(i+2)&&++h):10===n&&(e=!0),text.slice(t+1,i).replace(/""/g,'"')}for(;h<l;){var n,f=1;if(10===(n=text.charCodeAt(h++)))e=!0;else if(13===n)e=!0,10===text.charCodeAt(h)&&(++h,++f);else if(n!==r)continue;return text.slice(t,h-f)}return text.slice(t)}for(;(n=v())!==c;){for(var a=[];n!==o&&n!==c;)a.push(n),n=v();t&&null==(a=t(a,d++))||f.push(a)}return f},o.format=function(n){if(Array.isArray(n[0]))return o.formatRows(n);var e=new O,r=[];return n.forEach(function(t){for(var n in t)e.has(n)||r.push(e.add(n))}),[r.map(h).join(t)].concat(n.map(function(n){return r.map(function(t){return h(n[t])}).join(t)})).join("\n")},o.formatRows=function(t){return t.map(l).join("\n")},o},c.csv=c.dsv(",","text/csv"),c.tsv=c.dsv("\t","text/tab-separated-values");var Rn,Fn,Un,zn,In=this[W(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Yn(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var o={c:t,t:e+n,n:null};return Fn?Fn.n=o:Rn=o,Fn=o,Un||(zn=clearTimeout(zn),Un=1,In(qn)),o}function qn(){var t=Hn(),n=On()-t;n>24?(isFinite(n)&&(clearTimeout(zn),zn=setTimeout(qn,n)),Un=0):(Un=1,In(qn))}function Hn(){for(var t=Date.now(),n=Rn;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function On(){for(var t,n=Rn,time=1/0;n;)n.c?(n.t<time&&(time=n.t),n=(t=n).n):n=t?t.n=n.n:Rn=n.n;return Fn=t,time}function jn(t,p){return p-(t?Math.ceil(Math.log(t)/Math.LN10):1)}c.timer=function(){Yn.apply(this,arguments)},c.timer.flush=function(){Hn(),On()},c.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Vn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,i){var n=Math.pow(10,3*C(8-i));return{scale:i>8?function(t){return t/n}:function(t){return t*n},symbol:t}});function Wn(t){var n=t.decimal,e=t.thousands,r=t.grouping,o=t.currency,f=r&&e?function(t,n){for(var i=t.length,o=[],c=0,g=r[0],f=0;i>0&&g>0&&(f+g+1>n&&(g=Math.max(1,n-f)),o.push(t.substring(i-=g,i+g)),!((f+=g+1)>n));)g=r[c=(c+1)%r.length];return o.reverse().join(e)}:j;return function(t){var e=Zn.exec(t),r=e[1]||" ",l=e[2]||">",h=e[3]||"-",symbol=e[4]||"",d=e[5],v=+e[6],m=e[7],y=e[8],_=e[9],x=1,w="",M="",D=!1,N=!0;switch(y&&(y=+y.substring(1)),(d||"0"===r&&"="===l)&&(d=r="0",l="="),_){case"n":m=!0,_="g";break;case"%":x=100,M="%",_="f";break;case"p":x=100,M="%",_="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(w="0"+_.toLowerCase());case"c":N=!1;case"d":D=!0,y=0;break;case"s":x=-1,_="r"}"$"===symbol&&(w=o[0],M=o[1]),"r"!=_||y||(_="g"),null!=y&&("g"==_?y=Math.max(1,Math.min(21,y)):"e"!=_&&"f"!=_||(y=Math.max(0,Math.min(20,y)))),_=Xn.get(_)||Gn;var k=d&&m;return function(t){var e=M;if(D&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(x<0){var S=c.formatPrefix(t,y);t=S.scale(t),e=S.symbol+M}else t*=x;var T,C,i=(t=_(t,y)).lastIndexOf(".");if(i<0){var A=N?t.lastIndexOf("e"):-1;A<0?(T=t,C=""):(T=t.substring(0,A),C=t.substring(A))}else T=t.substring(0,i),C=n+t.substring(i+1);!d&&m&&(T=f(T,1/0));var E=w.length+T.length+C.length+(k?0:o.length),L=E<v?new Array(E=v-E+1).join(r):"";return k&&(T=f(L+T,L.length?v-C.length:1/0)),o+=w,t=T+C,("<"===l?o+t+L:">"===l?L+o+t:"^"===l?L.substring(0,E>>=1)+o+t+L.substring(E):o+(k?t:L+t))+e}}}c.formatPrefix=function(t,n){var i=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=c.round(t,jn(t,n))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),Vn[8+i/3]};var Zn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Xn=c.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,p){return t.toPrecision(p)},e:function(t,p){return t.toExponential(p)},f:function(t,p){return t.toFixed(p)},r:function(t,p){return(t=c.round(t,jn(t,p))).toFixed(Math.max(0,Math.min(20,jn(t*(1+1e-15),p))))}});function Gn(t){return t+""}var Bn=c.time={},$n=Date;function Kn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Kn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Jn.setUTCDate.apply(this._,arguments)},setDay:function(){Jn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Jn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Jn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Jn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Jn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Jn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Jn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Jn.setTime.apply(this._,arguments)}};var Jn=Date.prototype;function Qn(t,n,e){function r(n){var e=t(n),r=c(e,1);return n-e<r-n?e:r}function o(e){return n(e=t(new $n(e-1)),1),e}function c(t,e){return n(t=new $n(+t),e),t}function f(t,r,dt){var time=o(t),c=[];if(dt>1)for(;time<r;)e(time)%dt||c.push(new Date(+time)),n(time,1);else for(;time<r;)c.push(new Date(+time)),n(time,1);return c}t.floor=t,t.round=r,t.ceil=o,t.offset=c,t.range=f;var l=t.utc=te(t);return l.floor=l,l.round=te(r),l.ceil=te(o),l.offset=te(c),l.range=function(t,n,dt){try{$n=Kn;var e=new Kn;return e._=t,f(e,n,dt)}finally{$n=Date}},t}function te(t){return function(n,e){try{$n=Kn;var r=new Kn;return r._=n,t(r,e)._}finally{$n=Date}}}function ne(t){var n=t.dateTime,e=t.date,r=t.time,o=t.periods,f=t.days,l=t.shortDays,h=t.months,d=t.shortMonths;function v(template){var t=template.length;function n(n){for(var e,p,r,o=[],i=-1,c=0;++i<t;)37===template.charCodeAt(i)&&(o.push(template.slice(c,i)),null!=(p=ee[e=template.charAt(++i)])&&(e=template.charAt(++i)),(r=T[e])&&(e=r(n,null==p?"e"===e?" ":"0":p)),o.push(e),c=i+1);return o.push(template.slice(c,i)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(m(n,template,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var e=null!=n.Z&&$n!==Kn,r=new(e?Kn:$n);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),e?r._:r},n.toString=function(){return template},n}function m(t,template,n,e){for(var r,p,o,i=0,c=template.length,f=n.length;i<c;){if(e>=f)return-1;if(37===(r=template.charCodeAt(i++))){if(o=template.charAt(i++),!(p=C[o in ee?template.charAt(i++):o])||(e=p(t,n,e))<0)return-1}else if(r!=n.charCodeAt(e++))return-1}return e}v.utc=function(template){var t=v(template);function n(n){try{var e=new($n=Kn);return e._=n,t(e)}finally{$n=Date}}return n.parse=function(n){try{$n=Kn;var e=t.parse(n);return e&&e._}finally{$n=Date}},n.toString=t.toString,n},v.multi=v.utc.multi=Me;var y=c.map(),_=oe(f),x=ue(f),w=oe(l),M=ue(l),D=oe(h),N=ue(h),k=oe(d),S=ue(d);o.forEach(function(p,i){y.set(p.toLowerCase(),i)});var T={a:function(t){return l[t.getDay()]},A:function(t){return f[t.getDay()]},b:function(t){return d[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:v(n),d:function(t,p){return ae(t.getDate(),p,2)},e:function(t,p){return ae(t.getDate(),p,2)},H:function(t,p){return ae(t.getHours(),p,2)},I:function(t,p){return ae(t.getHours()%12||12,p,2)},j:function(t,p){return ae(1+Bn.dayOfYear(t),p,3)},L:function(t,p){return ae(t.getMilliseconds(),p,3)},m:function(t,p){return ae(t.getMonth()+1,p,2)},M:function(t,p){return ae(t.getMinutes(),p,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,p){return ae(t.getSeconds(),p,2)},U:function(t,p){return ae(Bn.sundayOfYear(t),p,2)},w:function(t){return t.getDay()},W:function(t,p){return ae(Bn.mondayOfYear(t),p,2)},x:v(e),X:v(r),y:function(t,p){return ae(t.getFullYear()%100,p,2)},Y:function(t,p){return ae(t.getFullYear()%1e4,p,4)},Z:xe,"%":function(){return"%"}},C={a:function(t,n,i){w.lastIndex=0;var e=w.exec(n.slice(i));return e?(t.w=M.get(e[0].toLowerCase()),i+e[0].length):-1},A:function(t,n,i){_.lastIndex=0;var e=_.exec(n.slice(i));return e?(t.w=x.get(e[0].toLowerCase()),i+e[0].length):-1},b:function(t,n,i){k.lastIndex=0;var e=k.exec(n.slice(i));return e?(t.m=S.get(e[0].toLowerCase()),i+e[0].length):-1},B:function(t,n,i){D.lastIndex=0;var e=D.exec(n.slice(i));return e?(t.m=N.get(e[0].toLowerCase()),i+e[0].length):-1},c:function(t,n,i){return m(t,T.c.toString(),n,i)},d:ge,e:ge,H:me,I:me,j:ve,L:_e,m:pe,M:ye,p:function(t,n,i){var e=y.get(n.slice(i,i+=2).toLowerCase());return null==e?-1:(t.p=e,i)},S:be,U:se,w:ce,W:fe,x:function(t,n,i){return m(t,T.x.toString(),n,i)},X:function(t,n,i){return m(t,T.X.toString(),n,i)},y:he,Y:le,Z:de,"%":we};return v}Bn.year=Qn(function(t){return(t=Bn.day(t)).setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),Bn.years=Bn.year.range,Bn.years.utc=Bn.year.utc.range,Bn.day=Qn(function(t){var n=new $n(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),Bn.days=Bn.day.range,Bn.days.utc=Bn.day.utc.range,Bn.dayOfYear=function(t){var n=Bn.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,i){i=7-i;var n=Bn[t]=Qn(function(t){return(t=Bn.day(t)).setDate(t.getDate()-(t.getDay()+i)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var n=Bn.year(t).getDay();return Math.floor((Bn.dayOfYear(t)+(n+i)%7)/7)-(n!==i)});Bn[t+"s"]=n.range,Bn[t+"s"].utc=n.utc.range,Bn[t+"OfYear"]=function(t){var n=Bn.year(t).getDay();return Math.floor((Bn.dayOfYear(t)+(n+i)%7)/7)}}),Bn.week=Bn.sunday,Bn.weeks=Bn.sunday.range,Bn.weeks.utc=Bn.sunday.utc.range,Bn.weekOfYear=Bn.sundayOfYear;var ee={"-":"",_:" ",0:"0"},re=/^\s*\d+/,ie=/^%/;function ae(t,n,e){var r=t<0?"-":"",o=(r?-t:t)+"",c=o.length;return r+(c<e?new Array(e-c+1).join(n)+o:o)}function oe(t){return new RegExp("^(?:"+t.map(c.requote).join("|")+")","i")}function ue(t){for(var map=new E,i=-1,n=t.length;++i<n;)map.set(t[i].toLowerCase(),i);return map}function ce(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+1));return e?(t.w=+e[0],i+e[0].length):-1}function se(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i));return e?(t.U=+e[0],i+e[0].length):-1}function fe(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i));return e?(t.W=+e[0],i+e[0].length):-1}function le(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+4));return e?(t.y=+e[0],i+e[0].length):-1}function he(t,n,i){re.lastIndex=0;var e,r=re.exec(n.slice(i,i+2));return r?(t.y=(e=+r[0])+(e>68?1900:2e3),i+r[0].length):-1}function de(t,n,i){return/^[+-]\d{4}$/.test(n=n.slice(i,i+5))?(t.Z=-n,i+5):-1}function pe(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+2));return e?(t.m=e[0]-1,i+e[0].length):-1}function ge(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+2));return e?(t.d=+e[0],i+e[0].length):-1}function ve(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+3));return e?(t.j=+e[0],i+e[0].length):-1}function me(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+2));return e?(t.H=+e[0],i+e[0].length):-1}function ye(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+2));return e?(t.M=+e[0],i+e[0].length):-1}function be(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+2));return e?(t.S=+e[0],i+e[0].length):-1}function _e(t,n,i){re.lastIndex=0;var e=re.exec(n.slice(i,i+3));return e?(t.L=+e[0],i+e[0].length):-1}function xe(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=C(n)/60|0,o=C(n)%60;return e+ae(r,"0",2)+ae(o,"0",2)}function we(t,n,i){ie.lastIndex=0;var e=ie.exec(n.slice(i,i+1));return e?i+e[0].length:-1}function Me(t){for(var n=t.length,i=-1;++i<n;)t[i][0]=this(t[i][0]);return function(n){for(var i=0,e=t[i];!e[1](n);)e=t[++i];return e[0](n)}}c.locale=function(t){return{numberFormat:Wn(t),timeFormat:ne(t)}};var De=c.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ne(){}c.format=De.numberFormat,c.geo={},Ne.prototype={s:0,t:0,add:function(t){Se(t,this.t,ke),Se(ke.s,this.s,this),this.s?this.t+=ke.t:this.s=ke.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ke=new Ne;function Se(a,b,t){var n=t.s=a+b,e=n-a,r=n-e;t.t=a-r+(b-e)}function Te(t,n){t&&Ae.hasOwnProperty(t.type)&&Ae[t.type](t,n)}c.geo.stream=function(object,t){object&&Ce.hasOwnProperty(object.type)?Ce[object.type](object,t):Te(object,t)};var Ce={Feature:function(t,n){Te(t.geometry,n)},FeatureCollection:function(object,t){for(var n=object.features,i=-1,e=n.length;++i<e;)Te(n[i].geometry,t)}},Ae={Sphere:function(object,t){t.sphere()},Point:function(object,t){object=object.coordinates,t.point(object[0],object[1],object[2])},MultiPoint:function(object,t){for(var n=object.coordinates,i=-1,e=n.length;++i<e;)object=n[i],t.point(object[0],object[1],object[2])},LineString:function(object,t){Ee(object.coordinates,t,0)},MultiLineString:function(object,t){for(var n=object.coordinates,i=-1,e=n.length;++i<e;)Ee(n[i],t,0)},Polygon:function(object,t){Le(object.coordinates,t)},MultiPolygon:function(object,t){for(var n=object.coordinates,i=-1,e=n.length;++i<e;)Le(n[i],t)},GeometryCollection:function(object,t){for(var n=object.geometries,i=-1,e=n.length;++i<e;)Te(n[i],t)}};function Ee(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Le(t,n){var i=-1,e=t.length;for(n.polygonStart();++i<e;)Ee(t[i],n,1);n.polygonEnd()}c.geo.area=function(object){return Pe=0,c.geo.stream(object,Ze),Pe};var Pe,Re,Fe,Ue,ze,Ie,Ye,qe,He,Oe,je,Ve,We=new Ne,Ze={sphere:function(){Pe+=4*Yt},point:X,lineStart:X,lineEnd:X,polygonStart:function(){We.reset(),Ze.lineStart=Xe},polygonEnd:function(){var area=2*We;Pe+=area<0?4*Yt+area:area,Ze.lineStart=Ze.lineEnd=Ze.point=X}};function Xe(){var t,n,e,r,o;function c(t,n){n=n*jt/2+Yt/4;var c=(t*=jt)-e,f=c>=0?1:-1,l=f*c,h=Math.cos(n),d=Math.sin(n),v=o*d,u=r*h+v*Math.cos(l),m=v*f*Math.sin(l);We.add(Math.atan2(m,u)),e=t,r=h,o=d}Ze.point=function(f,l){Ze.point=c,e=(t=f)*jt,r=Math.cos(l=(n=l)*jt/2+Yt/4),o=Math.sin(l)},Ze.lineEnd=function(){c(t,n)}}function Ge(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Be(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function $e(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ke(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Je(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qe(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function nr(t){return[Math.atan2(t[1],t[0]),Gt(t[2])]}function er(a,b){return C(a[0]-b[0])<zt&&C(a[1]-b[1])<zt}c.geo.bounds=function(){var t,n,e,r,o,f,l,h,d,v,m,y={point:_,lineStart:w,lineEnd:M,polygonStart:function(){y.point=D,y.lineStart=N,y.lineEnd=k,d=0,Ze.polygonStart()},polygonEnd:function(){Ze.polygonEnd(),y.point=_,y.lineStart=w,y.lineEnd=M,We<0?(t=-(e=180),n=-(r=90)):d>zt?r=90:d<-zt&&(n=-90),m[0]=t,m[1]=e}};function _(o,c){v.push(m=[t=o,e=o]),c<n&&(n=c),c>r&&(r=c)}function x(c,f){var p=Ge([c*jt,f*jt]);if(h){var l=$e(h,p),d=$e([l[1],-l[0],0],l);Qe(d),d=nr(d);var v=c-o,s=v>0?1:-1,m=d[0]*Vt*s,y=C(v)>180;if(y^(s*o<m&&m<s*c))(x=d[1]*Vt)>r&&(r=x);else if(y^(s*o<(m=(m+360)%360-180)&&m<s*c)){var x;(x=-d[1]*Vt)<n&&(n=x)}else f<n&&(n=f),f>r&&(r=f);y?c<o?S(t,c)>S(t,e)&&(e=c):S(c,e)>S(t,e)&&(t=c):e>=t?(c<t&&(t=c),c>e&&(e=c)):c>o?S(t,c)>S(t,e)&&(e=c):S(c,e)>S(t,e)&&(t=c)}else _(c,f);h=p,o=c}function w(){y.point=x}function M(){m[0]=t,m[1]=e,y.point=_,h=null}function D(t,n){if(h){var e=t-o;d+=C(e)>180?e+(e>0?360:-360):e}else f=t,l=n;Ze.point(t,n),x(t,n)}function N(){Ze.lineStart()}function k(){D(f,l),Ze.lineEnd(),C(d)>zt&&(t=-(e=180)),m[0]=t,m[1]=e,h=null}function S(t,n){return(n-=t)<0?n+360:n}function T(a,b){return a[0]-b[0]}function A(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}return function(o){if(r=e=-(t=n=1/0),v=[],c.geo.stream(o,y),h=v.length){v.sort(T);for(var i=1,f=[a=v[0]];i<h;++i)A((b=v[i])[0],a)||A(b[1],a)?(S(a[0],b[1])>S(a[0],a[1])&&(a[1]=b[1]),S(b[0],a[1])>S(a[0],a[1])&&(a[0]=b[0])):f.push(a=b);for(var l,h,b,d=-1/0,a=(i=0,f[h=f.length-1]);i<=h;a=b,++i)b=f[i],(l=S(a[1],b[0]))>d&&(d=l,t=b[0],e=a[1])}return v=m=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[e,r]]}}(),c.geo.centroid=function(object){Re=Fe=Ue=ze=Ie=Ye=qe=He=Oe=je=Ve=0,c.geo.stream(object,rr);var t=Oe,n=je,e=Ve,r=t*t+n*n+e*e;return r<It&&(t=Ye,n=qe,e=He,Fe<zt&&(t=Ue,n=ze,e=Ie),(r=t*t+n*n+e*e)<It)?[NaN,NaN]:[Math.atan2(n,t)*Vt,Gt(e/Math.sqrt(r))*Vt]};var rr={sphere:X,point:ir,lineStart:or,lineEnd:ur,polygonStart:function(){rr.lineStart=cr},polygonEnd:function(){rr.lineStart=or}};function ir(t,n){t*=jt;var e=Math.cos(n*=jt);ar(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function ar(t,n,e){Ue+=(t-Ue)/++Re,ze+=(n-ze)/Re,Ie+=(e-Ie)/Re}function or(){var t,n,e;function r(r,o){r*=jt;var c=Math.cos(o*=jt),f=c*Math.cos(r),l=c*Math.sin(r),h=Math.sin(o),d=Math.atan2(Math.sqrt((d=n*h-e*l)*d+(d=e*f-t*h)*d+(d=t*l-n*f)*d),t*f+n*l+e*h);Fe+=d,Ye+=d*(t+(t=f)),qe+=d*(n+(n=l)),He+=d*(e+(e=h)),ar(t,n,e)}rr.point=function(o,c){o*=jt;var f=Math.cos(c*=jt);t=f*Math.cos(o),n=f*Math.sin(o),e=Math.sin(c),rr.point=r,ar(t,n,e)}}function ur(){rr.point=ir}function cr(){var t,n,e,r,o;function c(t,n){t*=jt;var c=Math.cos(n*=jt),f=c*Math.cos(t),l=c*Math.sin(t),h=Math.sin(n),d=r*h-o*l,v=o*f-e*h,m=e*l-r*f,y=Math.sqrt(d*d+v*v+m*m),u=e*f+r*l+o*h,_=y&&-Xt(u)/y,x=Math.atan2(y,u);Oe+=_*d,je+=_*v,Ve+=_*m,Fe+=x,Ye+=x*(e+(e=f)),qe+=x*(r+(r=l)),He+=x*(o+(o=h)),ar(e,r,o)}rr.point=function(f,l){t=f,n=l,rr.point=c,f*=jt;var h=Math.cos(l*=jt);e=h*Math.cos(f),r=h*Math.sin(f),o=Math.sin(l),ar(e,r,o)},rr.lineEnd=function(){c(t,n),rr.lineEnd=ur,rr.point=ir}}function sr(a,b){function t(t,n){return t=a(t,n),b(t[0],t[1])}return a.invert&&b.invert&&(t.invert=function(t,n){return(t=b.invert(t,n))&&a.invert(t[0],t[1])}),t}function fr(){return!0}function lr(t,n,e,r,o){var c=[],f=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(er(e,r)){o.lineStart();for(var i=0;i<n;++i)o.point((e=t[i])[0],e[1]);o.lineEnd()}else{var a=new pr(e,t,null,!0),b=new pr(e,null,a,!1);a.o=b,c.push(a),f.push(b),a=new pr(r,t,null,!1),b=new pr(r,null,a,!0),a.o=b,c.push(a),f.push(b)}}}),f.sort(n),dr(c),dr(f),c.length){for(var i=0,l=e,h=f.length;i<h;++i)f[i].e=l=!l;for(var d,v,m=c[0];;){for(var y=m,_=!0;y.v;)if((y=y.n)===m)return;d=y.z,o.lineStart();do{if(y.v=y.o.v=!0,y.e){if(_)for(i=0,h=d.length;i<h;++i)o.point((v=d[i])[0],v[1]);else r(y.x,y.n.x,1,o);y=y.n}else{if(_)for(i=(d=y.p.z).length-1;i>=0;--i)o.point((v=d[i])[0],v[1]);else r(y.x,y.p.x,-1,o);y=y.p}d=(y=y.o).z,_=!_}while(!y.v);o.lineEnd()}}}function dr(t){if(n=t.length){for(var n,b,i=0,a=t[0];++i<n;)a.n=b=t[i],b.p=a,a=b;a.n=b=t[0],b.p=a}}function pr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function gr(t,n,e,r){return function(o,f){var l,line=n(f),h=o.invert(r[0],r[1]),d={point:v,lineStart:y,lineEnd:_,polygonStart:function(){d.point=N,d.lineStart=k,d.lineEnd=S,l=[],polygon=[]},polygonEnd:function(){d.point=v,d.lineStart=y,d.lineEnd=_,l=c.merge(l);var t=function(t,polygon){var n=t[0],e=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,c=0;We.reset();for(var i=0,f=polygon.length;i<f;++i){var l=polygon[i],h=l.length;if(h)for(var d=l[0],v=d[0],m=d[1]/2+Yt/4,y=Math.sin(m),_=Math.cos(m),x=1;;){x===h&&(x=0);var w=(t=l[x])[0],M=t[1]/2+Yt/4,D=Math.sin(M),N=Math.cos(M),k=w-v,S=k>=0?1:-1,T=S*k,C=T>Yt,A=y*D;if(We.add(Math.atan2(A*S*Math.sin(T),_*N+A*Math.cos(T))),o+=C?k+S*qt:k,C^v>=n^w>=n){var E=$e(Ge(d),Ge(t));Qe(E);var L=$e(r,E);Qe(L);var P=(C^k>=0?-1:1)*Gt(L[2]);(e>P||e===P&&(E[0]||E[1]))&&(c+=C^k>=0?1:-1)}if(!x++)break;v=w,y=D,_=N,d=t}}return(o<-zt||o<zt&&We<-zt)^1&c}(h,polygon);l.length?(D||(f.polygonStart(),D=!0),lr(l,yr,t,e,f)):t&&(D||(f.polygonStart(),D=!0),f.lineStart(),e(null,null,1,f),f.lineEnd()),D&&(f.polygonEnd(),D=!1),l=polygon=null},sphere:function(){f.polygonStart(),f.lineStart(),e(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function v(n,e){var r=o(n,e);t(n=r[0],e=r[1])&&f.point(n,e)}function m(t,n){var e=o(t,n);line.point(e[0],e[1])}function y(){d.point=m,line.lineStart()}function _(){d.point=v,line.lineEnd()}var polygon,x,w=mr(),M=n(w),D=!1;function N(t,n){x.push([t,n]);var e=o(t,n);M.point(e[0],e[1])}function k(){M.lineStart(),x=[]}function S(){N(x[0][0],x[0][1]),M.lineEnd();var t,n=M.clean(),e=w.buffer(),r=e.length;if(x.pop(),polygon.push(x),x=null,r)if(1&n){var o,i=-1;if((r=(t=e[0]).length-1)>0){for(D||(f.polygonStart(),D=!0),f.lineStart();++i<r;)f.point((o=t[i])[0],o[1]);f.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),l.push(e.filter(vr))}return d}}function vr(t){return t.length>1}function mr(){var line,t=[];return{lineStart:function(){t.push(line=[])},point:function(t,n){line.push([t,n])},lineEnd:X,buffer:function(){var n=t;return t=[],line=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function yr(a,b){return((a=a.x)[0]<0?a[1]-Ot-zt:Ot-a[1])-((b=b.x)[0]<0?b[1]-Ot-zt:Ot-b[1])}var _r=gr(fr,function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(c,f){var l=c>0?Yt:-Yt,h=C(c-e);C(h-Yt)<zt?(t.point(e,r=(r+f)/2>0?Ot:-Ot),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(c,r),n=0):o!==l&&h>=Yt&&(C(e-o)<zt&&(e-=o*zt),C(c-l)<zt&&(c-=l*zt),r=function(t,n,e,r){var o,c,f=Math.sin(t-e);return C(f)>zt?Math.atan((Math.sin(n)*(c=Math.cos(r))*Math.sin(e)-Math.sin(r)*(o=Math.cos(n))*Math.sin(t))/(o*c*f)):(n+r)/2}(e,r,c,f),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),n=0),t.point(e=c,r=f),o=l},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var o;if(null==t)o=e*Ot,r.point(-Yt,o),r.point(0,o),r.point(Yt,o),r.point(Yt,0),r.point(Yt,-o),r.point(0,-o),r.point(-Yt,-o),r.point(-Yt,0),r.point(-Yt,o);else if(C(t[0]-n[0])>zt){var s=t[0]<n[0]?Yt:-Yt;o=e*s/2,r.point(-s,o),r.point(0,o),r.point(s,o)}else r.point(n[0],n[1])},[-Yt,-Yt/2]);function xr(t,n,e,r){return function(line){var o,a=line.a,b=line.b,c=a.x,f=a.y,l=0,h=1,d=b.x-c,v=b.y-f;if(o=t-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=e-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}if(o=n-f,v||!(o>0)){if(o/=v,v<0){if(o<l)return;o<h&&(h=o)}else if(v>0){if(o>h)return;o>l&&(l=o)}if(o=r-f,v||!(o<0)){if(o/=v,v<0){if(o>h)return;o>l&&(l=o)}else if(v>0){if(o<l)return;o<h&&(h=o)}return l>0&&(line.a={x:c+l*d,y:f+l*v}),h<1&&(line.b={x:c+h*d,y:f+h*v}),line}}}}}}var wr=1e9;function Mr(t,n,e,r){return function(h){var d,polygon,v,m,y,_,x,w,M,D,N,k=h,S=mr(),T=xr(t,n,e,r),C={point:L,lineStart:function(){C.point=P,polygon&&polygon.push(v=[]);D=!0,M=!1,x=w=NaN},lineEnd:function(){d&&(P(m,y),_&&M&&S.rejoin(),d.push(S.buffer()));C.point=L,M&&h.lineEnd()},polygonStart:function(){h=S,d=[],polygon=[],N=!0},polygonEnd:function(){h=k,d=c.merge(d);var n=function(p){for(var t=0,n=polygon.length,e=p[1],i=0;i<n;++i)for(var b,r=1,o=polygon[i],c=o.length,a=o[0];r<c;++r)b=o[r],a[1]<=e?b[1]>e&&Zt(a,b,p)>0&&++t:b[1]<=e&&Zt(a,b,p)<0&&--t,a=b;return 0!==t}([t,r]),e=N&&n,o=d.length;(e||o)&&(h.polygonStart(),e&&(h.lineStart(),A(null,null,1,h),h.lineEnd()),o&&lr(d,f,n,A,h),h.polygonEnd()),d=polygon=v=null}};function A(c,f,h,d){var a=0,v=0;if(null==c||(a=o(c,h))!==(v=o(f,h))||l(c,f)<0^h>0)do{d.point(0===a||3===a?t:e,a>1?r:n)}while((a=(a+h+4)%4)!==v);else d.point(f[0],f[1])}function E(o,c){return t<=o&&o<=e&&n<=c&&c<=r}function L(t,n){E(t,n)&&h.point(t,n)}function P(t,n){var e=E(t=Math.max(-wr,Math.min(wr,t)),n=Math.max(-wr,Math.min(wr,n)));if(polygon&&v.push([t,n]),D)m=t,y=n,_=e,D=!1,e&&(h.lineStart(),h.point(t,n));else if(e&&M)h.point(t,n);else{var r={a:{x:x,y:w},b:{x:t,y:n}};T(r)?(M||(h.lineStart(),h.point(r.a.x,r.a.y)),h.point(r.b.x,r.b.y),e||h.lineEnd(),N=!1):e&&(h.lineStart(),h.point(t,n),N=!1)}x=t,w=n,M=e}return C};function o(p,r){return C(p[0]-t)<zt?r>0?0:3:C(p[0]-e)<zt?r>0?2:1:C(p[1]-n)<zt?r>0?1:0:r>0?3:2}function f(a,b){return l(a.x,b.x)}function l(a,b){var t=o(a,1),n=o(b,1);return t!==n?t-n:0===t?b[1]-a[1]:1===t?a[0]-b[0]:2===t?a[1]-b[1]:b[0]-a[0]}}function Dr(t){var n=0,e=Yt/3,r=Gr(t),p=r(n,e);return p.parallels=function(t){return arguments.length?r(n=t[0]*Yt/180,e=t[1]*Yt/180):[n/Yt*180,e/Yt*180]},p}function Nr(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,o=1+e*(2*r-e),c=Math.sqrt(o)/r;function f(t,n){var e=Math.sqrt(o-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),c-e*Math.cos(t)]}return f.invert=function(t,n){var e=c-n;return[Math.atan2(t,e)/r,Gt((o-(t*t+e*e)*r*r)/(2*r))]},f}c.geo.clipExtent=function(){var t,n,e,r,o,c,f={stream:function(output){return o&&(o.valid=!1),(o=c(output)).valid=!0,o},extent:function(l){return arguments.length?(c=Mr(t=+l[0][0],n=+l[0][1],e=+l[1][0],r=+l[1][1]),o&&(o.valid=!1,o=null),f):[[t,n],[e,r]]}};return f.extent([[0,0],[960,500]])},(c.geo.conicEqualArea=function(){return Dr(Nr)}).raw=Nr,c.geo.albers=function(){return c.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},c.geo.albersUsa=function(){var t,n,e,r,o=c.geo.albers(),f=c.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=c.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(n,e){t=[n,e]}};function d(o){var c=o[0],f=o[1];return t=null,n(c,f),t||(e(c,f),t)||r(c,f),t}return d.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,c=(t[1]-e[1])/n;return(c>=.12&&c<.234&&r>=-.425&&r<-.214?f:c>=.166&&c<.234&&r>=-.214&&r<-.115?l:o).invert(t)},d.stream=function(t){var n=o.stream(t),e=f.stream(t),r=l.stream(t);return{point:function(t,o){n.point(t,o),e.point(t,o),r.point(t,o)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},d.precision=function(t){return arguments.length?(o.precision(t),f.precision(t),l.precision(t),d):o.precision()},d.scale=function(t){return arguments.length?(o.scale(t),f.scale(.35*t),l.scale(t),d.translate(o.translate())):o.scale()},d.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),v=+t[0],m=+t[1];return n=o.translate(t).clipExtent([[v-.455*c,m-.238*c],[v+.455*c,m+.238*c]]).stream(h).point,e=f.translate([v-.307*c,m+.201*c]).clipExtent([[v-.425*c+zt,m+.12*c+zt],[v-.214*c-zt,m+.234*c-zt]]).stream(h).point,r=l.translate([v-.205*c,m+.212*c]).clipExtent([[v-.214*c+zt,m+.166*c+zt],[v-.115*c-zt,m+.234*c-zt]]).stream(h).point,d},d.scale(1070)};var kr,Sr,Tr,Cr,Ar,Er,Lr={point:X,lineStart:X,lineEnd:X,polygonStart:function(){Sr=0,Lr.lineStart=Pr},polygonEnd:function(){Lr.lineStart=Lr.lineEnd=Lr.point=X,kr+=C(Sr/2)}};function Pr(){var t,n,e,r;function o(t,n){Sr+=r*t-e*n,e=t,r=n}Lr.point=function(c,f){Lr.point=o,t=e=c,n=r=f},Lr.lineEnd=function(){o(t,n)}}var Rr={point:function(t,n){t<Tr&&(Tr=t);t>Ar&&(Ar=t);n<Cr&&(Cr=n);n>Er&&(Er=n)},lineStart:X,lineEnd:X,polygonStart:X,polygonEnd:X};function Fr(){var t=Ur(4.5),n=[],e={point:r,lineStart:function(){e.point=o},lineEnd:f,polygonStart:function(){e.lineEnd=l},polygonEnd:function(){e.lineEnd=f,e.point=r},pointRadius:function(n){return t=Ur(n),e},result:function(){if(n.length){var t=n.join("");return n=[],t}}};function r(e,r){n.push("M",e,",",r,t)}function o(t,r){n.push("M",t,",",r),e.point=c}function c(t,e){n.push("L",t,",",e)}function f(){e.point=r}function l(){n.push("Z")}return e}function Ur(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var zr,Ir={point:Yr,lineStart:qr,lineEnd:Hr,polygonStart:function(){Ir.lineStart=Or},polygonEnd:function(){Ir.point=Yr,Ir.lineStart=qr,Ir.lineEnd=Hr}};function Yr(t,n){Ue+=t,ze+=n,++Ie}function qr(){var t,n;function e(e,r){var o=e-t,c=r-n,f=Math.sqrt(o*o+c*c);Ye+=f*(t+e)/2,qe+=f*(n+r)/2,He+=f,Yr(t=e,n=r)}Ir.point=function(r,o){Ir.point=e,Yr(t=r,n=o)}}function Hr(){Ir.point=Yr}function Or(){var t,n,e,r;function o(t,n){var o=t-e,c=n-r,f=Math.sqrt(o*o+c*c);Ye+=f*(e+t)/2,qe+=f*(r+n)/2,He+=f,Oe+=(f=r*t-e*n)*(e+t),je+=f*(r+n),Ve+=3*f,Yr(e=t,r=n)}Ir.point=function(c,f){Ir.point=o,Yr(t=e=c,n=r=f)},Ir.lineEnd=function(){o(t,n)}}function jr(t){var n=4.5,e={point:r,lineStart:function(){e.point=o},lineEnd:f,polygonStart:function(){e.lineEnd=l},polygonEnd:function(){e.lineEnd=f,e.point=r},pointRadius:function(t){return n=t,e},result:X};function r(e,r){t.moveTo(e+n,r),t.arc(e,r,n,0,qt)}function o(n,r){t.moveTo(n,r),e.point=c}function c(n,e){t.lineTo(n,e)}function f(){e.point=r}function l(){t.closePath()}return e}function Vr(t){var n=.5,e=Math.cos(30*jt),r=16;function o(n){return(r?function(n){var e,o,f,l,h,d,v,m,y,_,x,w,M={point:D,lineStart:N,lineEnd:S,polygonStart:function(){n.polygonStart(),M.lineStart=T},polygonEnd:function(){n.polygonEnd(),M.lineStart=N}};function D(e,r){e=t(e,r),n.point(e[0],e[1])}function N(){m=NaN,M.point=k,n.lineStart()}function k(e,o){var f=Ge([e,o]),p=t(e,o);c(m,y,v,_,x,w,m=p[0],y=p[1],v=e,_=f[0],x=f[1],w=f[2],r,n),n.point(m,y)}function S(){M.point=D,n.lineEnd()}function T(){N(),M.point=C,M.lineEnd=A}function C(t,n){k(e=t,n),o=m,f=y,l=_,h=x,d=w,M.point=k}function A(){c(m,y,v,_,x,w,o,f,e,l,h,d,r,n),M.lineEnd=S,S()}return M}:function(n){return Zr(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})})(n)}function c(r,o,f,l,h,d,v,m,y,_,x,w,M,D){var N=v-r,k=m-o,S=N*N+k*k;if(S>4*n&&M--){var a=l+_,b=h+x,T=d+w,A=Math.sqrt(a*a+b*b+T*T),E=Math.asin(T/=A),L=C(C(T)-1)<zt||C(f-y)<zt?(f+y)/2:Math.atan2(b,a),p=t(L,E),P=p[0],R=p[1],F=P-r,U=R-o,z=k*F-N*U;(z*z/S>n||C((N*F+k*U)/S-.5)>.3||l*_+h*x+d*w<e)&&(c(r,o,f,l,h,d,P,R,L,a/=A,b/=A,T,M,D),D.point(P,R),c(P,R,L,a,b,T,v,m,y,_,x,w,M,D))}}return o.precision=function(t){return arguments.length?(r=(n=t*t)>0&&16,o):Math.sqrt(n)},o}function Wr(t){this.stream=t}function Zr(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Xr(t){return Gr(function(){return t})()}function Gr(t){var n,e,r,o,f,l,h=Vr(function(t,e){return[(t=n(t,e))[0]*d+o,f-t[1]*d]}),d=150,v=480,m=250,y=0,_=0,x=0,w=0,M=0,D=_r,N=j,k=null,S=null;function T(t){return[(t=r(t[0]*jt,t[1]*jt))[0]*d+o,f-t[1]*d]}function A(t){return(t=r.invert((t[0]-o)/d,(f-t[1])/d))&&[t[0]*Vt,t[1]*Vt]}function E(){r=sr(e=Jr(x,w,M),n);var t=n(y,_);return o=v-t[0]*d,f=m+t[1]*d,L()}function L(){return l&&(l.valid=!1,l=null),T}return T.stream=function(output){return l&&(l.valid=!1),(l=Br(D(e,h(N(output))))).valid=!0,l},T.clipAngle=function(t){return arguments.length?(D=null==t?(k=t,_r):function(t){var n=Math.cos(t),e=n>0,r=C(n)>zt;return gr(o,function(t){var n,f,l,h,d;return{lineStart:function(){h=l=!1,d=1},point:function(v,m){var y,_=[v,m],x=o(v,m),w=e?x?0:code(v,m):x?code(v+(v<0?Yt:-Yt),m):0;if(!n&&(h=l=x)&&t.lineStart(),x!==l&&(y=c(n,_),(er(n,y)||er(_,y))&&(_[0]+=zt,_[1]+=zt,x=o(_[0],_[1]))),x!==l)d=0,x?(t.lineStart(),y=c(_,n),t.point(y[0],y[1])):(y=c(n,_),t.point(y[0],y[1]),t.lineEnd()),n=y;else if(r&&n&&e^x){var M;w&f||!(M=c(_,n,!0))||(d=0,e?(t.lineStart(),t.point(M[0][0],M[0][1]),t.point(M[1][0],M[1][1]),t.lineEnd()):(t.point(M[1][0],M[1][1]),t.lineEnd(),t.lineStart(),t.point(M[0][0],M[0][1])))}!x||n&&er(n,_)||t.point(_[0],_[1]),n=_,l=x,f=w},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return d|(h&&l)<<1}}},ei(t,6*jt),e?[0,-t]:[-Yt,t-Yt]);function o(t,e){return Math.cos(t)*Math.cos(e)>n}function c(a,b,t){var e=[1,0,0],r=$e(Ge(a),Ge(b)),o=Be(r,r),c=r[0],f=o-c*c;if(!f)return!t&&a;var l=n*o/f,h=-n*c/f,d=$e(e,r),v=Je(e,l);Ke(v,Je(r,h));var u=d,m=Be(v,u),y=Be(u,u),_=m*m-y*(Be(v,v)-1);if(!(_<0)){var x=Math.sqrt(_),q=Je(u,(-m-x)/y);if(Ke(q,v),q=nr(q),!t)return q;var w,M=a[0],D=b[0],N=a[1],k=b[1];D<M&&(w=M,M=D,D=w);var S=D-M,T=C(S-Yt)<zt;if(!T&&k<N&&(w=N,N=k,k=w),T||S<zt?T?N+k>0^q[1]<(C(q[0]-M)<zt?N:k):N<=q[1]&&q[1]<=k:S>Yt^(M<=q[0]&&q[0]<=D)){var A=Je(u,(-m+x)/y);return Ke(A,v),[q,nr(A)]}}}function code(n,r){var o=e?t:Yt-t,code=0;return n<-o?code|=1:n>o&&(code|=2),r<-o?code|=4:r>o&&(code|=8),code}}((k=+t)*jt),L()):k},T.clipExtent=function(t){return arguments.length?(S=t,N=t?Mr(t[0][0],t[0][1],t[1][0],t[1][1]):j,L()):S},T.scale=function(t){return arguments.length?(d=+t,E()):d},T.translate=function(t){return arguments.length?(v=+t[0],m=+t[1],E()):[v,m]},T.center=function(t){return arguments.length?(y=t[0]%360*jt,_=t[1]%360*jt,E()):[y*Vt,_*Vt]},T.rotate=function(t){return arguments.length?(x=t[0]%360*jt,w=t[1]%360*jt,M=t.length>2?t[2]%360*jt:0,E()):[x*Vt,w*Vt,M*Vt]},c.rebind(T,h,"precision"),function(){return n=t.apply(this,arguments),T.invert=n.invert&&A,E()}}function Br(t){return Zr(t,function(n,e){t.point(n*jt,e*jt)})}function $r(t,n){return[t,n]}function Kr(t,n){return[t>Yt?t-qt:t<-Yt?t+qt:t,n]}function Jr(t,n,e){return t?n||e?sr(ti(t),ni(n,e)):ti(t):n||e?ni(n,e):Kr}function Qr(t){return function(n,e){return[(n+=t)>Yt?n-qt:n<-Yt?n+qt:n,e]}}function ti(t){var n=Qr(t);return n.invert=Qr(-t),n}function ni(t,n){var e=Math.cos(t),r=Math.sin(t),o=Math.cos(n),c=Math.sin(n);function f(t,n){var f=Math.cos(n),l=Math.cos(t)*f,h=Math.sin(t)*f,d=Math.sin(n),v=d*e+l*r;return[Math.atan2(h*o-v*c,l*e-d*r),Gt(v*o+h*c)]}return f.invert=function(t,n){var f=Math.cos(n),l=Math.cos(t)*f,h=Math.sin(t)*f,d=Math.sin(n),v=d*o-h*c;return[Math.atan2(h*o+d*c,l*e+v*r),Gt(v*e-l*r)]},f}function ei(t,n){var e=Math.cos(t),r=Math.sin(t);return function(o,c,f,l){var h=f*n;null!=o?(o=ri(e,o),c=ri(e,c),(f>0?o<c:o>c)&&(o+=f*qt)):(o=t+f*qt,c=t-.5*h);for(var d,v=o;f>0?v>c:v<c;v-=h)l.point((d=nr([e,-r*Math.cos(v),-r*Math.sin(v)]))[0],d[1])}}function ri(t,n){var a=Ge(n);a[0]-=t,Qe(a);var e=Xt(-a[1]);return((-a[2]<0?-e:e)+2*Math.PI-zt)%(2*Math.PI)}function ii(t,n,e){var r=c.range(t,n-zt,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function ai(t,n,e){var r=c.range(t,n-zt,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function oi(t){return t.source}function ui(t){return t.target}c.geo.path=function(){var t,n,e,r,o,f=4.5;function path(object){return object&&("function"==typeof f&&r.pointRadius(+f.apply(this,arguments)),o&&o.valid||(o=e(r)),c.geo.stream(object,o)),r.result()}function l(){return o=null,path}return path.area=function(object){return kr=0,c.geo.stream(object,e(Lr)),kr},path.centroid=function(object){return Ue=ze=Ie=Ye=qe=He=Oe=je=Ve=0,c.geo.stream(object,e(Ir)),Ve?[Oe/Ve,je/Ve]:He?[Ye/He,qe/He]:Ie?[Ue/Ie,ze/Ie]:[NaN,NaN]},path.bounds=function(object){return Ar=Er=-(Tr=Cr=1/0),c.geo.stream(object,e(Rr)),[[Tr,Cr],[Ar,Er]]},path.projection=function(n){return arguments.length?(e=(t=n)?n.stream||(r=n,o=Vr(function(t,n){return r([t*Vt,n*Vt])}),function(t){return Br(o(t))}):j,l()):t;var r,o},path.context=function(t){return arguments.length?(r=null==(n=t)?new Fr:new jr(t),"function"!=typeof f&&r.pointRadius(f),l()):n},path.pointRadius=function(t){return arguments.length?(f="function"==typeof t?t:(r.pointRadius(+t),+t),path):f},path.projection(c.geo.albersUsa()).context(null)},c.geo.transform=function(t){return{stream:function(n){var e=new Wr(n);for(var r in t)e[r]=t[r];return e}}},Wr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},c.geo.projection=Xr,c.geo.projectionMutator=Gr,(c.geo.equirectangular=function(){return Xr($r)}).raw=$r.invert=$r,c.geo.rotation=function(t){function n(n){return(n=t(n[0]*jt,n[1]*jt))[0]*=Vt,n[1]*=Vt,n}return t=Jr(t[0]%360*jt,t[1]*jt,t.length>2?t[2]*jt:0),n.invert=function(n){return(n=t.invert(n[0]*jt,n[1]*jt))[0]*=Vt,n[1]*=Vt,n},n},Kr.invert=$r,c.geo.circle=function(){var t,n,e=[0,0],r=6;function circle(){var t="function"==typeof e?e.apply(this,arguments):e,r=Jr(-t[0]*jt,-t[1]*jt,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=r(t,n)),t[0]*=Vt,t[1]*=Vt}}),{type:"Polygon",coordinates:[o]}}return circle.origin=function(t){return arguments.length?(e=t,circle):e},circle.angle=function(e){return arguments.length?(n=ei((t=+e)*jt,r*jt),circle):t},circle.precision=function(e){return arguments.length?(n=ei(t*jt,(r=+e)*jt),circle):r},circle.angle(90)},c.geo.distance=function(a,b){var t,n=(b[0]-a[0])*jt,e=a[1]*jt,r=b[1]*jt,o=Math.sin(n),c=Math.cos(n),f=Math.sin(e),l=Math.cos(e),h=Math.sin(r),d=Math.cos(r);return Math.atan2(Math.sqrt((t=d*o)*t+(t=l*h-f*d*c)*t),f*h+l*d*c)},c.geo.graticule=function(){var t,n,e,r,o,f,l,h,d,v,m,y,_=10,x=_,w=90,M=360,D=2.5;function N(){return{type:"MultiLineString",coordinates:k()}}function k(){return c.range(Math.ceil(r/w)*w,e,w).map(m).concat(c.range(Math.ceil(h/M)*M,l,M).map(y)).concat(c.range(Math.ceil(n/_)*_,t,_).filter(function(t){return C(t%w)>zt}).map(d)).concat(c.range(Math.ceil(f/x)*x,o,x).filter(function(t){return C(t%M)>zt}).map(v))}return N.lines=function(){return k().map(function(t){return{type:"LineString",coordinates:t}})},N.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(y(l).slice(1),m(e).reverse().slice(1),y(h).reverse().slice(1))]}},N.extent=function(t){return arguments.length?N.majorExtent(t).minorExtent(t):N.minorExtent()},N.majorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],h=+t[0][1],l=+t[1][1],r>e&&(t=r,r=e,e=t),h>l&&(t=h,h=l,l=t),N.precision(D)):[[r,h],[e,l]]},N.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],f=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),f>o&&(e=f,f=o,o=e),N.precision(D)):[[n,f],[t,o]]},N.step=function(t){return arguments.length?N.majorStep(t).minorStep(t):N.minorStep()},N.majorStep=function(t){return arguments.length?(w=+t[0],M=+t[1],N):[w,M]},N.minorStep=function(t){return arguments.length?(_=+t[0],x=+t[1],N):[_,x]},N.precision=function(c){return arguments.length?(D=+c,d=ii(f,o,90),v=ai(n,t,D),m=ii(h,l,90),y=ai(r,e,D),N):D},N.majorExtent([[-180,-90+zt],[180,90-zt]]).minorExtent([[-180,-80-zt],[180,80+zt]])},c.geo.greatArc=function(){var t,n,source=oi,e=ui;function r(){return{type:"LineString",coordinates:[t||source.apply(this,arguments),n||e.apply(this,arguments)]}}return r.distance=function(){return c.geo.distance(t||source.apply(this,arguments),n||e.apply(this,arguments))},r.source=function(n){return arguments.length?(source=n,t="function"==typeof n?null:n,r):source},r.target=function(t){return arguments.length?(e=t,n="function"==typeof t?null:t,r):e},r.precision=function(){return arguments.length?r:0},r},c.geo.interpolate=function(source,t){return n=source[0]*jt,e=source[1]*jt,r=t[0]*jt,o=t[1]*jt,c=Math.cos(e),f=Math.sin(e),l=Math.cos(o),h=Math.sin(o),d=c*Math.cos(n),v=c*Math.sin(n),m=l*Math.cos(r),y=l*Math.sin(r),_=2*Math.asin(Math.sqrt($t(o-e)+c*l*$t(r-n))),x=1/Math.sin(_),(w=_?function(t){var n=Math.sin(t*=_)*x,e=Math.sin(_-t)*x,r=e*d+n*m,o=e*v+n*y,c=e*f+n*h;return[Math.atan2(o,r)*Vt,Math.atan2(c,Math.sqrt(r*r+o*o))*Vt]}:function(){return[n*Vt,e*Vt]}).distance=_,w;var n,e,r,o,c,f,l,h,d,v,m,y,_,x,w},c.geo.length=function(object){return zr=0,c.geo.stream(object,ci),zr};var ci={sphere:X,point:X,lineStart:function(){var t,n,e;function r(r,o){var c=Math.sin(o*=jt),f=Math.cos(o),l=C((r*=jt)-t),h=Math.cos(l);zr+=Math.atan2(Math.sqrt((l=f*Math.sin(l))*l+(l=e*c-n*f*h)*l),n*c+e*f*h),t=r,n=c,e=f}ci.point=function(o,c){t=o*jt,n=Math.sin(c*=jt),e=Math.cos(c),ci.point=r},ci.lineEnd=function(){ci.point=ci.lineEnd=X}},lineEnd:X,polygonStart:X,polygonEnd:X};function si(t,n){function e(n,e){var r=Math.cos(n),o=Math.cos(e),c=t(r*o);return[c*o*Math.sin(n),c*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),o=n(r),c=Math.sin(o),f=Math.cos(o);return[Math.atan2(t*c,r*f),Math.asin(r&&e*c/r)]},e}var fi=si(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(c.geo.azimuthalEqualArea=function(){return Xr(fi)}).raw=fi;var hi=si(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},j);function di(t,n){var e=Math.cos(t),r=function(t){return Math.tan(Yt/4+t/2)},o=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),c=e*Math.pow(r(t),o)/o;if(!o)return vi;function f(t,n){c>0?n<-Ot+zt&&(n=-Ot+zt):n>Ot-zt&&(n=Ot-zt);var e=c/Math.pow(r(n),o);return[e*Math.sin(o*t),c-e*Math.cos(o*t)]}return f.invert=function(t,n){var e=c-n,r=Wt(o)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/o,2*Math.atan(Math.pow(c/r,1/o))-Ot]},f}function pi(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),o=e/r+t;if(C(r)<zt)return $r;function c(t,n){var e=o-n;return[e*Math.sin(r*t),o-e*Math.cos(r*t)]}return c.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/r,o-Wt(r)*Math.sqrt(t*t+e*e)]},c}(c.geo.azimuthalEquidistant=function(){return Xr(hi)}).raw=hi,(c.geo.conicConformal=function(){return Dr(di)}).raw=di,(c.geo.conicEquidistant=function(){return Dr(pi)}).raw=pi;var gi=si(function(t){return 1/t},Math.atan);function vi(t,n){return[t,Math.log(Math.tan(Yt/4+n/2))]}function mi(t){var n,e=Xr(t),r=e.scale,o=e.translate,c=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=o.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var f=c.apply(e,arguments);if(f===e){if(n=null==t){var l=Yt*r(),h=o();c([[h[0]-l,h[1]-l],[h[0]+l,h[1]+l]])}}else n&&(f=null);return f},e.clipExtent(null)}(c.geo.gnomonic=function(){return Xr(gi)}).raw=gi,vi.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Ot]},(c.geo.mercator=function(){return mi(vi)}).raw=vi;var yi=si(function(){return 1},Math.asin);(c.geo.orthographic=function(){return Xr(yi)}).raw=yi;var bi=si(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function _i(t,n){return[Math.log(Math.tan(Yt/4+n/2)),-t]}function xi(t){return t[0]}function wi(t){return t[1]}function Mi(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;i++){for(;r>1&&Zt(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Di(a,b){return a[0]-b[0]||a[1]-b[1]}(c.geo.stereographic=function(){return Xr(bi)}).raw=bi,_i.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Ot]},(c.geo.transverseMercator=function(){var t=mi(_i),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90])}).raw=_i,c.geom={},c.geom.hull=function(t){var n=xi,e=wi;if(arguments.length)return r(t);function r(data){if(data.length<3)return[];var i,t=En(n),r=En(e),o=data.length,c=[],f=[];for(i=0;i<o;i++)c.push([+t.call(this,data[i],i),+r.call(this,data[i],i),i]);for(c.sort(Di),i=0;i<o;i++)f.push([c[i][0],-c[i][1]]);var l=Mi(c),h=Mi(f),d=h[0]===l[0],v=h[h.length-1]===l[l.length-1],polygon=[];for(i=l.length-1;i>=0;--i)polygon.push(data[c[l[i]][2]]);for(i=+d;i<h.length-v;++i)polygon.push(data[c[h[i]][2]]);return polygon}return r.x=function(t){return arguments.length?(n=t,r):n},r.y=function(t){return arguments.length?(e=t,r):e},r},c.geom.polygon=function(t){return tt(t,Ni),t};var Ni=c.geom.polygon.prototype=[];function ki(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function Si(t,n,a,b){var e=t[0],r=a[0],o=n[0]-e,c=b[0]-r,f=t[1],l=a[1],h=n[1]-f,d=b[1]-l,v=(c*(f-l)-d*(e-r))/(d*o-c*h);return[e+v*o,f+v*h]}function Ti(t){var a=t[0],b=t[t.length-1];return!(a[0]-b[0]||a[1]-b[1])}Ni.area=function(){for(var a,i=-1,t=this.length,b=this[t-1],area=0;++i<t;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},Ni.centroid=function(t){var a,n,i=-1,e=this.length,r=0,o=0,b=this[e-1];for(arguments.length||(t=-1/(6*this.area()));++i<e;)a=b,b=this[i],n=a[0]*b[1]-b[0]*a[1],r+=(a[0]+b[0])*n,o+=(a[1]+b[1])*n;return[r*t,o*t]},Ni.clip=function(t){for(var input,n,e,b,r,o,c=Ti(t),i=-1,f=this.length-Ti(this),a=this[f-1];++i<f;){for(input=t.slice(),t.length=0,b=this[i],r=input[(e=input.length-c)-1],n=-1;++n<e;)ki(o=input[n],a,b)?(ki(r,a,b)||t.push(Si(r,o,a,b)),t.push(o)):ki(r,a,b)&&t.push(Si(r,o,a,b)),r=o;c&&t.push(t[0]),a=b}return t};var Ci,Ai,Ei,Li,Pi,Ri=[],Fi=[];function Ui(){ta(this),this.edge=this.site=this.circle=null}function zi(t){var n=Ri.pop()||new Ui;return n.site=t,n}function Ii(t){Xi(t),Ei.remove(t),Ri.push(t),ta(t)}function Yi(t){var circle=t.circle,n=circle.x,e=circle.cy,r={x:n,y:e},o=t.P,c=t.N,f=[t];Ii(t);for(var l=o;l.circle&&C(n-l.circle.x)<zt&&C(e-l.circle.cy)<zt;)o=l.P,f.unshift(l),Ii(l),l=o;f.unshift(l),Xi(l);for(var h=c;h.circle&&C(n-h.circle.x)<zt&&C(e-h.circle.cy)<zt;)c=h.N,f.push(h),Ii(h),h=c;f.push(h),Xi(h);var d,v=f.length;for(d=1;d<v;++d)h=f[d],l=f[d-1],Ki(h.edge,l.site,h.site,r);l=f[0],(h=f[v-1]).edge=$i(l.site,h.site,null,r),Zi(l),Zi(h)}function qi(t){for(var n,e,r,o,c=t.x,f=t.y,l=Ei._;l;)if((r=Hi(l,f)-c)>zt)l=l.L;else{if(!((o=c-Oi(l,f))>zt)){r>-zt?(n=l.P,e=l):o>-zt?(n=l,e=l.N):n=e=l;break}if(!l.R){n=l;break}l=l.R}var h=zi(t);if(Ei.insert(n,h),n||e){if(n===e)return Xi(n),e=zi(n.site),Ei.insert(h,e),h.edge=e.edge=$i(n.site,h.site),Zi(n),void Zi(e);if(e){Xi(n),Xi(e);var d=n.site,v=d.x,m=d.y,y=t.x-v,_=t.y-m,x=e.site,w=x.x-v,M=x.y-m,D=2*(y*M-_*w),N=y*y+_*_,k=w*w+M*M,S={x:(M*N-_*k)/D+v,y:(y*k-w*N)/D+m};Ki(e.edge,d,x,S),h.edge=$i(d,t,null,S),e.edge=$i(t,x,null,S),Zi(n),Zi(e)}else h.edge=$i(n.site,h.site)}}function Hi(t,n){var e=t.site,r=e.x,o=e.y,c=o-n;if(!c)return r;var f=t.P;if(!f)return-1/0;var l=(e=f.site).x,h=e.y,d=h-n;if(!d)return l;var v=l-r,m=1/c-1/d,b=v/d;return m?(-b+Math.sqrt(b*b-2*m*(v*v/(-2*d)-h+d/2+o-c/2)))/m+r:(r+l)/2}function Oi(t,n){var e=t.N;if(e)return Hi(e,n);var r=t.site;return r.y===n?r.x:1/0}function ji(t){this.site=t,this.edges=[]}function Vi(a,b){return b.angle-a.angle}function Wi(){ta(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zi(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,o=t.site,c=e.site;if(r!==c){var f=o.x,l=o.y,h=r.x-f,d=r.y-l,v=c.x-f,m=2*(h*(M=c.y-l)-d*v);if(!(m>=-It)){var y=h*h+d*d,_=v*v+M*M,x=(M*y-d*_)/m,w=(h*_-v*y)/m,M=w+l,circle=Fi.pop()||new Wi;circle.arc=t,circle.site=o,circle.x=x+f,circle.y=M+Math.sqrt(x*x+w*w),circle.cy=M,t.circle=circle;for(var D=null,N=Pi._;N;)if(circle.y<N.y||circle.y===N.y&&circle.x<=N.x){if(!N.L){D=N.P;break}N=N.L}else{if(!N.R){D=N;break}N=N.R}Pi.insert(D,circle),D||(Li=circle)}}}}function Xi(t){var circle=t.circle;circle&&(circle.P||(Li=circle.N),Pi.remove(circle),Fi.push(circle),ta(circle),t.circle=null)}function Gi(t,n){var e=t.b;if(e)return!0;var r,o,c=t.a,f=n[0][0],l=n[1][0],h=n[0][1],d=n[1][1],v=t.l,m=t.r,y=v.x,_=v.y,x=m.x,w=m.y,M=(y+x)/2,D=(_+w)/2;if(w===_){if(M<f||M>=l)return;if(y>x){if(c){if(c.y>=d)return}else c={x:M,y:h};e={x:M,y:d}}else{if(c){if(c.y<h)return}else c={x:M,y:d};e={x:M,y:h}}}else if(o=D-(r=(y-x)/(w-_))*M,r<-1||r>1)if(y>x){if(c){if(c.y>=d)return}else c={x:(h-o)/r,y:h};e={x:(d-o)/r,y:d}}else{if(c){if(c.y<h)return}else c={x:(d-o)/r,y:d};e={x:(h-o)/r,y:h}}else if(_<w){if(c){if(c.x>=l)return}else c={x:f,y:r*f+o};e={x:l,y:r*l+o}}else{if(c){if(c.x<f)return}else c={x:l,y:r*l+o};e={x:f,y:r*f+o}}return t.a=c,t.b=e,!0}function Bi(t,n){this.l=t,this.r=n,this.a=this.b=null}function $i(t,n,e,r){var o=new Bi(t,n);return Ci.push(o),e&&Ki(o,t,n,e),r&&Ki(o,n,t,r),Ai[t.i].edges.push(new Ji(o,t,n)),Ai[n.i].edges.push(new Ji(o,n,t)),o}function Ki(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function Ji(t,n,e){var r=t.a,o=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Qi(){this._=null}function ta(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function na(t,n){var p=n,q=n.R,e=p.U;e?e.L===p?e.L=q:e.R=q:t._=q,q.U=e,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function ea(t,n){var p=n,q=n.L,e=p.U;e?e.L===p?e.L=q:e.R=q:t._=q,q.U=e,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function ra(t){for(;t.L;)t=t.L;return t}function ia(t,n){var e,r,circle,o=t.sort(aa).pop();for(Ci=[],Ai=new Array(t.length),Ei=new Qi,Pi=new Qi;;)if(circle=Li,o&&(!circle||o.y<circle.y||o.y===circle.y&&o.x<circle.x))o.x===e&&o.y===r||(Ai[o.i]=new ji(o),qi(o),e=o.x,r=o.y),o=t.pop();else{if(!circle)break;Yi(circle.arc)}n&&(function(t){for(var n,e=Ci,r=xr(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)(!Gi(n=e[i],t)||!r(n)||C(n.a.x-n.b.x)<zt&&C(n.a.y-n.b.y)<zt)&&(n.a=n.b=null,e.splice(i,1))}(n),function(t){for(var n,e,r,o,c,f,l,h,d,v,m=t[0][0],y=t[1][0],_=t[0][1],x=t[1][1],w=Ai,M=w.length;M--;)if((c=w[M])&&c.prepare())for(h=(l=c.edges).length,f=0;f<h;)r=(v=l[f].end()).x,o=v.y,n=(d=l[++f%h].start()).x,e=d.y,(C(r-n)>zt||C(o-e)>zt)&&(l.splice(f,0,new Ji((D=c.site,N=v,k=C(r-m)<zt&&x-o>zt?{x:m,y:C(n-m)<zt?e:x}:C(o-x)<zt&&y-r>zt?{x:C(e-x)<zt?n:y,y:x}:C(r-y)<zt&&o-_>zt?{x:y,y:C(n-y)<zt?e:_}:C(o-_)<zt&&r-m>zt?{x:C(e-_)<zt?n:m,y:_}:null,S=void 0,S=new Bi(D,null),S.a=N,S.b=k,Ci.push(S),S),c.site,null)),++h);var D,N,k,S}(n));var c={cells:Ai,edges:Ci};return Ei=Pi=Ci=Ai=null,c}function aa(a,b){return b.y-a.y||b.x-a.x}ji.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(Vi),n.length},Ji.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Qi.prototype={insert:function(t,n){var e,r,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ra(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(o=r.R)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.R&&(na(this,e),e=(t=e).U),e.C=!1,r.C=!0,ea(this,r)):(o=r.L)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.L&&(ea(this,e),e=(t=e).U),e.C=!1,r.C=!0,na(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,o=t.U,c=t.L,f=t.R;if(e=c?f?ra(f):c:f,o?o.L===t?o.L=e:o.R=e:this._=e,c&&f?(r=e.C,e.C=t.C,e.L=c,c.U=e,e!==f?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=f,f.U=e):(e.U=o,o=e,t=e.R)):(r=t.C,t=e),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((n=o.R).C&&(n.C=!1,o.C=!0,na(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ea(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,na(this,o),t=this._;break}}else if((n=o.L).C&&(n.C=!1,o.C=!0,ea(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,na(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,ea(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},c.geom.voronoi=function(t){var n=xi,e=wi,r=n,o=e,c=oa;if(t)return f(t);function f(data){var t=new Array(data.length),n=c[0][0],e=c[0][1],r=c[1][0],o=c[1][1];return ia(l(data),c).cells.forEach(function(c,i){var f=c.edges,l=c.site;(t[i]=f.length?f.map(function(t){var s=t.start();return[s.x,s.y]}):l.x>=n&&l.x<=r&&l.y>=e&&l.y<=o?[[n,o],[r,o],[r,e],[n,e]]:[]).point=data[i]}),t}function l(data){return data.map(function(t,i){return{x:Math.round(r(t,i)/zt)*zt,y:Math.round(o(t,i)/zt)*zt,i:i}})}return f.links=function(data){return ia(l(data)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:data[t.l.i],target:data[t.r.i]}})},f.triangles=function(data){var t=[];return ia(l(data)).cells.forEach(function(n,i){for(var e,a,b,r,o=n.site,c=n.edges.sort(Vi),f=-1,l=c.length,h=c[l-1].edge,d=h.l===o?h.r:h.l;++f<l;)h,e=d,d=(h=c[f].edge).l===o?h.r:h.l,i<e.i&&i<d.i&&(b=e,r=d,((a=o).x-r.x)*(b.y-a.y)-(a.x-b.x)*(r.y-a.y)<0)&&t.push([data[i],data[e.i],data[d.i]])}),t},f.x=function(t){return arguments.length?(r=En(n=t),f):n},f.y=function(t){return arguments.length?(o=En(e=t),f):e},f.clipExtent=function(t){return arguments.length?(c=null==t?oa:t,f):c===oa?null:c},f.size=function(t){return arguments.length?f.clipExtent(t&&[[0,0],t]):c===oa?null:c&&c[1]},f};var oa=[[-1e6,-1e6],[1e6,1e6]];function ua(t){return t.x}function ca(t){return t.y}function sa(a,b){a=c.rgb(a),b=c.rgb(b);var t=a.r,n=a.g,e=a.b,br=b.r-t,r=b.g-n,o=b.b-e;return function(c){return"#"+Dn(Math.round(t+br*c))+Dn(Math.round(n+r*c))+Dn(Math.round(e+o*c))}}function fa(a,b){var t,i={},n={};for(t in a)t in b?i[t]=ga(a[t],b[t]):n[t]=a[t];for(t in b)t in a||(n[t]=b[t]);return function(e){for(t in i)n[t]=i[t](e);return n}}function la(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function ha(a,b){var t,n,e,r=da.lastIndex=pa.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=da.exec(a))&&(n=pa.exec(b));)(e=n.index)>r&&(e=b.slice(r,e),s[i]?s[i]+=e:s[++i]=e),(t=t[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,q.push({i:i,x:la(t,n)})),r=pa.lastIndex;return r<b.length&&(e=b.slice(r),s[i]?s[i]+=e:s[++i]=e),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var n,i=0;i<b;++i)s[(n=q[i]).i]=n.x(t);return s.join("")})}c.geom.delaunay=function(t){return c.geom.voronoi().triangles(t)},c.geom.quadtree=function(t,n,e,r,o){var c,f=xi,l=wi;if(c=arguments.length)return f=ua,l=ca,3===c&&(o=e,r=n,e=n=0),h(t);function h(data){var t,h,d,i,v,m,y,_,x,w=En(f),M=En(l);if(null!=n)m=n,y=e,_=r,x=o;else if(_=x=-(m=y=1/0),h=[],d=[],v=data.length,c)for(i=0;i<v;++i)(t=data[i]).x<m&&(m=t.x),t.y<y&&(y=t.y),t.x>_&&(_=t.x),t.y>x&&(x=t.y),h.push(t.x),d.push(t.y);else for(i=0;i<v;++i){var D=+w(t=data[i],i),N=+M(t,i);D<m&&(m=D),N<y&&(y=N),D>_&&(_=D),N>x&&(x=N),h.push(D),d.push(N)}var k=_-m,S=x-y;function T(t,n,e,r,o,c,f,l){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var h=t.x,d=t.y;if(null!=h)if(C(h-e)+C(d-r)<.01)A(t,n,e,r,o,c,f,l);else{var v=t.point;t.x=t.y=t.point=null,A(t,v,h,d,o,c,f,l),A(t,n,e,r,o,c,f,l)}else t.x=e,t.y=r,t.point=n}else A(t,n,e,r,o,c,f,l)}function A(t,n,e,r,o,c,f,l){var h=.5*(o+f),d=.5*(c+l),v=e>=h,m=r>=d,i=m<<1|v;t.leaf=!1,v?o=h:f=h,m?c=d:l=d,T(t=t.nodes[i]||(t.nodes[i]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,e,r,o,c,f,l)}k>S?x=y+k:_=m+S;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(E,t,+w(t,++i),+M(t,i),m,y,_,x)}};if(E.visit=function(t){!function t(n,e,r,o,c,f){if(!n(e,r,o,c,f)){var l=.5*(r+c),h=.5*(o+f),d=e.nodes;d[0]&&t(n,d[0],r,o,l,h),d[1]&&t(n,d[1],l,o,c,h),d[2]&&t(n,d[2],r,h,l,f),d[3]&&t(n,d[3],l,h,c,f)}}(t,E,m,y,_,x)},E.find=function(t){return function(t,n,e,r,o,c,f){var l,h=1/0;return function t(d,v,m,y,_){if(!(v>c||m>f||y<r||_<o)){if(x=d.point){var x,w=n-d.x,M=e-d.y,D=w*w+M*M;if(D<h){var N=Math.sqrt(h=D);r=n-N,o=e-N,c=n+N,f=e+N,l=x}}for(var k=d.nodes,S=.5*(v+y),T=.5*(m+_),i=(e>=T)<<1|n>=S,C=i+4;i<C;++i)if(d=k[3&i])switch(3&i){case 0:t(d,v,m,S,T);break;case 1:t(d,S,m,y,T);break;case 2:t(d,v,T,S,_);break;case 3:t(d,S,T,y,_)}}}(t,r,o,c,f),l}(E,t[0],t[1],m,y,_,x)},i=-1,null==n){for(;++i<v;)T(E,data[i],h[i],d[i],m,y,_,x);--i}else data.forEach(E.add);return h=d=data=t=null,E}return h.x=function(t){return arguments.length?(f=t,h):f},h.y=function(t){return arguments.length?(l=t,h):l},h.extent=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),h):null==n?null:[[n,e],[r,o]]},h.size=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=e=0,r=+t[0],o=+t[1]),h):null==n?null:[r-n,o-e]},h},c.interpolateRgb=sa,c.interpolateObject=fa,c.interpolateNumber=la,c.interpolateString=ha;var da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pa=new RegExp(da.source,"g");function ga(a,b){for(var t,i=c.interpolators.length;--i>=0&&!(t=c.interpolators[i](a,b)););return t}function va(a,b){var i,t=[],n=[],e=a.length,r=b.length,o=Math.min(a.length,b.length);for(i=0;i<o;++i)t.push(ga(a[i],b[i]));for(;i<e;++i)n[i]=a[i];for(;i<r;++i)n[i]=b[i];return function(e){for(i=0;i<o;++i)n[i]=t[i](e);return n}}c.interpolate=ga,c.interpolators=[function(a,b){var t=typeof b;return("string"===t?An.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?sa:ha:b instanceof nn?sa:Array.isArray(b)?va:"object"===t&&isNaN(b)?fa:la)(a,b)}],c.interpolateArray=va;var ma=function(){return j},ya=c.map({linear:ma,poly:function(t){return function(n){return Math.pow(n,t)}},quad:function(){return wa},cubic:function(){return Ma},sin:function(){return Na},exp:function(){return ka},circle:function(){return Sa},elastic:function(a,p){var s;arguments.length<2&&(p=.45);arguments.length?s=p/qt*Math.asin(1/a):(a=1,s=p/4);return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*qt/p)}},back:function(s){s||(s=1.70158);return function(t){return t*t*((s+1)*t-s)}},bounce:function(){return Ta}}),ba=c.map({in:j,out:_a,"in-out":xa,"out-in":function(t){return xa(_a(t))}});function _a(t){return function(n){return 1-t(1-n)}}function xa(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function wa(t){return t*t}function Ma(t){return t*t*t}function Da(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function Na(t){return 1-Math.cos(t*Ot)}function ka(t){return Math.pow(2,10*(t-1))}function Sa(t){return 1-Math.sqrt(1-t*t)}function Ta(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ca(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function Aa(t){var a,b,n,e=[t.a,t.b],r=[t.c,t.d],o=La(e),c=Ea(e,r),f=La(((a=r)[0]+=(n=-c)*(b=e)[0],a[1]+=n*b[1],a))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,o*=-1,c*=-1),this.rotate=(o?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*Vt,this.translate=[t.e,t.f],this.scale=[o,f],this.skew=f?Math.atan2(c,f)*Vt:0}function Ea(a,b){return a[0]*b[0]+a[1]*b[1]}function La(a){var t=Math.sqrt(Ea(a,a));return t&&(a[0]/=t,a[1]/=t),t}c.ease=function(t){var n,i=t.indexOf("-"),e=i>=0?t.slice(0,i):t,r=i>=0?t.slice(i+1):"in";return e=ya.get(e)||ma,r=ba.get(r)||j,n=r(e.apply(null,f.call(arguments,1))),function(t){return t<=0?0:t>=1?1:n(t)}},c.interpolateHcl=function(a,b){a=c.hcl(a),b=c.hcl(b);var t=a.h,n=a.c,e=a.l,r=b.h-t,o=b.c-n,f=b.l-e;isNaN(o)&&(o=0,n=isNaN(n)?b.c:n);isNaN(r)?(r=0,t=isNaN(t)?b.h:t):r>180?r-=360:r<-180&&(r+=360);return function(c){return cn(t+r*c,n+o*c,e+f*c)+""}},c.interpolateHsl=function(a,b){a=c.hsl(a),b=c.hsl(b);var t=a.h,n=a.s,e=a.l,r=b.h-t,o=b.s-n,f=b.l-e;isNaN(o)&&(o=0,n=isNaN(n)?b.s:n);isNaN(r)?(r=0,t=isNaN(t)?b.h:t):r>180?r-=360:r<-180&&(r+=360);return function(c){return an(t+r*c,n+o*c,e+f*c)+""}},c.interpolateLab=function(a,b){a=c.lab(a),b=c.lab(b);var t=a.l,n=a.a,e=a.b,r=b.l-t,o=b.a-n,f=b.b-e;return function(c){return gn(t+r*c,n+o*c,e+f*c)+""}},c.interpolateRound=Ca,c.transform=function(t){var g=h.createElementNS(c.ns.prefix.svg,"g");return(c.transform=function(t){if(null!=t){g.setAttribute("transform",t);var n=g.transform.baseVal.consolidate()}return new Aa(n?n.matrix:Pa)})(t)},Aa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Pa={a:1,b:0,c:0,d:1,e:0,f:0};function Ra(s){return s.length?s.pop()+",":""}function Fa(a,b){var s=[],q=[];return a=c.transform(a),b=c.transform(b),function(t,n,s,q){if(t[0]!==n[0]||t[1]!==n[1]){var i=s.push("translate(",null,",",null,")");q.push({i:i-4,x:la(t[0],n[0])},{i:i-2,x:la(t[1],n[1])})}else(n[0]||n[1])&&s.push("translate("+n+")")}(a.translate,b.translate,s,q),function(t,n,s,q){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),q.push({i:s.push(Ra(s)+"rotate(",null,")")-2,x:la(t,n)})):n&&s.push(Ra(s)+"rotate("+n+")")}(a.rotate,b.rotate,s,q),function(t,n,s,q){t!==n?q.push({i:s.push(Ra(s)+"skewX(",null,")")-2,x:la(t,n)}):n&&s.push(Ra(s)+"skewX("+n+")")}(a.skew,b.skew,s,q),function(t,n,s,q){if(t[0]!==n[0]||t[1]!==n[1]){var i=s.push(Ra(s)+"scale(",null,",",null,")");q.push({i:i-4,x:la(t[0],n[0])},{i:i-2,x:la(t[1],n[1])})}else 1===n[0]&&1===n[1]||s.push(Ra(s)+"scale("+n+")")}(a.scale,b.scale,s,q),a=b=null,function(t){for(var n,i=-1,e=q.length;++i<e;)s[(n=q[i]).i]=n.x(t);return s.join("")}}function Ua(a,b){return b=(b-=a=+a)||1/b,function(t){return(t-a)/b}}function za(a,b){return b=(b-=a=+a)||1/b,function(t){return Math.max(0,Math.min(1,(t-a)/b))}}function Ia(link){for(var t=link.source,n=link.target,e=function(a,b){if(a===b)return a;var t=Ya(a),n=Ya(b),e=t.pop(),r=n.pop(),o=null;for(;e===r;)o=e,e=t.pop(),r=n.pop();return o}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var o=r.length;n!==e;)r.splice(o,0,n),n=n.parent;return r}function Ya(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function qa(t){t.fixed|=2}function Ha(t){t.fixed&=-7}function Oa(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ja(t){t.fixed&=-5}c.interpolateTransform=Fa,c.layout={},c.layout.bundle=function(){return function(t){for(var n=[],i=-1,e=t.length;++i<e;)n.push(Ia(t[i]));return n}},c.layout.chord=function(){var t,n,e,r,o,f,l,h={},d=0;function v(){var h,v,y,i,_,x={},w=[],M=c.range(r),D=[];for(t=[],n=[],h=0,i=-1;++i<r;){for(v=0,_=-1;++_<r;)v+=e[i][_];w.push(v),D.push(c.range(r)),h+=v}for(o&&M.sort(function(a,b){return o(w[a],w[b])}),f&&D.forEach(function(t,i){t.sort(function(a,b){return f(e[i][a],e[i][b])})}),h=(qt-d*r)/h,v=0,i=-1;++i<r;){for(y=v,_=-1;++_<r;){var N=M[i],k=D[N][_],S=e[N][k],T=v,C=v+=S*h;x[N+"-"+k]={index:N,subindex:k,startAngle:T,endAngle:C,value:S}}n[N]={index:N,startAngle:y,endAngle:v,value:w[N]},v+=d}for(i=-1;++i<r;)for(_=i-1;++_<r;){var source=x[i+"-"+_],A=x[_+"-"+i];(source.value||A.value)&&t.push(source.value<A.value?{source:A,target:source}:{source:source,target:A})}l&&m()}function m(){t.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}return h.matrix=function(o){return arguments.length?(r=(e=o)&&e.length,t=n=null,h):e},h.padding=function(e){return arguments.length?(d=e,t=n=null,h):d},h.sortGroups=function(e){return arguments.length?(o=e,t=n=null,h):o},h.sortSubgroups=function(n){return arguments.length?(f=n,t=null,h):f},h.sortChords=function(n){return arguments.length?(l=n,t&&m(),h):l},h.chords=function(){return t||v(),t},h.groups=function(){return n||v(),n},h},c.layout.force=function(){var t,n,e,r,o,f,l={},h=c.dispatch("start","tick","end"),d=[1,1],v=.9,m=Va,y=Wa,_=-30,x=Za,w=.1,M=.64,D=[],N=[];function k(t){return function(n,e,r,o){if(n.point!==t){var c=n.cx-t.x,f=n.cy-t.y,l=o-e,h=c*c+f*f;if(l*l/M<h){if(h<x){var d=n.charge/h;t.px-=c*d,t.py-=f*d}return!0}if(n.point&&h&&h<x){d=n.pointCharge/h;t.px-=c*d,t.py-=f*d}}return!n.charge}}function S(t){t.px=c.event.x,t.py=c.event.y,l.resume()}return l.tick=function(){if((e*=.99)<.005)return t=null,h.end({type:"end",alpha:e=0}),!0;var q,i,n,s,l,m,y,x,M,S=D.length,T=N.length;for(i=0;i<T;++i)s=(n=N[i]).source,(m=(x=(l=n.target).x-s.x)*x+(M=l.y-s.y)*M)&&(x*=m=e*o[i]*((m=Math.sqrt(m))-r[i])/m,M*=m,l.x-=x*(y=s.weight+l.weight?s.weight/(s.weight+l.weight):.5),l.y-=M*y,s.x+=x*(y=1-y),s.y+=M*y);if((y=e*w)&&(x=d[0]/2,M=d[1]/2,i=-1,y))for(;++i<S;)(n=D[i]).x+=(x-n.x)*y,n.y+=(M-n.y)*y;if(_)for(!function t(n,e,r){var o=0,c=0;n.charge=0;if(!n.leaf)for(var f,l=n.nodes,h=l.length,i=-1;++i<h;)null!=(f=l[i])&&(t(f,e,r),n.charge+=f.charge,o+=f.charge*f.cx,c+=f.charge*f.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var d=e*r[n.point.index];n.charge+=n.pointCharge=d,o+=d*n.point.x,c+=d*n.point.y}n.cx=o/n.charge;n.cy=c/n.charge}(q=c.geom.quadtree(D),e,f),i=-1;++i<S;)(n=D[i]).fixed||q.visit(k(n));for(i=-1;++i<S;)(n=D[i]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*v,n.y-=(n.py-(n.py=n.y))*v);h.tick({type:"tick",alpha:e})},l.nodes=function(t){return arguments.length?(D=t,l):D},l.links=function(t){return arguments.length?(N=t,l):N},l.size=function(t){return arguments.length?(d=t,l):d},l.linkDistance=function(t){return arguments.length?(m="function"==typeof t?t:+t,l):m},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(y="function"==typeof t?t:+t,l):y},l.friction=function(t){return arguments.length?(v=+t,l):v},l.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,l):_},l.chargeDistance=function(t){return arguments.length?(x=t*t,l):Math.sqrt(x)},l.gravity=function(t){return arguments.length?(w=+t,l):w},l.theta=function(t){return arguments.length?(M=t*t,l):Math.sqrt(M)},l.alpha=function(n){return arguments.length?(n=+n,e?n>0?e=n:(t.c=null,t.t=NaN,t=null,h.end({type:"end",alpha:e=0})):n>0&&(h.start({type:"start",alpha:e=n}),t=Yn(l.tick)),l):e},l.start=function(){var i,t,n,e=D.length,c=N.length,h=d[0],v=d[1];for(i=0;i<e;++i)(n=D[i]).index=i,n.weight=0;for(i=0;i<c;++i)"number"==typeof(n=N[i]).source&&(n.source=D[n.source]),"number"==typeof n.target&&(n.target=D[n.target]),++n.source.weight,++n.target.weight;for(i=0;i<e;++i)n=D[i],isNaN(n.x)&&(n.x=x("x",h)),isNaN(n.y)&&(n.y=x("y",v)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof m)for(i=0;i<c;++i)r[i]=+m.call(this,N[i],i);else for(i=0;i<c;++i)r[i]=m;if(o=[],"function"==typeof y)for(i=0;i<c;++i)o[i]=+y.call(this,N[i],i);else for(i=0;i<c;++i)o[i]=y;if(f=[],"function"==typeof _)for(i=0;i<e;++i)f[i]=+_.call(this,D[i],i);else for(i=0;i<e;++i)f[i]=_;function x(n,r){if(!t){for(t=new Array(e),h=0;h<e;++h)t[h]=[];for(h=0;h<c;++h){var o=N[h];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var f,l=t[i],h=-1,d=l.length;++h<d;)if(!isNaN(f=l[h][n]))return f;return Math.random()*r}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(n||(n=c.behavior.drag().origin(j).on("dragstart.force",qa).on("drag.force",S).on("dragend.force",Ha)),!arguments.length)return n;this.on("mouseover.force",Oa).on("mouseout.force",ja).call(n)},c.rebind(l,h,"on")};var Va=20,Wa=1,Za=1/0;function Xa(object,t){return c.rebind(object,t,"sort","children","value"),object.nodes=object,object.links=Qa,object}function Ga(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)e.push(o[r])}function Ba(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(c=t.children)&&(o=c.length))for(var o,c,i=-1;++i<o;)e.push(c[i]);for(;null!=(t=r.pop());)n(t)}function $a(t){return t.children}function Ka(t){return t.value}function Ja(a,b){return b.value-a.value}function Qa(t){return c.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}c.layout.hierarchy=function(){var t=Ja,n=$a,e=Ka;function r(o){var c,f=[o],l=[];for(o.depth=0;null!=(c=f.pop());)if(l.push(c),(d=n.call(r,c,c.depth))&&(h=d.length)){for(var h,d,v;--h>=0;)f.push(v=d[h]),v.parent=c,v.depth=c.depth+1;e&&(c.value=0),c.children=d}else e&&(c.value=+e.call(r,c,c.depth)||0),delete c.children;return Ba(o,function(n){var r,o;t&&(r=n.children)&&r.sort(t),e&&(o=n.parent)&&(o.value+=n.value)}),l}return r.sort=function(n){return arguments.length?(t=n,r):t},r.children=function(t){return arguments.length?(n=t,r):n},r.value=function(t){return arguments.length?(e=t,r):e},r.revalue=function(t){return e&&(Ga(t,function(t){t.children&&(t.value=0)}),Ba(t,function(t){var n;t.children||(t.value=+e.call(r,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},r},c.layout.partition=function(){var t=c.layout.hierarchy(),n=[1,1];function e(e,i){var r=t.call(this,e,i);return function t(n,e,r,o){var c=n.children;if(n.x=e,n.y=n.depth*o,n.dx=r,n.dy=o,c&&(f=c.length)){var f,l,h,i=-1;for(r=n.value?r/n.value:0;++i<f;)t(l=c[i],e,h=l.value*r,o),e+=h}}(r[0],0,n[0],n[1]/function t(n){var e=n.children,r=0;if(e&&(o=e.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(e[i]));return 1+r}(r[0])),r}return e.size=function(t){return arguments.length?(n=t,e):n},Xa(e,t)},c.layout.pie=function(){var t=Number,n=to,e=0,r=qt,o=0;function f(data){var l,h=data.length,d=data.map(function(n,i){return+t.call(f,n,i)}),a=+("function"==typeof e?e.apply(this,arguments):e),v=("function"==typeof r?r.apply(this,arguments):r)-a,p=Math.min(Math.abs(v)/h,+("function"==typeof o?o.apply(this,arguments):o)),m=p*(v<0?-1:1),y=c.sum(d),_=y?(v-h*m)/y:0,x=c.range(h),w=[];return null!=n&&x.sort(n===to?function(i,t){return d[t]-d[i]}:function(i,t){return n(data[i],data[t])}),x.forEach(function(i){w[i]={data:data[i],value:l=d[i],startAngle:a,endAngle:a+=l*_+m,padAngle:p}}),w}return f.value=function(n){return arguments.length?(t=n,f):t},f.sort=function(t){return arguments.length?(n=t,f):n},f.startAngle=function(t){return arguments.length?(e=t,f):e},f.endAngle=function(t){return arguments.length?(r=t,f):r},f.padAngle=function(t){return arguments.length?(o=t,f):o},f};var to={};function no(t){return t.x}function eo(t){return t.y}function ro(t,n,e){t.y0=n,t.y=e}c.layout.stack=function(){var t=j,n=oo,e=uo,r=ro,o=no,f=eo;function l(data,h){if(!(y=data.length))return data;var d=data.map(function(n,i){return t.call(l,n,i)}),v=d.map(function(t){return t.map(function(t,i){return[o.call(l,t,i),f.call(l,t,i)]})}),m=n.call(l,v,h);d=c.permute(d,m),v=c.permute(v,m);var y,i,_,x,w=e.call(l,v,h),M=d[0].length;for(_=0;_<M;++_)for(r.call(l,d[0][_],x=w[_],v[0][_][1]),i=1;i<y;++i)r.call(l,d[i][_],x+=v[i-1][_][1],v[i][_][1]);return data}return l.values=function(n){return arguments.length?(t=n,l):t},l.order=function(t){return arguments.length?(n="function"==typeof t?t:io.get(t)||oo,l):n},l.offset=function(t){return arguments.length?(e="function"==typeof t?t:ao.get(t)||uo,l):e},l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(f=t,l):f},l.out=function(t){return arguments.length?(r=t,l):r},l};var io=c.map({"inside-out":function(data){var i,t,n=data.length,e=data.map(co),r=data.map(so),o=c.range(n).sort(function(a,b){return e[a]-e[b]}),f=0,l=0,h=[],d=[];for(i=0;i<n;++i)t=o[i],f<l?(f+=r[t],h.push(t)):(l+=r[t],d.push(t));return d.reverse().concat(h)},reverse:function(data){return c.range(data.length).reverse()},default:oo}),ao=c.map({silhouette:function(data){var i,t,n,e=data.length,r=data[0].length,o=[],c=0,f=[];for(t=0;t<r;++t){for(i=0,n=0;i<e;i++)n+=data[i][t][1];n>c&&(c=n),o.push(n)}for(t=0;t<r;++t)f[t]=(c-o[t])/2;return f},wiggle:function(data){var i,t,n,e,r,o,c,f,l,h=data.length,d=data[0],v=d.length,m=[];for(m[0]=f=l=0,t=1;t<v;++t){for(i=0,e=0;i<h;++i)e+=data[i][t][1];for(i=0,r=0,c=d[t][0]-d[t-1][0];i<h;++i){for(n=0,o=(data[i][t][1]-data[i][t-1][1])/(2*c);n<i;++n)o+=(data[n][t][1]-data[n][t-1][1])/c;r+=o*data[i][t][1]}m[t]=f-=e?r/e*c:0,f<l&&(l=f)}for(t=0;t<v;++t)m[t]-=l;return m},expand:function(data){var i,t,n,e=data.length,r=data[0].length,o=1/e,c=[];for(t=0;t<r;++t){for(i=0,n=0;i<e;i++)n+=data[i][t][1];if(n)for(i=0;i<e;i++)data[i][t][1]/=n;else for(i=0;i<e;i++)data[i][t][1]=o}for(t=0;t<r;++t)c[t]=0;return c},zero:uo});function oo(data){return c.range(data.length)}function uo(data){for(var t=-1,n=data[0].length,e=[];++t<n;)e[t]=0;return e}function co(t){for(var n,i=1,e=0,r=t[0][1],o=t.length;i<o;++i)(n=t[i][1])>r&&(e=i,r=n);return e}function so(t){return t.reduce(fo,0)}function fo(p,t){return p+t[1]}function lo(t,n){return ho(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function ho(t,n){for(var e=-1,b=+t[0],r=(t[1]-b)/n,o=[];++e<=n;)o[e]=r*e+b;return o}function po(t){return[c.min(t),c.max(t)]}function go(a,b){return a.value-b.value}function vo(a,b){var t=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=t,t._pack_prev=b}function mo(a,b){a._pack_next=b,b._pack_prev=a}function yo(a,b){var t=b.x-a.x,n=b.y-a.y,e=a.r+b.r;return.999*e*e>t*t+n*n}function bo(t){if((n=t.children)&&(c=n.length)){var n,a,b,e,i,r,o,c,f=1/0,l=-1/0,h=1/0,d=-1/0;if(n.forEach(_o),(a=n[0]).x=-a.r,a.y=0,M(a),c>1&&((b=n[1]).x=b.r,b.y=0,M(b),c>2))for(wo(a,b,e=n[2]),M(e),vo(a,e),a._pack_prev=e,vo(e,b),b=a._pack_next,i=3;i<c;i++){wo(a,b,e=n[i]);var v=0,m=1,y=1;for(r=b._pack_next;r!==b;r=r._pack_next,m++)if(yo(r,e)){v=1;break}if(1==v)for(o=a._pack_prev;o!==r._pack_prev&&!yo(o,e);o=o._pack_prev,y++);v?(m<y||m==y&&b.r<a.r?mo(a,b=r):mo(a=o,b),i--):(vo(a,e),b=e,M(e))}var _=(f+l)/2,x=(h+d)/2,w=0;for(i=0;i<c;i++)(e=n[i]).x-=_,e.y-=x,w=Math.max(w,e.r+Math.sqrt(e.x*e.x+e.y*e.y));t.r=w,n.forEach(xo)}function M(t){f=Math.min(t.x-t.r,f),l=Math.max(t.x+t.r,l),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function _o(t){t._pack_next=t._pack_prev=t}function xo(t){delete t._pack_next,delete t._pack_prev}function wo(a,b,t){var n=a.r+t.r,e=b.x-a.x,r=b.y-a.y;if(n&&(e||r)){var o=b.r+t.r,c=e*e+r*r,f=.5+((n*=n)-(o*=o))/(2*c),l=Math.sqrt(Math.max(0,2*o*(n+c)-(n-=c)*n-o*o))/(2*c);t.x=a.x+f*e+l*r,t.y=a.y+f*r-l*e}else t.x=a.x+n,t.y=a.y}function Mo(a,b){return a.parent==b.parent?1:2}function Do(t){var n=t.children;return n.length?n[0]:t.t}function No(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function ko(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function So(t,n,e){return t.a.parent===n.parent?t.a:e}function To(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Co(t,n){var e=t.x+n[3],r=t.y+n[0],o=t.dx-n[1]-n[3],c=t.dy-n[0]-n[2];return o<0&&(e+=o/2,o=0),c<0&&(r+=c/2,c=0),{x:e,y:r,dx:o,dy:c}}function Ao(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function Eo(t){return t.rangeExtent?t.rangeExtent():Ao(t.range())}function Lo(t,n,e,r){var u=e(t[0],t[1]),i=r(n[0],n[1]);return function(t){return i(u(t))}}function Po(t,n){var e,r=0,o=t.length-1,c=t[r],f=t[o];return f<c&&(e=r,r=o,o=e,e=c,c=f,f=e),t[r]=n.floor(c),t[o]=n.ceil(f),t}function Ro(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:Fo}c.layout.histogram=function(){var t=!0,n=Number,e=po,r=lo;function o(data,i){for(var o,f,l=[],h=data.map(n,this),d=e.call(this,h,i),v=r.call(this,d,h,i),m=(i=-1,h.length),y=v.length-1,_=t?1:1/m;++i<y;)(o=l[i]=[]).dx=v[i+1]-(o.x=v[i]),o.y=0;if(y>0)for(i=-1;++i<m;)(f=h[i])>=d[0]&&f<=d[1]&&((o=l[c.bisect(v,f,1,y)-1]).y+=_,o.push(data[i]));return l}return o.value=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(e=En(t),o):e},o.bins=function(t){return arguments.length?(r="number"==typeof t?function(n){return ho(n,t)}:En(t),o):r},o.frequency=function(n){return arguments.length?(t=!!n,o):t},o},c.layout.pack=function(){var t,n=c.layout.hierarchy().sort(go),e=0,r=[1,1];function o(o,i){var c=n.call(this,o,i),f=c[0],l=r[0],h=r[1],d=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(f.x=f.y=0,Ba(f,function(t){t.r=+d(t.value)}),Ba(f,bo),e){var v=e*(t?1:Math.max(2*f.r/l,2*f.r/h))/2;Ba(f,function(t){t.r+=v}),Ba(f,bo),Ba(f,function(t){t.r-=v})}return function t(n,e,r,o){var c=n.children;n.x=e+=o*n.x;n.y=r+=o*n.y;n.r*=o;if(c)for(var i=-1,f=c.length;++i<f;)t(c[i],e,r,o)}(f,l/2,h/2,t?1:1/Math.max(2*f.r/l,2*f.r/h)),c}return o.size=function(t){return arguments.length?(r=t,o):r},o.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,o):t},o.padding=function(t){return arguments.length?(e=+t,o):e},Xa(o,n)},c.layout.tree=function(){var t=c.layout.hierarchy().sort(null).value(null),n=Mo,e=[1,1],r=null;function o(o,i){var c=t.call(this,o,i),d=c[0],v=function(t){var n,e={A:null,children:[t]},r=[e];for(;null!=(n=r.pop());)for(var o,c=n.children,i=0,f=c.length;i<f;++i)r.push((c[i]=o={_:c[i],parent:n,children:(o=c[i].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=o);return e.children[0]}(d);if(Ba(v,f),v.parent.m=-v.z,Ga(v,l),r)Ga(d,h);else{var m=d,y=d,_=d;Ga(d,function(t){t.x<m.x&&(m=t),t.x>y.x&&(y=t),t.depth>_.depth&&(_=t)});var x=n(m,y)/2-m.x,w=e[0]/(y.x+n(y,m)/2+x),M=e[1]/(_.depth||1);Ga(d,function(t){t.x=(t.x+x)*w,t.y=t.depth*M})}return c}function f(t){var e=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(e.length){!function(t){var n,e=0,r=0,o=t.children,i=o.length;for(;--i>=0;)(n=o[i]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var c=(e[0].z+e[e.length-1].z)/2;o?(t.z=o.z+n(t._,o._),t.m=t.z-c):t.z=c}else o&&(t.z=o.z+n(t._,o._));t.parent.A=function(t,e,r){if(e){for(var o,c=t,f=t,l=e,h=c.parent.children[0],d=c.m,v=f.m,m=l.m,y=h.m;l=No(l),c=Do(c),l&&c;)h=Do(h),(f=No(f)).a=t,(o=l.z+m-c.z-d+n(l._,c._))>0&&(ko(So(l,t,r),t,o),d+=o,v+=o),m+=l.m,d+=c.m,y+=h.m,v+=f.m;l&&!No(f)&&(f.t=l,f.m+=m-v),c&&!Do(h)&&(h.t=c,h.m+=d-y,r=t)}return r}(t,o,t.parent.A||r[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function h(t){t.x*=e[0],t.y=t.depth*e[1]}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(r=null==(e=t)?h:null,o):r?null:e},o.nodeSize=function(t){return arguments.length?(r=null==(e=t)?null:h,o):r?e:null},Xa(o,t)},c.layout.cluster=function(){var t=c.layout.hierarchy().sort(null).value(null),n=Mo,e=[1,1],r=!1;function o(o,i){var f,l=t.call(this,o,i),h=l[0],d=0;Ba(h,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}(e),t.y=function(t){return 1+c.max(t,function(t){return t.y})}(e)):(t.x=f?d+=n(t,f):0,t.y=0,f=t)});var v=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(h),m=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(h),y=v.x-n(v,m)/2,_=m.x+n(m,v)/2;return Ba(h,r?function(t){t.x=(t.x-h.x)*e[0],t.y=(h.y-t.y)*e[1]}:function(t){t.x=(t.x-y)/(_-y)*e[0],t.y=(1-(h.y?t.y/h.y:1))*e[1]}),l}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(r=null==(e=t),o):r?null:e},o.nodeSize=function(t){return arguments.length?(r=null!=(e=t),o):r?e:null},Xa(o,t)},c.layout.treemap=function(){var t,n=c.layout.hierarchy(),e=Math.round,r=[1,1],o=null,f=To,l=!1,h="squarify",d=.5*(1+Math.sqrt(5));function v(t,n){for(var e,area,i=-1,r=t.length;++i<r;)area=(e=t[i]).value*(n<0?0:n),e.area=isNaN(area)||area<=0?0:area}function m(t){var n=t.children;if(n&&n.length){var e,r,o,rect=f(t),c=[],l=n.slice(),d=1/0,u="slice"===h?rect.dx:"dice"===h?rect.dy:"slice-dice"===h?1&t.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(v(l,rect.dx*rect.dy/t.value),c.area=0;(o=l.length)>0;)c.push(e=l[o-1]),c.area+=e.area,"squarify"!==h||(r=_(c,u))<=d?(l.pop(),d=r):(c.area-=c.pop().area,x(c,u,rect,!1),u=Math.min(rect.dx,rect.dy),c.length=c.area=0,d=1/0);c.length&&(x(c,u,rect,!0),c.length=c.area=0),n.forEach(m)}}function y(t){var n=t.children;if(n&&n.length){var e,rect=f(t),r=n.slice(),o=[];for(v(r,rect.dx*rect.dy/t.value),o.area=0;e=r.pop();)o.push(e),o.area+=e.area,null!=e.z&&(x(o,e.z?rect.dx:rect.dy,rect,!r.length),o.length=o.area=0);n.forEach(y)}}function _(t,u){for(var n,s=t.area,e=0,r=1/0,i=-1,o=t.length;++i<o;)(n=t[i].area)&&(n<r&&(r=n),n>e&&(e=n));return u*=u,(s*=s)?Math.max(u*e*d/s,s/(u*r*d)):1/0}function x(t,u,rect,n){var r,i=-1,o=t.length,c=rect.x,f=rect.y,l=u?e(t.area/u):0;if(u==rect.dx){for((n||l>rect.dy)&&(l=rect.dy);++i<o;)(r=t[i]).x=c,r.y=f,r.dy=l,c+=r.dx=Math.min(rect.x+rect.dx-c,l?e(r.area/l):0);r.z=!0,r.dx+=rect.x+rect.dx-c,rect.y+=l,rect.dy-=l}else{for((n||l>rect.dx)&&(l=rect.dx);++i<o;)(r=t[i]).x=c,r.y=f,r.dx=l,f+=r.dy=Math.min(rect.y+rect.dy-f,l?e(r.area/l):0);r.z=!1,r.dy+=rect.y+rect.dy-f,rect.x+=l,rect.dx-=l}}function w(e){var o=t||n(e),c=o[0];return c.x=c.y=0,c.value?(c.dx=r[0],c.dy=r[1]):c.dx=c.dy=0,t&&n.revalue(c),v([c],c.dx*c.dy/c.value),(t?y:m)(c),l&&(t=o),o}return w.size=function(t){return arguments.length?(r=t,w):r},w.padding=function(t){if(!arguments.length)return o;function n(n){return Co(n,t)}var e;return f=null==(o=t)?To:"function"==(e=typeof t)?function(n){var p=t.call(w,n,n.depth);return null==p?To(n):Co(n,"number"==typeof p?[p,p,p,p]:p)}:"number"===e?(t=[t,t,t,t],n):n,w},w.round=function(t){return arguments.length?(e=t?Math.round:Number,w):e!=Number},w.sticky=function(n){return arguments.length?(l=n,t=null,w):l},w.ratio=function(t){return arguments.length?(d=t,w):d},w.mode=function(t){return arguments.length?(h=t+"",w):h},Xa(w,n)},c.random={normal:function(t,n){var e=arguments.length;return e<2&&(n=1),e<1&&(t=0),function(){var e,r,o;do{o=(e=2*Math.random()-1)*e+(r=2*Math.random()-1)*r}while(!o||o>1);return t+n*e*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=c.random.normal.apply(c,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=c.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var s=0,n=0;n<t;n++)s+=Math.random();return s}}},c.scale={};var Fo={floor:j,ceil:j};function Uo(t,n,e,r){var u=[],i=[],o=0,f=Math.min(t.length,n.length)-1;for(t[f]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<=f;)u.push(e(t[o-1],t[o])),i.push(r(n[o-1],n[o]));return function(n){var e=c.bisect(t,n,1,f)-1;return i[e](u[e](n))}}function zo(t,n){return c.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Io(t,n){return Po(t,Ro(Yo(t,n)[2])),Po(t,Ro(Yo(t,n)[2])),t}function Yo(t,n){null==n&&(n=10);var e=Ao(t),span=e[1]-e[0],r=Math.pow(10,Math.floor(Math.log(span/n)/Math.LN10)),o=n/span*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),e[0]=Math.ceil(e[0]/r)*r,e[1]=Math.floor(e[1]/r)*r+.5*r,e[2]=r,e}function qo(t,n){return c.range.apply(c,Yo(t,n))}function Ho(t,n,e){var r=Yo(t,n);if(e){var o=Zn.exec(e);if(o.shift(),"s"===o[8]){var f=c.formatPrefix(Math.max(C(r[0]),C(r[1])));return o[7]||(o[7]="."+jo(f.scale(r[2]))),o[8]="f",e=c.format(o.join("")),function(t){return e(f.scale(t))+f.symbol}}o[7]||(o[7]="."+function(t,n){var p=jo(n[2]);return t in Oo?Math.abs(p-jo(Math.max(C(n[0]),C(n[1]))))+ +("e"!==t):p-2*("%"===t)}(o[8],r)),e=o.join("")}else e=",."+jo(r[2])+"f";return c.format(e)}c.scale.linear=function(){return function t(n,e,r,o){var output,input;function c(){var t=Math.min(n.length,e.length)>2?Uo:Lo,c=o?za:Ua;return output=t(n,e,c,r),input=t(e,n,c,ga),f}function f(t){return output(t)}f.invert=function(t){return input(t)};f.domain=function(t){return arguments.length?(n=t.map(Number),c()):n};f.range=function(t){return arguments.length?(e=t,c()):e};f.rangeRound=function(t){return f.range(t).interpolate(Ca)};f.clamp=function(t){return arguments.length?(o=t,c()):o};f.interpolate=function(t){return arguments.length?(r=t,c()):r};f.ticks=function(t){return qo(n,t)};f.tickFormat=function(t,e){return Ho(n,t,e)};f.nice=function(t){return Io(n,t),c()};f.copy=function(){return t(n,e,r,o)};return c()}([0,1],[0,1],ga,!1)};var Oo={s:1,g:1,p:1,r:1,e:1};function jo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}c.scale.log=function(){return function t(n,base,e,r){function o(t){return(e?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(base)}function f(t){return e?Math.pow(base,t):-Math.pow(base,-t)}function l(t){return n(o(t))}l.invert=function(t){return f(n.invert(t))};l.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(o)),l):r};l.base=function(t){return arguments.length?(base=+t,n.domain(r.map(o)),l):base};l.nice=function(){var t=Po(r.map(o),e?Math:Wo);return n.domain(t),r=t.map(f),l};l.ticks=function(){var t=Ao(r),n=[],u=t[0],c=t[1],i=Math.floor(o(u)),l=Math.ceil(o(c)),h=base%1?2:base;if(isFinite(l-i)){if(e){for(;i<l;i++)for(var d=1;d<h;d++)n.push(f(i)*d);n.push(f(i))}else for(n.push(f(i));i++<l;)for(var d=h-1;d>0;d--)n.push(f(i)*d);for(i=0;n[i]<u;i++);for(l=n.length;n[l-1]>c;l--);n=n.slice(i,l)}return n};l.tickFormat=function(t,n){if(!arguments.length)return Vo;arguments.length<2?n=Vo:"function"!=typeof n&&(n=c.format(n));var e=Math.max(1,base*t/l.ticks().length);return function(t){var i=t/f(Math.round(o(t)));return i*base<base-.5&&(i*=base),i<=e?n(t):""}};l.copy=function(){return t(n.copy(),base,e,r)};return zo(l,n)}(c.scale.linear().domain([0,1]),10,!0,[1,10])};var Vo=c.format(".0e"),Wo={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Zo(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}c.scale.pow=function(){return function t(n,e,r){var o=Zo(e),c=Zo(1/e);function f(t){return n(o(t))}f.invert=function(t){return c(n.invert(t))};f.domain=function(t){return arguments.length?(n.domain((r=t.map(Number)).map(o)),f):r};f.ticks=function(t){return qo(r,t)};f.tickFormat=function(t,n){return Ho(r,t,n)};f.nice=function(t){return f.domain(Io(r,t))};f.exponent=function(t){return arguments.length?(o=Zo(e=t),c=Zo(1/e),n.domain(r.map(o)),f):e};f.copy=function(){return t(n.copy(),e,r)};return zo(f,n)}(c.scale.linear(),1,[0,1])},c.scale.sqrt=function(){return c.scale.pow().exponent(.5)},c.scale.ordinal=function(){return function t(n,e){var r,o,f;function l(t){return o[((r.get(t)||("range"===e.t?r.set(t,n.push(t)):NaN))-1)%o.length]}function h(t,e){return c.range(n.length).map(function(i){return t+e*i})}l.domain=function(t){if(!arguments.length)return n;n=[],r=new E;for(var o,i=-1,c=t.length;++i<c;)r.has(o=t[i])||r.set(o,n.push(o));return l[e.t].apply(l,e.a)};l.range=function(t){return arguments.length?(o=t,f=0,e={t:"range",a:arguments},l):o};l.rangePoints=function(t,r){arguments.length<2&&(r=0);var c=t[0],d=t[1],v=n.length<2?(c=(c+d)/2,0):(d-c)/(n.length-1+r);return o=h(c+v*r/2,v),f=0,e={t:"rangePoints",a:arguments},l};l.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var c=t[0],d=t[1],v=n.length<2?(c=d=Math.round((c+d)/2),0):(d-c)/(n.length-1+r)|0;return o=h(c+Math.round(v*r/2+(d-c-(n.length-1+r)*v)/2),v),f=0,e={t:"rangeRoundPoints",a:arguments},l};l.rangeBands=function(t,r,c){arguments.length<2&&(r=0),arguments.length<3&&(c=r);var d=t[1]<t[0],v=t[d-0],m=t[1-d],y=(m-v)/(n.length-r+2*c);return o=h(v+y*c,y),d&&o.reverse(),f=y*(1-r),e={t:"rangeBands",a:arguments},l};l.rangeRoundBands=function(t,r,c){arguments.length<2&&(r=0),arguments.length<3&&(c=r);var d=t[1]<t[0],v=t[d-0],m=t[1-d],y=Math.floor((m-v)/(n.length-r+2*c));return o=h(v+Math.round((m-v-(n.length-r)*y)/2),y),d&&o.reverse(),f=Math.round(y*(1-r)),e={t:"rangeRoundBands",a:arguments},l};l.rangeBand=function(){return f};l.rangeExtent=function(){return Ao(e.a[0])};l.copy=function(){return t(n,e)};return l.domain(n)}([],{t:"range",a:[[]]})},c.scale.category10=function(){return c.scale.ordinal().range(Xo)},c.scale.category20=function(){return c.scale.ordinal().range(Go)},c.scale.category20b=function(){return c.scale.ordinal().range(Bo)},c.scale.category20c=function(){return c.scale.ordinal().range($o)};var Xo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wn),Go=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wn),Bo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wn),$o=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wn);function Ko(){return 0}c.scale.quantile=function(){return function t(n,e){var r;function o(){var t=0,q=e.length;for(r=[];++t<q;)r[t-1]=c.quantile(n,t/q);return f}function f(t){if(!isNaN(t=+t))return e[c.bisect(r,t)]}f.domain=function(t){return arguments.length?(n=t.map(D).filter(N).sort(M),o()):n};f.range=function(t){return arguments.length?(e=t,o()):e};f.quantiles=function(){return r};f.invertExtent=function(t){return(t=e.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};f.copy=function(){return t(n,e)};return o()}([],[])},c.scale.quantize=function(){return function t(n,e,r){var o,i;function c(t){return r[Math.max(0,Math.min(i,Math.floor(o*(t-n))))]}function f(){return o=r.length/(e-n),i=r.length-1,c}c.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],f()):[n,e]};c.range=function(t){return arguments.length?(r=t,f()):r};c.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+n,t+1/o]};c.copy=function(){return t(n,e,r)};return f()}(0,1,[0,1])},c.scale.threshold=function(){return function t(n,e){function r(t){if(t<=t)return e[c.bisect(n,t)]}r.domain=function(t){return arguments.length?(n=t,r):n};r.range=function(t){return arguments.length?(e=t,r):e};r.invertExtent=function(t){return t=e.indexOf(t),[n[t-1],n[t]]};r.copy=function(){return t(n,e)};return r}([.5],[0,1])},c.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return qo(n,t)};e.tickFormat=function(t,e){return Ho(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},c.svg={},c.svg.arc=function(){var t=Qo,n=tu,e=Ko,r=Jo,o=nu,c=eu,f=ru;function l(){var l=Math.max(0,+t.apply(this,arguments)),d=Math.max(0,+n.apply(this,arguments)),v=o.apply(this,arguments)-Ot,m=c.apply(this,arguments)-Ot,y=Math.abs(m-v),_=v>m?0:1;if(d<l&&(x=d,d=l,l=x),y>=Ht)return h(d,_)+(l?h(l,1-_):"")+"Z";var x,w,rp,M,D,N,k,S,T,C,A,E,L=0,P=0,path=[];if((M=(+f.apply(this,arguments)||0)/2)&&(rp=r===Jo?Math.sqrt(l*l+d*d):+r.apply(this,arguments),_||(P*=-1),d&&(P=Gt(rp/d*Math.sin(M))),l&&(L=Gt(rp/l*Math.sin(M)))),d){D=d*Math.cos(v+P),N=d*Math.sin(v+P),k=d*Math.cos(m-P),S=d*Math.sin(m-P);var R=Math.abs(m-v-2*P)<=Yt?0:1;if(P&&iu(D,N,k,S)===_^R){var h1=(v+m)/2;D=d*Math.cos(h1),N=d*Math.sin(h1),k=S=null}}else D=N=0;if(l){T=l*Math.cos(m-L),C=l*Math.sin(m-L),A=l*Math.cos(v+L),E=l*Math.sin(v+L);var F=Math.abs(v-m+2*L)<=Yt?0:1;if(L&&iu(T,C,A,E)===1-_^F){var U=(v+m)/2;T=l*Math.cos(U),C=l*Math.sin(U),A=E=null}}else T=C=0;if(y>zt&&(x=Math.min(Math.abs(d-l)/2,+e.apply(this,arguments)))>.001){w=l<d^_?0:1;var z=x,I=x;if(y<Yt){var Y=null==A?[T,C]:null==k?[D,N]:Si([D,N],[A,E],[k,S],[T,C]),H=D-Y[0],O=N-Y[1],j=k-Y[0],V=S-Y[1],W=1/Math.sin(Math.acos((H*j+O*V)/(Math.sqrt(H*H+O*O)*Math.sqrt(j*j+V*V)))/2),Z=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);I=Math.min(x,(l-Z)/(W-1)),z=Math.min(x,(d-Z)/(W+1))}if(null!=k){var X=au(null==A?[T,C]:[A,E],[D,N],d,z,_),G=au([k,S],[T,C],d,z,_);x===z?path.push("M",X[0],"A",z,",",z," 0 0,",w," ",X[1],"A",d,",",d," 0 ",1-_^iu(X[1][0],X[1][1],G[1][0],G[1][1]),",",_," ",G[1],"A",z,",",z," 0 0,",w," ",G[0]):path.push("M",X[0],"A",z,",",z," 0 1,",w," ",G[0])}else path.push("M",D,",",N);if(null!=A){var B=au([D,N],[A,E],l,-I,_),$=au([T,C],null==k?[D,N]:[k,S],l,-I,_);x===I?path.push("L",$[0],"A",I,",",I," 0 0,",w," ",$[1],"A",l,",",l," 0 ",_^iu($[1][0],$[1][1],B[1][0],B[1][1]),",",1-_," ",B[1],"A",I,",",I," 0 0,",w," ",B[0]):path.push("L",$[0],"A",I,",",I," 0 0,",w," ",B[0])}else path.push("L",T,",",C)}else path.push("M",D,",",N),null!=k&&path.push("A",d,",",d," 0 ",R,",",_," ",k,",",S),path.push("L",T,",",C),null!=A&&path.push("A",l,",",l," 0 ",F,",",1-_," ",A,",",E);return path.push("Z"),path.join("")}function h(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}return l.innerRadius=function(n){return arguments.length?(t=En(n),l):t},l.outerRadius=function(t){return arguments.length?(n=En(t),l):n},l.cornerRadius=function(t){return arguments.length?(e=En(t),l):e},l.padRadius=function(t){return arguments.length?(r=t==Jo?Jo:En(t),l):r},l.startAngle=function(t){return arguments.length?(o=En(t),l):o},l.endAngle=function(t){return arguments.length?(c=En(t),l):c},l.padAngle=function(t){return arguments.length?(f=En(t),l):f},l.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,a=(+o.apply(this,arguments)+ +c.apply(this,arguments))/2-Ot;return[Math.cos(a)*e,Math.sin(a)*e]},l};var Jo="auto";function Qo(t){return t.innerRadius}function tu(t){return t.outerRadius}function nu(t){return t.startAngle}function eu(t){return t.endAngle}function ru(t){return t&&t.padAngle}function iu(t,n,e,r){return(t-e)*n-(n-r)*t>0?0:1}function au(t,n,e,r,o){var c=t[0]-n[0],f=t[1]-n[1],l=(o?r:-r)/Math.sqrt(c*c+f*f),h=l*f,d=-l*c,v=t[0]+h,m=t[1]+d,y=n[0]+h,_=n[1]+d,x=(v+y)/2,w=(m+_)/2,M=y-v,D=_-m,N=M*M+D*D,k=e-r,S=v*_-y*m,T=(D<0?-1:1)*Math.sqrt(Math.max(0,k*k*N-S*S)),C=(S*D-M*T)/N,A=(-S*M-D*T)/N,E=(S*D+M*T)/N,L=(-S*M+D*T)/N,P=C-x,R=A-w,F=E-x,U=L-w;return P*P+R*R>F*F+U*U&&(C=E,A=L),[[C-h,A-d],[C*e/k,A*e/k]]}function ou(t){var n=xi,e=wi,r=fr,o=cu,c=o.key,f=.7;function line(data){var c,l=[],h=[],i=-1,d=data.length,v=En(n),m=En(e);function y(){l.push("M",o(t(h),f))}for(;++i<d;)r.call(this,c=data[i],i)?h.push([+v.call(this,c,i),+m.call(this,c,i)]):h.length&&(y(),h=[]);return h.length&&y(),l.length?l.join(""):null}return line.x=function(t){return arguments.length?(n=t,line):n},line.y=function(t){return arguments.length?(e=t,line):e},line.defined=function(t){return arguments.length?(r=t,line):r},line.interpolate=function(t){return arguments.length?(c="function"==typeof t?o=t:(o=uu.get(t)||cu).key,line):c},line.tension=function(t){return arguments.length?(f=t,line):f},line}c.svg.line=function(){return ou(j)};var uu=c.map({linear:cu,"linear-closed":su,step:function(t){var i=0,n=t.length,p=t[0],path=[p[0],",",p[1]];for(;++i<n;)path.push("H",(p[0]+(p=t[i])[0])/2,"V",p[1]);n>1&&path.push("H",p[0]);return path.join("")},"step-before":fu,"step-after":lu,basis:pu,"basis-open":function(t){if(t.length<4)return cu(t);var n,path=[],i=-1,e=t.length,r=[0],o=[0];for(;++i<3;)n=t[i],r.push(n[0]),o.push(n[1]);path.push(gu(yu,r)+","+gu(yu,o)),--i;for(;++i<e;)n=t[i],r.shift(),r.push(n[0]),o.shift(),o.push(n[1]),bu(path,r,o);return path.join("")},"basis-closed":function(t){var path,n,i=-1,e=t.length,r=e+4,o=[],c=[];for(;++i<4;)n=t[i%e],o.push(n[0]),c.push(n[1]);path=[gu(yu,o),",",gu(yu,c)],--i;for(;++i<r;)n=t[i%e],o.shift(),o.push(n[0]),c.shift(),c.push(n[1]),bu(path,o,c);return path.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var p,r,o=t[0][0],c=t[0][1],f=t[e][0]-o,l=t[e][1]-c,i=-1;++i<=e;)p=t[i],r=i/e,p[0]=n*p[0]+(1-n)*(o+r*f),p[1]=n*p[1]+(1-n)*(c+r*l);return pu(t)},cardinal:function(t,n){return t.length<3?cu(t):t[0]+hu(t,du(t,n))},"cardinal-open":function(t,n){return t.length<4?cu(t):t[1]+hu(t.slice(1,-1),du(t,n))},"cardinal-closed":function(t,n){return t.length<3?su(t):t[0]+hu((t.push(t[0]),t),du([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?cu(t):t[0]+hu(t,function(t){var n,a,b,s,e=[],r=function(t){var i=0,n=t.length-1,e=[],r=t[0],o=t[1],c=e[0]=_u(r,o);for(;++i<n;)e[i]=(c+(c=_u(r=o,o=t[i+1])))/2;return e[i]=c,e}(t),i=-1,o=t.length-1;for(;++i<o;)n=_u(t[i],t[i+1]),C(n)<zt?r[i]=r[i+1]=0:(a=r[i]/n,b=r[i+1]/n,(s=a*a+b*b)>9&&(s=3*n/Math.sqrt(s),r[i]=s*a,r[i+1]=s*b));i=-1;for(;++i<=o;)s=(t[Math.min(o,i+1)][0]-t[Math.max(0,i-1)][0])/(6*(1+r[i]*r[i])),e.push([s||0,r[i]*s||0]);return e}(t))}});function cu(t){return t.length>1?t.join("L"):t+"Z"}function su(t){return t.join("L")+"Z"}function fu(t){for(var i=0,n=t.length,p=t[0],path=[p[0],",",p[1]];++i<n;)path.push("V",(p=t[i])[1],"H",p[0]);return path.join("")}function lu(t){for(var i=0,n=t.length,p=t[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p=t[i])[0],"V",p[1]);return path.join("")}function hu(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return cu(t);var e=t.length!=n.length,path="",r=t[0],p=t[1],o=n[0],c=o,f=1;if(e&&(path+="Q"+(p[0]-2*o[0]/3)+","+(p[1]-2*o[1]/3)+","+p[0]+","+p[1],r=t[1],f=2),n.length>1){c=n[1],p=t[f],f++,path+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(p[0]-c[0])+","+(p[1]-c[1])+","+p[0]+","+p[1];for(var i=2;i<n.length;i++,f++)p=t[f],c=n[i],path+="S"+(p[0]-c[0])+","+(p[1]-c[1])+","+p[0]+","+p[1]}if(e){var l=t[f];path+="Q"+(p[0]+2*c[0]/3)+","+(p[1]+2*c[1]/3)+","+l[0]+","+l[1]}return path}function du(t,n){for(var e,r=[],a=(1-n)/2,o=t[0],c=t[1],i=1,f=t.length;++i<f;)e=o,o=c,c=t[i],r.push([a*(c[0]-e[0]),a*(c[1]-e[1])]);return r}function pu(t){if(t.length<3)return cu(t);var i=1,n=t.length,e=t[0],r=e[0],o=e[1],c=[r,r,r,(e=t[1])[0]],f=[o,o,o,e[1]],path=[r,",",o,"L",gu(yu,c),",",gu(yu,f)];for(t.push(t[n-1]);++i<=n;)e=t[i],c.shift(),c.push(e[0]),f.shift(),f.push(e[1]),bu(path,c,f);return t.pop(),path.push("L",e),path.join("")}function gu(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}uu.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var vu=[0,2/3,1/3,0],mu=[0,1/3,2/3,0],yu=[0,1/6,2/3,1/6];function bu(path,t,n){path.push("C",gu(vu,t),",",gu(vu,n),",",gu(mu,t),",",gu(mu,n),",",gu(yu,t),",",gu(yu,n))}function _u(t,n){return(n[1]-t[1])/(n[0]-t[0])}function xu(t){for(var n,e,a,i=-1,r=t.length;++i<r;)e=(n=t[i])[0],a=n[1]-Ot,n[0]=e*Math.cos(a),n[1]=e*Math.sin(a);return t}function wu(t){var n=xi,e=xi,r=0,o=wi,c=fr,f=cu,l=f.key,h=f,d="L",v=.7;function area(data){var l,m,y,_=[],x=[],w=[],i=-1,M=data.length,D=En(n),N=En(r),k=n===e?function(){return m}:En(e),S=r===o?function(){return y}:En(o);function T(){_.push("M",f(t(w),v),d,h(t(x.reverse()),v),"Z")}for(;++i<M;)c.call(this,l=data[i],i)?(x.push([m=+D.call(this,l,i),y=+N.call(this,l,i)]),w.push([+k.call(this,l,i),+S.call(this,l,i)])):x.length&&(T(),x=[],w=[]);return x.length&&T(),_.length?_.join(""):null}return area.x=function(t){return arguments.length?(n=e=t,area):e},area.x0=function(t){return arguments.length?(n=t,area):n},area.x1=function(t){return arguments.length?(e=t,area):e},area.y=function(t){return arguments.length?(r=o=t,area):o},area.y0=function(t){return arguments.length?(r=t,area):r},area.y1=function(t){return arguments.length?(o=t,area):o},area.defined=function(t){return arguments.length?(c=t,area):c},area.interpolate=function(t){return arguments.length?(l="function"==typeof t?f=t:(f=uu.get(t)||cu).key,h=f.reverse||f,d=f.closed?"M":"L",area):l},area.tension=function(t){return arguments.length?(v=t,area):v},area}function Mu(t){return t.radius}function Du(t){return[t.x,t.y]}function Nu(){return 64}function ku(){return"circle"}function Su(t){var n=Math.sqrt(t/Yt);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}c.svg.line.radial=function(){var line=ou(xu);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},fu.reverse=lu,lu.reverse=fu,c.svg.area=function(){return wu(j)},c.svg.area.radial=function(){var area=wu(xu);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},c.svg.chord=function(){var source=oi,t=ui,n=Mu,e=nu,r=eu;function o(n,i){var a,b,s=c(this,source,n,i),e=c(this,t,n,i);return"M"+s.p0+f(s.r,s.p1,s.a1-s.a0)+(b=e,(a=s).a0==b.a0&&a.a1==b.a1?l(s.r,s.p1,s.r,s.p0):l(s.r,s.p1,e.r,e.p0)+f(e.r,e.p1,e.a1-e.a0)+l(e.r,e.p1,s.r,s.p0))+"Z"}function c(t,o,c,i){var f=o.call(t,c,i),l=n.call(t,f,i),h=e.call(t,f,i)-Ot,d=r.call(t,f,i)-Ot;return{r:l,a0:h,a1:d,p0:[l*Math.cos(h),l*Math.sin(h)],p1:[l*Math.cos(d),l*Math.sin(d)]}}function f(t,p,a){return"A"+t+","+t+" 0 "+ +(a>Yt)+",1 "+p}function l(t,n,e,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=En(t),o):n},o.source=function(t){return arguments.length?(source=En(t),o):source},o.target=function(n){return arguments.length?(t=En(n),o):t},o.startAngle=function(t){return arguments.length?(e=En(t),o):e},o.endAngle=function(t){return arguments.length?(r=En(t),o):r},o},c.svg.diagonal=function(){var source=oi,t=ui,n=Du;function e(e,i){var r=source.call(this,e,i),o=t.call(this,e,i),c=(r.y+o.y)/2,p=[r,{x:r.x,y:c},{x:o.x,y:c},o];return"M"+(p=p.map(n))[0]+"C"+p[1]+" "+p[2]+" "+p[3]}return e.source=function(t){return arguments.length?(source=En(t),e):source},e.target=function(n){return arguments.length?(t=En(n),e):t},e.projection=function(t){return arguments.length?(n=t,e):n},e},c.svg.diagonal.radial=function(){var t=c.svg.diagonal(),n=Du,e=t.projection;return t.projection=function(t){return arguments.length?e(function(t){return function(){var n=t.apply(this,arguments),e=n[0],a=n[1]-Ot;return[e*Math.cos(a),e*Math.sin(a)]}}(n=t)):n},t},c.svg.symbol=function(){var t=ku,n=Nu;function symbol(e,i){return(Tu.get(t.call(this,e,i))||Su)(n.call(this,e,i))}return symbol.type=function(n){return arguments.length?(t=En(n),symbol):t},symbol.size=function(t){return arguments.length?(n=En(t),symbol):n},symbol};var Tu=c.map({circle:Su,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Au)),e=n*Au;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Cu),e=n*Cu/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Cu),e=n*Cu/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});c.svg.symbolTypes=Tu.keys();var Cu=Math.sqrt(3),Au=Math.tan(30*jt);ot.transition=function(t){for(var n,e,r=Ru||++zu,o=qu(t),c=[],f=Fu||{time:Date.now(),ease:Da,delay:0,duration:250},l=-1,h=this.length;++l<h;){c.push(n=[]);for(var d=this[l],i=-1,v=d.length;++i<v;)(e=d[i])&&Hu(e,i,o,r,f),n.push(e)}return Pu(c,o,r)},ot.interrupt=function(t){return this.each(null==t?Eu:Lu(qu(t)))};var Eu=Lu(qu());function Lu(t){return function(){var n,e,r;(n=this[t])&&(r=n[e=n.active])&&(r.timer.c=null,r.timer.t=NaN,--n.count?delete n[e]:delete this[t],n.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Pu(t,n,e){return tt(t,Uu),t.namespace=n,t.id=e,t}var Ru,Fu,Uu=[],zu=0;function Iu(t,n,e,r){var o=t.id,c=t.namespace;return Dt(t,"function"==typeof e?function(t,i,f){t[c][o].tween.set(n,r(e.call(t,t.__data__,i,f)))}:(e=r(e),function(t){t[c][o].tween.set(n,e)}))}function Yu(b){return null==b&&(b=""),function(){this.textContent=b}}function qu(t){return null==t?"__transition__":"__transition_"+t+"__"}function Hu(t,i,n,e,r){var time,o,c,f,l,h=t[n]||(t[n]={active:0,count:0}),d=h[e];function v(n){var r=h.active,v=h[r];for(var y in v&&(v.timer.c=null,v.timer.t=NaN,--h.count,delete h[r],v.event&&v.event.interrupt.call(t,t.__data__,v.index)),h)if(+y<e){var _=h[y];_.timer.c=null,_.timer.t=NaN,--h.count,delete h[y]}o.c=m,Yn(function(){return o.c&&m(n||1)&&(o.c=null,o.t=NaN),1},0,time),h.active=e,d.event&&d.event.start.call(t,t.__data__,i),l=[],d.tween.forEach(function(n,e){(e=e.call(t,t.__data__,i))&&l.push(e)}),f=d.ease,c=d.duration}function m(r){for(var o=r/c,v=f(o),m=l.length;m>0;)l[--m].call(t,v);if(o>=1)return d.event&&d.event.end.call(t,t.__data__,i),--h.count?delete h[e]:delete t[n],1}d||(time=r.time,o=Yn(function(t){var n=d.delay;if(o.t=n+time,n<=t)return v(t-n);o.c=v},0,time),d=h[e]={tween:new E,time:time,timer:o,delay:r.delay,duration:r.duration,ease:r.ease,index:i},r=null,++h.count)}Uu.call=ot.call,Uu.empty=ot.empty,Uu.node=ot.node,Uu.size=ot.size,c.transition=function(t,n){return t&&t.transition?Ru?t.transition(n):t:c.selection().transition(t)},c.transition.prototype=Uu,Uu.select=function(t){var n,e,r,o=this.id,c=this.namespace,f=[];t=ut(t);for(var l=-1,h=this.length;++l<h;){f.push(n=[]);for(var d=this[l],i=-1,v=d.length;++i<v;)(r=d[i])&&(e=t.call(r,r.__data__,i,l))?("__data__"in r&&(e.__data__=r.__data__),Hu(e,i,c,o,r[c][o]),n.push(e)):n.push(null)}return Pu(f,c,o)},Uu.selectAll=function(t){var n,e,r,o,c,f=this.id,l=this.namespace,h=[];t=ct(t);for(var d=-1,v=this.length;++d<v;)for(var m=this[d],i=-1,y=m.length;++i<y;)if(r=m[i]){c=r[l][f],e=t.call(r,r.__data__,i,d),h.push(n=[]);for(var _=-1,x=e.length;++_<x;)(o=e[_])&&Hu(o,_,l,f,c),n.push(o)}return Pu(h,l,f)},Uu.filter=function(filter){var t,n,e=[];"function"!=typeof filter&&(filter=Mt(filter));for(var r=0,o=this.length;r<o;r++){e.push(t=[]);for(var c,i=0,f=(c=this[r]).length;i<f;i++)(n=c[i])&&filter.call(n,n.__data__,i,r)&&t.push(n)}return Pu(e,this.namespace,this.id)},Uu.tween=function(t,n){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(t):Dt(this,null==n?function(n){n[r][e].tween.remove(t)}:function(o){o[r][e].tween.set(t,n)})},Uu.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var e="transform"==t?Fa:ga,r=c.ns.qualify(t);function o(){this.removeAttribute(r)}function f(){this.removeAttributeNS(r.space,r.local)}return Iu(this,"attr."+t,n,r.local?function(b){return null==b?f:(b+="",function(){var i,a=this.getAttributeNS(r.space,r.local);return a!==b&&(i=e(a,b),function(t){this.setAttributeNS(r.space,r.local,i(t))})})}:function(b){return null==b?o:(b+="",function(){var i,a=this.getAttribute(r);return a!==b&&(i=e(a,b),function(t){this.setAttribute(r,i(t))})})})},Uu.attrTween=function(t,n){var e=c.ns.qualify(t);return this.tween("attr."+t,e.local?function(t,i){var r=n.call(this,t,i,this.getAttributeNS(e.space,e.local));return r&&function(t){this.setAttributeNS(e.space,e.local,r(t))}}:function(t,i){var r=n.call(this,t,i,this.getAttribute(e));return r&&function(t){this.setAttribute(e,r(t))}})},Uu.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.style(e,t[e],n);return this}e=""}function o(){this.style.removeProperty(t)}return Iu(this,"style."+t,n,function(b){return null==b?o:(b+="",function(){var i,a=v(this).getComputedStyle(this,null).getPropertyValue(t);return a!==b&&(i=ga(a,b),function(n){this.style.setProperty(t,i(n),e)})})})},Uu.styleTween=function(t,n,e){return arguments.length<3&&(e=""),this.tween("style."+t,function(r,i){var o=n.call(this,r,i,v(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(n){this.style.setProperty(t,o(n),e)}})},Uu.text=function(t){return Iu(this,"text",t,Yu)},Uu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var p;this[t].count<2&&(p=this.parentNode)&&p.removeChild(this)})},Uu.ease=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].ease:("function"!=typeof t&&(t=c.ease.apply(c,arguments)),Dt(this,function(r){r[e][n].ease=t}))},Uu.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:Dt(this,"function"==typeof t?function(r,i,o){r[e][n].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[e][n].delay=t}))},Uu.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:Dt(this,"function"==typeof t?function(r,i,o){r[e][n].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))},Uu.each=function(t,n){var e=this.id,r=this.namespace;if(arguments.length<2){var o=Fu,f=Ru;try{Ru=e,Dt(this,function(n,i,o){Fu=n[r][e],t.call(n,n.__data__,i,o)})}finally{Fu=o,Ru=f}}else Dt(this,function(o){var f=o[r][e];(f.event||(f.event=c.dispatch("start","end","interrupt"))).on(t,n)});return this},Uu.transition=function(){for(var t,n,e,r=this.id,o=++zu,c=this.namespace,f=[],l=0,h=this.length;l<h;l++){f.push(t=[]);for(var d,i=0,v=(d=this[l]).length;i<v;i++)(n=d[i])&&Hu(n,i,c,o,{time:(e=n[c][r]).time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration}),t.push(n)}return Pu(f,c,o)},c.svg.axis=function(){var t,n=c.scale.linear(),e=Ou,r=6,o=6,f=3,h=[10],d=null;function v(g){g.each(function(){var l,g=c.select(this),v=this.__chart__||n,m=this.__chart__=n.copy(),y=null==d?m.ticks?m.ticks.apply(m,h):m.domain():d,_=null==t?m.tickFormat?m.tickFormat.apply(m,h):j:t,x=g.selectAll(".tick").data(y,m),w=x.enter().insert("g",".domain").attr("class","tick").style("opacity",zt),M=c.transition(x.exit()).style("opacity",zt).remove(),D=c.transition(x.order()).style("opacity",1),N=Math.max(r,0)+f,k=Eo(m),path=g.selectAll(".domain").data([0]),S=(path.enter().append("path").attr("class","domain"),c.transition(path));w.append("line"),w.append("text");var T,C,A,E,L=w.select("line"),P=D.select("line"),text=x.select("text").text(_),R=w.select("text"),F=D.select("text"),U="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?(l=Vu,T="x",A="y",C="x2",E="y2",text.attr("dy",U<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+k[0]+","+U*o+"V0H"+k[1]+"V"+U*o)):(l=Wu,T="y",A="x",C="y2",E="x2",text.attr("dy",".32em").style("text-anchor",U<0?"end":"start"),S.attr("d","M"+U*o+","+k[0]+"H0V"+k[1]+"H"+U*o)),L.attr(E,U*r),R.attr(A,U*N),P.attr(C,0).attr(E,U*r),F.attr(T,0).attr(A,U*N),m.rangeBand){var z=m,I=z.rangeBand()/2;v=m=function(t){return z(t)+I}}else v.rangeBand?v=m:M.call(l,m,v);w.call(l,v,m),D.call(l,m,m)})}return v.scale=function(t){return arguments.length?(n=t,v):n},v.orient=function(t){return arguments.length?(e=t in ju?t+"":Ou,v):e},v.ticks=function(){return arguments.length?(h=l(arguments),v):h},v.tickValues=function(t){return arguments.length?(d=t,v):d},v.tickFormat=function(n){return arguments.length?(t=n,v):t},v.tickSize=function(t){var n=arguments.length;return n?(r=+t,o=+arguments[n-1],v):r},v.innerTickSize=function(t){return arguments.length?(r=+t,v):r},v.outerTickSize=function(t){return arguments.length?(o=+t,v):o},v.tickPadding=function(t){return arguments.length?(f=+t,v):f},v.tickSubdivide=function(){return arguments.length&&v},v};var Ou="bottom",ju={top:1,right:1,bottom:1,left:1};function Vu(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"})}function Wu(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"})}c.svg.brush=function(){var t,n,e=J(y,"brushstart","brush","brushend"),r=null,o=null,f=[0,0],l=[0,0],h=!0,d=!0,m=Xu[0];function y(g){g.each(function(){var g=c.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",M).on("touchstart.brush",M),t=g.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=g.selectAll(".resize").data(m,j);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Zu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",y.empty()?"none":null);var e,f=c.transition(g),l=c.transition(t);r&&(e=Eo(r),l.attr("x",e[0]).attr("width",e[1]-e[0]),x(f)),o&&(e=Eo(o),l.attr("y",e[0]).attr("height",e[1]-e[0]),w(f)),_(f)})}function _(g){g.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"})}function x(g){g.select(".extent").attr("x",f[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function w(g){g.select(".extent").attr("y",l[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function M(){var m,M,D=this,N=c.select(c.event.target),k=e.of(D,arguments),g=c.select(D),S=N.datum(),T=!/^(n|s)$/.test(S)&&r,C=!/^(e|w)$/.test(S)&&o,A=N.classed("extent"),E=Pt(D),L=c.mouse(D),P=c.select(v(D)).on("keydown.brush",function(){32==c.event.keyCode&&(A||(m=null,L[0]-=f[1],L[1]-=l[1],A=2),$())}).on("keyup.brush",function(){32==c.event.keyCode&&2==A&&(L[0]+=f[1],L[1]+=l[1],A=0,$())});if(c.event.changedTouches?P.on("touchmove.brush",U).on("touchend.brush",I):P.on("mousemove.brush",U).on("mouseup.brush",I),g.interrupt().selectAll("*").interrupt(),A)L[0]=f[0]-L[0],L[1]=l[0]-L[1];else if(S){var R=+/w$/.test(S),F=+/^n/.test(S);M=[f[1-R]-L[0],l[1-F]-L[1]],L[0]=f[R],L[1]=l[F]}else c.event.altKey&&(m=L.slice());function U(){var t=c.mouse(D),n=!1;M&&(t[0]+=M[0],t[1]+=M[1]),A||(c.event.altKey?(m||(m=[(f[0]+f[1])/2,(l[0]+l[1])/2]),L[0]=f[+(t[0]<m[0])],L[1]=l[+(t[1]<m[1])]):m=null),T&&z(t,r,0)&&(x(g),n=!0),C&&z(t,o,1)&&(w(g),n=!0),n&&(_(g),k({type:"brush",mode:A?"move":"resize"}))}function z(e,r,i){var o,c,v=Eo(r),y=v[0],_=v[1],x=L[i],w=i?l:f,M=w[1]-w[0];if(A&&(y-=x,_-=M+x),o=(i?d:h)?Math.max(y,Math.min(_,e[i])):e[i],A?c=(o+=x)+M:(m&&(x=Math.max(y,Math.min(_,2*m[i]-o))),x<o?(c=o,o=x):c=x),w[0]!=o||w[1]!=c)return i?n=null:t=null,w[0]=o,w[1]=c,!0}function I(){U(),g.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),c.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),k({type:"brushend"})}g.style("pointer-events","none").selectAll(".resize").style("display",null),c.select("body").style("cursor",N.style("cursor")),k({type:"brushstart"}),U()}return y.event=function(g){g.each(function(){var r=e.of(this,arguments),o={x:f,y:l,i:t,j:n},h=this.__chart__||o;this.__chart__=o,Ru?c.select(this).transition().each("start.brush",function(){t=h.i,n=h.j,f=h.x,l=h.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=va(f,o.x),c=va(l,o.y);return t=n=null,function(t){f=o.x=e(t),l=o.y=c(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=o.i,n=o.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},y.x=function(t){return arguments.length?(m=Xu[!(r=t)<<1|!o],y):r},y.y=function(t){return arguments.length?(m=Xu[!r<<1|!(o=t)],y):o},y.clamp=function(t){return arguments.length?(r&&o?(h=!!t[0],d=!!t[1]):r?h=!!t:o&&(d=!!t),y):r&&o?[h,d]:r?h:o?d:null},y.extent=function(e){var c,h,d,v,m;return arguments.length?(r&&(c=e[0],h=e[1],o&&(c=c[0],h=h[0]),t=[c,h],r.invert&&(c=r(c),h=r(h)),h<c&&(m=c,c=h,h=m),c==f[0]&&h==f[1]||(f=[c,h])),o&&(d=e[0],v=e[1],r&&(d=d[1],v=v[1]),n=[d,v],o.invert&&(d=o(d),v=o(v)),v<d&&(m=d,d=v,v=m),d==l[0]&&v==l[1]||(l=[d,v])),y):(r&&(t?(c=t[0],h=t[1]):(c=f[0],h=f[1],r.invert&&(c=r.invert(c),h=r.invert(h)),h<c&&(m=c,c=h,h=m))),o&&(n?(d=n[0],v=n[1]):(d=l[0],v=l[1],o.invert&&(d=o.invert(d),v=o.invert(v)),v<d&&(m=d,d=v,v=m))),r&&o?[[c,d],[h,v]]:r?[c,h]:o&&[d,v])},y.clear=function(){return y.empty()||(f=[0,0],l=[0,0],t=n=null),y},y.empty=function(){return!!r&&f[0]==f[1]||!!o&&l[0]==l[1]},c.rebind(y,e,"on")};var Zu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gu=Bn.format=De.timeFormat,Bu=Gu.utc,$u=Bu("%Y-%m-%dT%H:%M:%S.%LZ");function Ku(t){return t.toISOString()}function Ju(t,n,e){function r(n){return t(n)}function o(t,e){var r=(t[1]-t[0])/e,i=c.bisect(tc,r);return i==tc.length?[n.year,Yo(t.map(function(t){return t/31536e6}),e)[2]]:i?n[r/tc[i-1]<tc[i]/r?i-1:i]:[rc,Yo(t,e)[2]]}return r.invert=function(n){return Qu(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(Qu)},r.nice=function(t,n){var e=r.domain(),c=Ao(e),f=null==t?o(c,10):"number"==typeof t&&o(c,t);function l(e){return!isNaN(e)&&!t.range(e,Qu(+e+1),n).length}return f&&(t=f[0],n=f[1]),r.domain(Po(e,n>1?{floor:function(n){for(;l(n=t.floor(n));)n=Qu(n-1);return n},ceil:function(n){for(;l(n=t.ceil(n));)n=Qu(+n+1);return n}}:t))},r.ticks=function(t,n){var e=Ao(r.domain()),c=null==t?o(e,10):"number"==typeof t?o(e,t):!t.range&&[{range:t},n];return c&&(t=c[0],n=c[1]),t.range(e[0],Qu(+e[1]+1),n<1?1:n)},r.tickFormat=function(){return e},r.copy=function(){return Ju(t.copy(),n,e)},zo(r,t)}function Qu(t){return new Date(t)}Gu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ku:$u,Ku.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Ku.toString=$u.toString,Bn.second=Qn(function(t){return new $n(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),Bn.seconds=Bn.second.range,Bn.seconds.utc=Bn.second.utc.range,Bn.minute=Qn(function(t){return new $n(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),Bn.minutes=Bn.minute.range,Bn.minutes.utc=Bn.minute.utc.range,Bn.hour=Qn(function(t){var n=t.getTimezoneOffset()/60;return new $n(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),Bn.hours=Bn.hour.range,Bn.hours.utc=Bn.hour.utc.range,Bn.month=Qn(function(t){return(t=Bn.day(t)).setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),Bn.months=Bn.month.range,Bn.months.utc=Bn.month.utc.range;var tc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nc=[[Bn.second,1],[Bn.second,5],[Bn.second,15],[Bn.second,30],[Bn.minute,1],[Bn.minute,5],[Bn.minute,15],[Bn.minute,30],[Bn.hour,1],[Bn.hour,3],[Bn.hour,6],[Bn.hour,12],[Bn.day,1],[Bn.day,2],[Bn.week,1],[Bn.month,1],[Bn.month,3],[Bn.year,1]],ec=Gu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",fr]]),rc={range:function(t,n,e){return c.range(Math.ceil(t/e)*e,+n,e).map(Qu)},floor:j,ceil:j};nc.year=Bn.year,Bn.scale=function(){return Ju(c.scale.linear(),nc,ec)};var ic=nc.map(function(t){return[t[0].utc,t[1]]}),ac=Bu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",fr]]);function oc(t){return JSON.parse(t.responseText)}function uc(t){var n=h.createRange();return n.selectNode(h.body),n.createContextualFragment(t.responseText)}ic.year=Bn.year.utc,Bn.scale.utc=function(){return Ju(c.scale.linear(),ic,ac)},c.text=Ln(function(t){return t.responseText}),c.json=function(t,n){return Pn(t,"application/json",oc,n)},c.html=function(t,n){return Pn(t,"text/html",uc,n)},c.xml=Ln(function(t){return t.responseXML}),this.d3=c,void 0===(o="function"==typeof(r=c)?r.call(n,e,n,t):r)||(t.exports=o)}()},555:function(t,n,e){"use strict";var r=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},o=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(a,n,e,r){for(null==e&&(e=0),null==r&&(r=a.length);e<r;){var o=e+r>>>1;t(a[o],n)<0?e=o+1:r=o}return e},right:function(a,n,e,r){for(null==e&&(e=0),null==r&&(r=a.length);e<r;){var o=e+r>>>1;t(a[o],n)>0?r=o:e=o+1}return e}}};var c=o(r);c.right,c.left;var f=Array.prototype;f.slice,f.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var l=function(t){for(var n,e,r,o=t.length,i=-1,c=0;++i<o;)c+=t[i].length;for(e=new Array(c);--o>=0;)for(n=(r=t[o]).length;--n>=0;)e[--c]=r[n];return e};Array.prototype.slice;var h={value:function(){}};function d(){for(var t,i=0,n=arguments.length,e={};i<n;++i){if(!(t=arguments[i]+"")||t in e)throw new Error("illegal type: "+t);e[t]=[]}return new v(e)}function v(t){this._=t}function m(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function y(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=h,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}v.prototype=d.prototype={constructor:v,on:function(t,n){var e,r,o=this._,c=(r=o,(t+"").trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),i=-1,f=c.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<f;)if(e=(t=c[i]).type)o[e]=y(o[e],t.name,n);else if(null==n)for(e in o)o[e]=y(o[e],t.name,null);return this}for(;++i<f;)if((e=(t=c[i]).type)&&(e=m(o[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new v(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var _=d,x="http://www.w3.org/1999/xhtml",w={svg:"http://www.w3.org/2000/svg",xhtml:x,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=function(t){var n=t+="",i=n.indexOf(":");return i>=0&&"xmlns"!==(n=t.slice(0,i))&&(t=t.slice(i+1)),w.hasOwnProperty(n)?{space:w[n],local:t}:t};var D=function(t){var n=M(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===x&&n.documentElement.namespaceURI===x?n.createElement(t):n.createElementNS(e,t)}})(n)};function N(){}var k=function(t){return null==t?N:function(){return this.querySelector(t)}};function S(){return[]}var T=function(t){return null==t?S:function(){return this.querySelectorAll(t)}},C=function(t){return function(){return this.matches(t)}},A=function(t){return new Array(t.length)};function E(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}E.prototype={constructor:E,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var L="$";function P(t,n,e,r,o,data){for(var c,i=0,f=n.length,l=data.length;i<l;++i)(c=n[i])?(c.__data__=data[i],r[i]=c):e[i]=new E(t,data[i]);for(;i<f;++i)(c=n[i])&&(o[i]=c)}function R(t,n,e,r,o,data,c){var i,f,l,h={},d=n.length,v=data.length,m=new Array(d);for(i=0;i<d;++i)(f=n[i])&&(m[i]=l=L+c.call(f,f.__data__,i,n),l in h?o[i]=f:h[l]=f);for(i=0;i<v;++i)(f=h[l=L+c.call(t,data[i],i,data)])?(r[i]=f,f.__data__=data[i],h[l]=null):e[i]=new E(t,data[i]);for(i=0;i<d;++i)(f=n[i])&&h[m[i]]===f&&(o[i]=f)}function F(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var U=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function z(t,n){return t.style.getPropertyValue(n)||U(t).getComputedStyle(t,null).getPropertyValue(n)}function I(t){return t.trim().split(/^|\s+/)}function Y(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=I(t.getAttribute("class")||"")}function O(t,n){for(var e=Y(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function j(t,n){for(var e=Y(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function V(){this.textContent=""}function W(){this.innerHTML=""}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function B(){var t=this.parentNode;t&&t.removeChild(this)}function $(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function K(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var J={},Q=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"}));function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(t,n,e){return function(r){var o=Q;Q=r;try{t.call(this,this.__data__,n,e)}finally{Q=o}}}function et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function it(t,n,e){var r=J.hasOwnProperty(t.type)?tt:nt;return function(o,i,c){var f,l=this.__on,h=r(n,i,c);if(l)for(var d=0,v=l.length;d<v;++d)if((f=l[d]).type===t.type&&f.name===t.name)return this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=h,f.capture=e),void(f.value=n);this.addEventListener(t.type,h,e),f={type:t.type,name:t.name,value:n,listener:h,capture:e},l?l.push(f):this.__on=[f]}}function at(t,n,e){var r=U(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}var ot=[null];function ut(t,n){this._groups=t,this._parents=n}function ct(){return new ut([[document.documentElement]],ot)}ut.prototype=ct.prototype={constructor:ut,select:function(select){"function"!=typeof select&&(select=k(select));for(var t=this._groups,n=t.length,e=new Array(n),r=0;r<n;++r)for(var o,c,f=t[r],l=f.length,h=e[r]=new Array(l),i=0;i<l;++i)(o=f[i])&&(c=select.call(o,o.__data__,i,f))&&("__data__"in o&&(c.__data__=o.__data__),h[i]=c);return new ut(e,this._parents)},selectAll:function(select){"function"!=typeof select&&(select=T(select));for(var t=this._groups,n=t.length,e=[],r=[],o=0;o<n;++o)for(var c,f=t[o],l=f.length,i=0;i<l;++i)(c=f[i])&&(e.push(select.call(c,c.__data__,i,f)),r.push(c));return new ut(e,r)},filter:function(t){"function"!=typeof t&&(t=C(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var c,f=n[o],l=f.length,h=r[o]=[],i=0;i<l;++i)(c=f[i])&&t.call(c,c.__data__,i,f)&&h.push(c);return new ut(r,this._parents)},data:function(t,n){if(!t)return data=new Array(this.size()),v=-1,this.each(function(t){data[++v]=t}),data;var e,r=n?R:P,o=this._parents,c=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var f=c.length,l=new Array(f),h=new Array(f),d=new Array(f),v=0;v<f;++v){var m=o[v],y=c[v],_=y.length,data=t.call(m,m&&m.__data__,v,o),x=data.length,w=h[v]=new Array(x),M=l[v]=new Array(x);r(m,y,w,M,d[v]=new Array(_),data,n);for(var D,N,k=0,S=0;k<x;++k)if(D=w[k]){for(k>=S&&(S=k+1);!(N=M[S])&&++S<x;);D._next=N||null}}return(l=new ut(l,o))._enter=h,l._exit=d,l},enter:function(){return new ut(this._enter||this._groups.map(A),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(A),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,c=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?c.remove():e(c),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,c=Math.min(r,o),f=new Array(r),l=0;l<c;++l)for(var h,d=n[l],v=e[l],m=d.length,y=f[l]=new Array(m),i=0;i<m;++i)(h=d[i]||v[i])&&(y[i]=h);for(;l<r;++l)f[l]=n[l];return new ut(f,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,c=o[i];--i>=0;)(r=o[i])&&(c&&4^r.compareDocumentPosition(c)&&c.parentNode.insertBefore(r,c),c=r);return this},sort:function(t){function n(a,b){return a&&b?t(a.__data__,b.__data__):!a-!b}t||(t=F);for(var e=this._groups,r=e.length,o=new Array(r),c=0;c<r;++c){for(var f,l=e[c],h=l.length,d=o[c]=new Array(h),i=0;i<h;++i)(f=l[i])&&(d[i]=f);d.sort(n)}return new ut(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),i=-1;return this.each(function(){t[++i]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var c=r[i];if(c)return c}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,c=n[e],i=0,f=c.length;i<f;++i)(o=c[i])&&t.call(o,o.__data__,i,c);return this},attr:function(t,n){var e=M(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):z(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=I(t+"");if(arguments.length<2){for(var r=Y(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?O:j)(this,t)}}:n?function(t){return function(){O(this,t)}}:function(t){return function(){j(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(X)},append:function(t){var n="function"==typeof t?t:D(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:D(t),select=null==n?G:"function"==typeof n?n:k(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),select.apply(this,arguments)||null)})},remove:function(){return this.each(B)},clone:function(t){return this.select(t?K:$)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}(t+""),c=o.length;if(!(arguments.length<2)){for(f=n?it:et,null==e&&(e=!1),i=0;i<c;++i)this.each(f(o[i],n,e));return this}var f=this.node().__on;if(f)for(var l,h=0,d=f.length;h<d;++h)for(i=0,l=f[h];i<c;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return at(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return at(this,t,n)}})(t,n))}};var st=ct,ft=0;function lt(){this._="@"+(++ft).toString(36)}lt.prototype=function(){return new lt}.prototype={constructor:lt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ht(t,n,e,r,o,c,f,l,h,d){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=o,this.x=c,this.y=f,this.dx=l,this.dy=h,this._=d}ht.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pt=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function gt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function vt(){}var mt="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_t=/^#([0-9a-f]{3})$/,xt=/^#([0-9a-f]{6})$/,wt=new RegExp("^rgb\\("+[mt,mt,mt]+"\\)$"),Mt=new RegExp("^rgb\\("+[bt,bt,bt]+"\\)$"),Dt=new RegExp("^rgba\\("+[mt,mt,mt,yt]+"\\)$"),Nt=new RegExp("^rgba\\("+[bt,bt,bt,yt]+"\\)$"),kt=new RegExp("^hsl\\("+[yt,bt,bt]+"\\)$"),St=new RegExp("^hsla\\("+[yt,bt,bt,yt]+"\\)$"),Tt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ct(t){var n;return t=(t+"").trim().toLowerCase(),(n=_t.exec(t))?new Rt((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=xt.exec(t))?At(parseInt(n[1],16)):(n=wt.exec(t))?new Rt(n[1],n[2],n[3],1):(n=Mt.exec(t))?new Rt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dt.exec(t))?Et(n[1],n[2],n[3],n[4]):(n=Nt.exec(t))?Et(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=kt.exec(t))?Ut(n[1],n[2]/100,n[3]/100,1):(n=St.exec(t))?Ut(n[1],n[2]/100,n[3]/100,n[4]):Tt.hasOwnProperty(t)?At(Tt[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function At(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Et(t,g,b,a){return a<=0&&(t=g=b=NaN),new Rt(t,g,b,a)}function Lt(t){return t instanceof vt||(t=Ct(t)),t?new Rt((t=t.rgb()).r,t.g,t.b,t.opacity):new Rt}function Pt(t,g,b,n){return 1===arguments.length?Lt(t):new Rt(t,g,b,null==n?1:n)}function Rt(t,g,b,n){this.r=+t,this.g=+g,this.b=+b,this.opacity=+n}function Ft(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ut(t,s,n,a){return a<=0?t=s=n=NaN:n<=0||n>=1?t=s=NaN:s<=0&&(t=NaN),new It(t,s,n,a)}function zt(t,s,n,e){return 1===arguments.length?function(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof vt||(t=Ct(t)),!t)return new It;if(t instanceof It)return t;var n=(t=t.rgb()).r/255,g=t.g/255,b=t.b/255,e=Math.min(n,g,b),r=Math.max(n,g,b),o=NaN,s=r-e,c=(r+e)/2;return s?(o=n===r?(g-b)/s+6*(g<b):g===r?(b-n)/s+2:(n-g)/s+4,s/=c<.5?r+e:2-r-e,o*=60):s=c>0&&c<1?0:o,new It(o,s,c,t.opacity)}(t):new It(t,s,n,null==e?1:e)}function It(t,s,n,e){this.h=+t,this.s=+s,this.l=+n,this.opacity=+e}function Yt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}pt(vt,Ct,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),pt(Rt,Pt,gt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Ft(this.r)+Ft(this.g)+Ft(this.b)},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),pt(It,zt,gt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),s=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*s,r=2*n-e;return new Rt(Yt(t>=240?t-240:t+120,r,e),Yt(t,r,e),Yt(t<120?t+240:t-120,r,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var qt=Math.PI/180,Ht=180/Math.PI,Ot=.96422,jt=1,Vt=.82521,Wt=4/29,Zt=6/29,Xt=3*Zt*Zt,Gt=Zt*Zt*Zt;function Bt(t){if(t instanceof Kt)return new Kt(t.l,t.a,t.b,t.opacity);if(t instanceof an){if(isNaN(t.h))return new Kt(t.l,0,0,t.opacity);var n=t.h*qt;return new Kt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Rt||(t=Lt(t));var e,r,o=nn(t.r),g=nn(t.g),b=nn(t.b),c=Jt((.2225045*o+.7168786*g+.0606169*b)/jt);return o===g&&g===b?e=r=c:(e=Jt((.4360747*o+.3850649*g+.1430804*b)/Ot),r=Jt((.0139322*o+.0971045*g+.7141733*b)/Vt)),new Kt(116*c-16,500*(e-c),200*(c-r),t.opacity)}function $t(t,a,b,n){return 1===arguments.length?Bt(t):new Kt(t,a,b,null==n?1:n)}function Kt(t,a,b,n){this.l=+t,this.a=+a,this.b=+b,this.opacity=+n}function Jt(t){return t>Gt?Math.pow(t,1/3):t/Xt+Wt}function Qt(t){return t>Zt?t*t*t:Xt*(t-Wt)}function tn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function nn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function en(t){if(t instanceof an)return new an(t.h,t.c,t.l,t.opacity);if(t instanceof Kt||(t=Bt(t)),0===t.a&&0===t.b)return new an(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ht;return new an(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function rn(t,n,e,r){return 1===arguments.length?en(t):new an(t,n,e,null==r?1:r)}function an(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}pt(Kt,$t,gt(vt,{brighter:function(t){return new Kt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Kt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Rt(tn(3.1338561*(n=Ot*Qt(n))-1.6168667*(t=jt*Qt(t))-.4906146*(e=Vt*Qt(e))),tn(-.9787684*n+1.9161415*t+.033454*e),tn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),pt(an,rn,gt(vt,{brighter:function(t){return new an(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new an(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Bt(this).rgb()}}));var on=-.29227,un=-.90649,cn=1.97294,sn=cn*un,fn=1.78277*cn,ln=1.78277*on- -.14861*un;function hn(t,s,n,e){return 1===arguments.length?function(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=Lt(t));var n=t.r/255,g=t.g/255,b=t.b/255,e=(ln*b+sn*n-fn*g)/(ln+sn-fn),r=b-e,o=(cn*(g-e)-on*r)/un,s=Math.sqrt(o*o+r*r)/(cn*e*(1-e)),c=s?Math.atan2(o,r)*Ht-120:NaN;return new dn(c<0?c+360:c,s,e,t.opacity)}(t):new dn(t,s,n,null==e?1:e)}function dn(t,s,n,e){this.h=+t,this.s=+s,this.l=+n,this.opacity=+e}function pn(t,n,e,r,o){var c=t*t,f=c*t;return((1-3*t+3*c-f)*n+(4-6*c+3*f)*e+(1+3*t+3*c-3*f)*r+f*o)/6}pt(dn,hn,gt(vt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qt,n=+this.l,a=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),r=Math.sin(t);return new Rt(255*(n+a*(-.14861*e+1.78277*r)),255*(n+a*(on*e+un*r)),255*(n+a*(cn*e)),this.opacity)}}));var gn=function(t){return function(){return t}};function vn(a,t){return function(n){return a+n*t}}function mn(a,b){var t=b-a;return t?vn(a,t>180||t<-180?t-360*Math.round(t/360):t):gn(isNaN(a)?b:a)}function yn(t){return 1==(t=+t)?bn:function(a,b){return b-a?function(a,b,t){return a=Math.pow(a,t),b=Math.pow(b,t)-a,t=1/t,function(n){return Math.pow(a+n*b,t)}}(a,b,t):gn(isNaN(a)?b:a)}}function bn(a,b){var t=b-a;return t?vn(a,t):gn(isNaN(a)?b:a)}var _n=function t(n){var e=yn(n);function r(t,n){var r=e((t=Pt(t)).r,(n=Pt(n)).r),g=e(t.g,n.g),b=e(t.b,n.b),o=bn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=g(n),t.b=b(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function xn(t){return function(n){var i,e,r=n.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)e=Pt(n[i]),o[i]=e.r||0,g[i]=e.g||0,b[i]=e.b||0;return o=t(o),g=t(g),b=t(b),e.opacity=1,function(t){return e.r=o(t),e.g=g(t),e.b=b(t),e+""}}}var wn=xn(function(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],o=t[i+1],c=i>0?t[i-1]:2*r-o,f=i<n-1?t[i+2]:2*o-r;return pn((e-i/n)*n,c,r,o,f)}}),Mn=(xn(function(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n),r=t[(i+n-1)%n],o=t[i%n],c=t[(i+1)%n],f=t[(i+2)%n];return pn((e-i/n)*n,r,o,c,f)}}),function(a,b){return b-=a=+a,function(t){return a+b*t}}),Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(Dn.source,"g");var kn,Sn,Tn,Cn,An=function(a,b){var t,n,e,r=Dn.lastIndex=Nn.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=Dn.exec(a))&&(n=Nn.exec(b));)(e=n.index)>r&&(e=b.slice(r,e),s[i]?s[i]+=e:s[++i]=e),(t=t[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,q.push({i:i,x:Mn(t,n)})),r=Nn.lastIndex;return r<b.length&&(e=b.slice(r),s[i]?s[i]+=e:s[++i]=e),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var n,i=0;i<b;++i)s[(n=q[i]).i]=n.x(t);return s.join("")})},En=180/Math.PI,Ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Pn=function(a,b,t,n,e,r){var o,c,f;return(o=Math.sqrt(a*a+b*b))&&(a/=o,b/=o),(f=a*t+b*n)&&(t-=a*f,n-=b*f),(c=Math.sqrt(t*t+n*n))&&(t/=c,n/=c,f/=c),a*n<b*t&&(a=-a,b=-b,f=-f,o=-o),{translateX:e,translateY:r,rotate:Math.atan2(b,a)*En,skewX:Math.atan(f)*En,scaleX:o,scaleY:c}};function Rn(t,n,e,r){function o(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=t(a),b=t(b),function(t,r,o,c,s,q){if(t!==o||r!==c){var i=s.push("translate(",null,n,null,e);q.push({i:i-4,x:Mn(t,o)},{i:i-2,x:Mn(r,c)})}else(o||c)&&s.push("translate("+o+n+c+e)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(o(s)+"rotate(",null,r)-2,x:Mn(a,b)})):b&&s.push(o(s)+"rotate("+b+r)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(o(s)+"skewX(",null,r)-2,x:Mn(a,b)}):b&&s.push(o(s)+"skewX("+b+r)}(a.skewX,b.skewX,s,q),function(t,n,e,r,s,q){if(t!==e||n!==r){var i=s.push(o(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Mn(t,e)},{i:i-2,x:Mn(n,r)})}else 1===e&&1===r||s.push(o(s)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var n,i=-1,e=q.length;++i<e;)s[(n=q[i]).i]=n.x(t);return s.join("")}}}var Fn=Rn(function(t){return"none"===t?Ln:(kn||(kn=document.createElement("DIV"),Sn=document.documentElement,Tn=document.defaultView),kn.style.transform=t,t=Tn.getComputedStyle(Sn.appendChild(kn),null).getPropertyValue("transform"),Sn.removeChild(kn),t=t.slice(7,-1).split(","),Pn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Un=Rn(function(t){return null==t?Ln:(Cn||(Cn=document.createElementNS("http://www.w3.org/2000/svg","g")),Cn.setAttribute("transform",t),(t=Cn.transform.baseVal.consolidate())?(t=t.matrix,Pn(t.a,t.b,t.c,t.d,t.e,t.f)):Ln)},", ",")",")");Math.SQRT2;function zn(t){return function(n,e){var r=t((n=zt(n)).h,(e=zt(e)).h),s=bn(n.s,e.s),o=bn(n.l,e.l),c=bn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=s(t),n.l=o(t),n.opacity=c(t),n+""}}}zn(mn),zn(bn);function In(t){return function(n,e){var r=t((n=rn(n)).h,(e=rn(e)).h),o=bn(n.c,e.c),c=bn(n.l,e.l),f=bn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=o(t),n.l=c(t),n.opacity=f(t),n+""}}}In(mn),In(bn);function Yn(t){return function n(e){function r(n,r){var o=t((n=hn(n)).h,(r=hn(r)).h),s=bn(n.s,r.s),c=bn(n.l,r.l),f=bn(n.opacity,r.opacity);return function(t){return n.h=o(t),n.s=s(t),n.l=c(Math.pow(t,e)),n.opacity=f(t),n+""}}return e=+e,r.gamma=n,r}(1)}Yn(mn);var qn=Yn(bn);var Hn,On,jn=0,Vn=0,Wn=0,Zn=1e3,Xn=0,Gn=0,Bn=0,$n="object"==typeof performance&&performance.now?performance:Date,Kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jn(){return Gn||(Kn(Qn),Gn=$n.now()+Bn)}function Qn(){Gn=0}function te(){this._call=this._time=this._next=null}function ne(t,n,time){var e=new te;return e.restart(t,n,time),e}function ee(){Gn=(Xn=$n.now())+Bn,jn=Vn=0;try{!function(){Jn(),++jn;for(var t,n=Hn;n;)(t=Gn-n._time)>=0&&n._call.call(null,t),n=n._next;--jn}()}finally{jn=0,function(){var t,n,e=Hn,time=1/0;for(;e;)e._call?(time>e._time&&(time=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hn=n);On=t,ie(time)}(),Gn=0}}function re(){var t=$n.now(),n=t-Xn;n>Zn&&(Bn-=n,Xn=t)}function ie(time){jn||(Vn&&(Vn=clearTimeout(Vn)),time-Gn>24?(time<1/0&&(Vn=setTimeout(ee,time-$n.now()-Bn)),Wn&&(Wn=clearInterval(Wn))):(Wn||(Xn=$n.now(),Wn=setInterval(re,Zn)),jn=1,Kn(ee)))}te.prototype=ne.prototype={constructor:te,restart:function(t,n,time){if("function"!=typeof t)throw new TypeError("callback is not a function");time=(null==time?Jn():+time)+(null==n?0:+n),this._next||On===this||(On?On._next=this:Hn=this,On=this),this._call=t,this._time=time,ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,ie())}};var ae=function(t,n,time){var e=new te;return n=null==n?0:+n,e.restart(function(r){e.stop(),t(r+n)},n,time),e},oe=_("start","end","cancel","interrupt"),ue=[],ce=0,se=1,fe=2,le=3,he=4,de=5,pe=6,ge=function(t,n,e,r,o,c){var f=t.__transition;if(f){if(e in f)return}else t.__transition={};!function(t,n,e){var r,o=t.__transition;function c(h){var i,d,v,m;if(e.state!==se)return l();for(i in o)if((m=o[i]).name===e.name){if(m.state===le)return ae(c);m.state===he?(m.state=pe,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[i]):+i<n&&(m.state=pe,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete o[i])}if(ae(function(){e.state===le&&(e.state=he,e.timer.restart(f,e.delay,e.time),f(h))}),e.state=fe,e.on.call("start",t,t.__data__,e.index,e.group),e.state===fe){for(e.state=le,r=new Array(v=e.tween.length),i=0,d=-1;i<v;++i)(m=e.tween[i].value.call(t,t.__data__,e.index,e.group))&&(r[++d]=m);r.length=d+1}}function f(n){for(var o=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=de,1),i=-1,c=r.length;++i<c;)r[i].call(t,o);e.state===de&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var i in e.state=pe,e.timer.stop(),delete o[n],o)return;delete t.__transition}o[n]=e,e.timer=ne(function(t){e.state=se,e.timer.restart(c,e.delay,e.time),e.delay<=t&&c(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:o,on:oe,tween:ue,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:ce})};function ve(t,n){var e=ye(t,n);if(e.state>ce)throw new Error("too late; already scheduled");return e}function me(t,n){var e=ye(t,n);if(e.state>le)throw new Error("too late; already running");return e}function ye(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var be=function(t,n){var e,r,i,o=t.__transition,c=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>fe&&e.state<de,e.state=pe,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):c=!1;c&&delete t.__transition}};function _e(t,n,e){var r=t._id;return t.each(function(){var t=me(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return ye(t,r).value[n]}}var xe=function(a,b){var t;return("number"==typeof b?Mn:b instanceof Ct?_n:(t=Ct(b))?(b=t,_n):An)(a,b)};var we=st.prototype.constructor;function Me(t){return function(){this.style.removeProperty(t)}}var De=0;function Ne(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ke(){return++De}var Se=st.prototype;Ne.prototype=function(t){return st().transition(t)}.prototype={constructor:Ne,select:function(select){var t=this._name,n=this._id;"function"!=typeof select&&(select=k(select));for(var e=this._groups,r=e.length,o=new Array(r),c=0;c<r;++c)for(var f,l,h=e[c],d=h.length,v=o[c]=new Array(d),i=0;i<d;++i)(f=h[i])&&(l=select.call(f,f.__data__,i,h))&&("__data__"in f&&(l.__data__=f.__data__),v[i]=l,ge(v[i],t,n,i,v,ye(f,n)));return new Ne(o,this._parents,t,n)},selectAll:function(select){var t=this._name,n=this._id;"function"!=typeof select&&(select=T(select));for(var e=this._groups,r=e.length,o=[],c=[],f=0;f<r;++f)for(var l,h=e[f],d=h.length,i=0;i<d;++i)if(l=h[i]){for(var v,m=select.call(l,l.__data__,i,h),y=ye(l,n),_=0,x=m.length;_<x;++_)(v=m[_])&&ge(v,t,n,_,m,y);o.push(m),c.push(l)}return new Ne(o,c,t,n)},filter:function(t){"function"!=typeof t&&(t=C(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var c,f=n[o],l=f.length,h=r[o]=[],i=0;i<l;++i)(c=f[i])&&t.call(c,c.__data__,i,f)&&h.push(c);return new Ne(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,c=Math.min(r,o),f=new Array(r),l=0;l<c;++l)for(var h,d=n[l],v=e[l],m=d.length,y=f[l]=new Array(m),i=0;i<m;++i)(h=d[i]||v[i])&&(y[i]=h);for(;l<r;++l)f[l]=n[l];return new Ne(f,this._parents,this._name,this._id)},selection:function(){return new we(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ke(),r=this._groups,o=r.length,c=0;c<o;++c)for(var f,l=r[c],h=l.length,i=0;i<h;++i)if(f=l[i]){var d=ye(f,n);ge(f,t,e,i,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ne(r,this._parents,t,e)},call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:function(t,n){var e=this._id;return arguments.length<2?ye(this.node(),e).on.on(t):this.each(function(t,n,e){var r,o,c=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t})}(n)?ve:me;return function(){var f=c(this,t),l=f.on;l!==r&&(o=(r=l).copy()).on(n,e),f.on=o}}(e,t,n))},attr:function(t,n){var e=M(t),i="transform"===e?Un:xe;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,o,c;return function(){var f,l,h=e(this);if(null!=h)return(f=this.getAttributeNS(t.space,t.local))===(l=h+"")?null:f===r&&l===o?c:(o=l,c=n(r=f,h));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,o,c;return function(){var f,l,h=e(this);if(null!=h)return(f=this.getAttribute(t))===(l=h+"")?null:f===r&&l===o?c:(o=l,c=n(r=f,h));this.removeAttribute(t)}})(e,i,_e(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,o,c=e+"";return function(){var f=this.getAttributeNS(t.space,t.local);return f===c?null:f===r?o:o=n(r=f,e)}}:function(t,n,e){var r,o,c=e+"";return function(){var f=this.getAttribute(t);return f===c?null:f===r?o:o=n(r=f,e)}})(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=M(t);return this.tween(e,(r.local?function(t,n){var e,r;function o(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,i){return function(n){this.setAttributeNS(t.space,t.local,i(n))}}(t,i)),e}return o._value=n,o}:function(t,n){var e,r;function o(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,i){return function(n){this.setAttribute(t,i(n))}}(t,i)),e}return o._value=n,o})(r,n))},style:function(t,n,e){var i="transform"==(t+="")?Fn:xe;return null==n?this.styleTween(t,function(t,n){var e,r,o;return function(){var c=z(this,t),f=(this.style.removeProperty(t),z(this,t));return c===f?null:c===e&&f===r?o:o=n(e=c,r=f)}}(t,i)).on("end.style."+t,Me(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,o,c;return function(){var f=z(this,t),l=e(this),h=l+"";return null==l&&(this.style.removeProperty(t),h=l=z(this,t)),f===h?null:f===r&&h===o?c:(o=h,c=n(r=f,l))}}(t,i,_e(this,"style."+t,n))).each(function(t,n){var e,r,o,c,f="style."+n,l="end."+f;return function(){var h=me(this,t),d=h.on,v=null==h.value[f]?c||(c=Me(n)):void 0;d===e&&o===v||(r=(e=d).copy()).on(l,o=v),h.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,o,c=e+"";return function(){var f=z(this,t);return f===c?null:f===r?o:o=n(r=f,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,o;function c(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,i,n){return function(e){this.style.setProperty(t,i(e),n)}}(t,i,e)),r}return c._value=n,c}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(_e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=ye(this.node(),e).tween,i=0,c=o.length;i<c;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var o=me(this,t),c=o.tween;if(c!==e)for(var i=0,f=(r=e=c).length;i<f;++i)if(r[i].name===n){(r=r.slice()).splice(i,1);break}o.tween=r}}:function(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var c=me(this,t),f=c.tween;if(f!==r){o=(r=f).slice();for(var l={name:n,value:e},i=0,h=o.length;i<h;++i)if(o[i].name===n){o[i]=l;break}i===h&&o.push(l)}c.tween=o}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ve(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ve(this,t).delay=n}})(n,t)):ye(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){me(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){me(this,t).duration=n}})(n,t)):ye(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){me(this,t).ease=n}}(n,t)):ye(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,o=e.size();return new Promise(function(c,f){var l={value:f},h={value:function(){0==--o&&c()}};e.each(function(){var e=me(this,r),o=e.on;o!==t&&((n=(t=o).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(h)),e.on=n})})}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(s){function n(t){return t*t*((s+1)*t-s)}return s=+s,n.overshoot=t,n})(1.70158),function t(s){function n(t){return--t*t*((s+1)*t+s)+1}return s=+s,n.overshoot=t,n}(1.70158),function t(s){function n(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,n.overshoot=t,n}(1.70158);var Te=2*Math.PI,Ce=(function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=Te);function n(t){return a*Math.pow(2,10*--t)*Math.sin((s-t)/p)}return n.amplitude=function(a){return t(a,p*Te)},n.period=function(p){return t(a,p)},n}(1,.3),function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=Te);function n(t){return 1-a*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/p)}return n.amplitude=function(a){return t(a,p*Te)},n.period=function(p){return t(a,p)},n}(1,.3),function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=Te);function n(t){return((t=2*t-1)<0?a*Math.pow(2,10*t)*Math.sin((s-t)/p):2-a*Math.pow(2,-10*t)*Math.sin((s+t)/p))/2}return n.amplitude=function(a){return t(a,p*Te)},n.period=function(p){return t(a,p)},n}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Ae(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ce.time=Jn(),Ce;return e}st.prototype.interrupt=function(t){return this.each(function(){be(this,t)})},st.prototype.transition=function(t){var n,e;t instanceof Ne?(n=t._id,t=t._name):(n=ke(),(e=Ce).time=Jn(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,c=0;c<o;++c)for(var f,l=r[c],h=l.length,i=0;i<h;++i)(f=l[i])&&ge(f,t,n,i,l,e||Ae(f,n));return new Ne(r,this._parents,t,n)};["e","w"].map(Ee),["n","s"].map(Ee),["n","e","s","w","nw","ne","se","sw"].map(Ee);function Ee(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Le=Math.PI,Pe=2*Le,Re=Pe-1e-6;function Fe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ue(){return new Fe}Fe.prototype=Ue.prototype={constructor:Fe,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,o,c){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+c)},arcTo:function(t,n,e,r,o){t=+t,n=+n,e=+e,r=+r,o=+o;var c=this._x1,f=this._y1,l=e-t,h=r-n,d=c-t,v=f-n,m=d*d+v*v;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(m>1e-6)if(Math.abs(v*l-h*d)>1e-6&&o){var y=e-c,_=r-f,x=l*l+h*h,w=y*y+_*_,M=Math.sqrt(x),D=Math.sqrt(m),N=o*Math.tan((Le-Math.acos((x+m-w)/(2*M*D)))/2),k=N/D,S=N/M;Math.abs(k-1)>1e-6&&(this._+="L"+(t+k*d)+","+(n+k*v)),this._+="A"+o+","+o+",0,0,"+ +(v*y>d*_)+","+(this._x1=t+S*l)+","+(this._y1=n+S*h)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,o,c){t=+t,n=+n;var f=(e=+e)*Math.cos(r),l=e*Math.sin(r),h=t+f,d=n+l,v=1^c,m=c?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+h+","+d),e&&(m<0&&(m=m%Pe+Pe),m>Re?this._+="A"+e+","+e+",0,1,"+v+","+(t-f)+","+(n-l)+"A"+e+","+e+",0,1,"+v+","+(this._x1=h)+","+(this._y1=d):m>1e-6&&(this._+="A"+e+","+e+",0,"+ +(m>=Le)+","+v+","+(this._x1=t+e*Math.cos(o))+","+(this._y1=n+e*Math.sin(o))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function ze(){}function Ie(object,t){var map=new ze;if(object instanceof ze)object.each(function(t,n){map.set(n,t)});else if(Array.isArray(object)){var n,i=-1,e=object.length;if(null==t)for(;++i<e;)map.set(i,object[i]);else for(;++i<e;)map.set(t(n=object[i],i,object),n)}else if(object)for(var r in object)map.set(r,object[r]);return map}ze.prototype=Ie.prototype={constructor:ze,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Ye=Ie;function qe(){}var He=Ye.prototype;function Oe(object,t){var n=new qe;if(object instanceof qe)object.each(function(t){n.add(t)});else if(object){var i=-1,e=object.length;if(null==t)for(;++i<e;)n.add(object[i]);else for(;++i<e;)n.add(t(object[i],i,object))}return n}qe.prototype=Oe.prototype={constructor:qe,has:He.has,add:function(t){return this["$"+(t+="")]=t,this},remove:He.remove,clear:He.clear,values:He.keys,size:He.size,empty:He.empty,each:He.each};Array.prototype.slice;var je={},Ve={},We=34,Ze=10,Xe=13;function Ge(t){return new Function("d","return {"+t.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function Be(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function $e(t,n){var s=t+"",e=s.length;return e<n?new Array(n-e+1).join(0)+s:s}function Ke(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),c=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+$e(-n,6):n>9999?"+"+$e(n,6):$e(n,4))+"-"+$e(t.getUTCMonth()+1,2)+"-"+$e(t.getUTCDate(),2)+(c?"T"+$e(e,2)+":"+$e(r,2)+":"+$e(o,2)+"."+$e(c,3)+"Z":o?"T"+$e(e,2)+":"+$e(r,2)+":"+$e(o,2)+"Z":r||e?"T"+$e(e,2)+":"+$e(r,2)+"Z":"")}var Je=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(text,t){var n,r=[],o=text.length,c=0,f=0,l=o<=0,h=!1;function d(){if(l)return Ve;if(h)return h=!1,je;var i,t,n=c;if(text.charCodeAt(n)===We){for(;c++<o&&text.charCodeAt(c)!==We||text.charCodeAt(++c)===We;);return(i=c)>=o?l=!0:(t=text.charCodeAt(c++))===Ze?h=!0:t===Xe&&(h=!0,text.charCodeAt(c)===Ze&&++c),text.slice(n+1,i-1).replace(/""/g,'"')}for(;c<o;){if((t=text.charCodeAt(i=c++))===Ze)h=!0;else if(t===Xe)h=!0,text.charCodeAt(c)===Ze&&++c;else if(t!==e)continue;return text.slice(n,i)}return l=!0,text.slice(n,o)}for(text.charCodeAt(o-1)===Ze&&--o,text.charCodeAt(o-1)===Xe&&--o;(n=d())!==Ve;){for(var v=[];n!==je&&n!==Ve;)v.push(n),n=d();t&&null==(v=t(v,f++))||r.push(v)}return r}function o(n,e){return n.map(function(n){return e.map(function(t){return f(n[t])}).join(t)})}function c(n){return n.map(f).join(t)}function f(t){return null==t?"":t instanceof Date?Ke(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(text,t){var n,e,o=r(text,function(r,i){if(n)return n(r,i-1);e=r,n=t?function(t,n){var object=Ge(t);return function(e,i){return n(object(e),i,t)}}(r,t):Ge(r)});return o.columns=e||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Be(n)),[e.map(f).join(t)].concat(o(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Be(t)),o(t,n).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}},Qe=Je(","),nr=Qe.parse,er=(Qe.parseRows,Qe.format,Qe.formatBody,Qe.formatRows,Je("\t")),rr=er.parse;er.parseRows,er.format,er.formatBody,er.formatRows;function ir(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ar=function(input,t){return fetch(input,t).then(ir)};function or(t){return function(input,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),ar(input,n).then(function(n){return t(n,e)})}}or(nr),or(rr);function ur(t){return function(input,n){return ar(input,n).then(function(text){return(new DOMParser).parseFromString(text,t)})}}ur("application/xml"),ur("text/html"),ur("image/svg+xml");function cr(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var o,c,f,l,h,d,v,i,m,y=t._root,_={data:r},x=t._x0,w=t._y0,M=t._x1,D=t._y1;if(!y)return t._root=_,t;for(;y.length;)if((d=n>=(c=(x+M)/2))?x=c:M=c,(v=e>=(f=(w+D)/2))?w=f:D=f,o=y,!(y=y[i=v<<1|d]))return o[i]=_,t;if(l=+t._x.call(null,y.data),h=+t._y.call(null,y.data),n===l&&e===h)return _.next=y,o?o[i]=_:t._root=_,t;do{o=o?o[i]=new Array(4):t._root=new Array(4),(d=n>=(c=(x+M)/2))?x=c:M=c,(v=e>=(f=(w+D)/2))?w=f:D=f}while((i=v<<1|d)==(m=(h>=f)<<1|l>=c));return o[m]=y,o[i]=_,t}var sr=function(t,n,e,r,o){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=o};function fr(t){return t[0]}function lr(t){return t[1]}function dr(t,n,e){var r=new pr(null==n?fr:n,null==e?lr:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function pr(t,n,e,r,o,c){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=o,this._y1=c,this._root=void 0}function gr(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var vr=dr.prototype=pr.prototype;vr.copy=function(){var t,n,e=new pr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=gr(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=gr(n));return e},vr.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return cr(this.cover(n,e),n,e,t)},vr.addAll=function(data){var t,i,n,e,r=data.length,o=new Array(r),c=new Array(r),f=1/0,l=1/0,h=-1/0,d=-1/0;for(i=0;i<r;++i)isNaN(n=+this._x.call(null,t=data[i]))||isNaN(e=+this._y.call(null,t))||(o[i]=n,c[i]=e,n<f&&(f=n),n>h&&(h=n),e<l&&(l=e),e>d&&(d=e));if(f>h||l>d)return this;for(this.cover(f,l).cover(h,d),i=0;i<r;++i)cr(this,o[i],c[i],data[i]);return this},vr.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,o=this._x1,c=this._y1;if(isNaN(e))o=(e=Math.floor(t))+1,c=(r=Math.floor(n))+1;else{for(var f,i,l=o-e,h=this._root;e>t||t>=o||r>n||n>=c;)switch(i=(n<r)<<1|t<e,(f=new Array(4))[i]=h,h=f,l*=2,i){case 0:o=e+l,c=r+l;break;case 1:e=o-l,c=r+l;break;case 2:o=e+l,r=c-l;break;case 3:e=o-l,r=c-l}this._root&&this._root.length&&(this._root=h)}return this._x0=e,this._y0=r,this._x1=o,this._y1=c,this},vr.data=function(){var data=[];return this.visit(function(t){if(!t.length)do{data.push(t.data)}while(t=t.next)}),data},vr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},vr.find=function(t,n,e){var data,r,o,c,f,q,i,l=this._x0,h=this._y0,d=this._x1,v=this._y1,m=[],y=this._root;for(y&&m.push(new sr(y,l,h,d,v)),null==e?e=1/0:(l=t-e,h=n-e,d=t+e,v=n+e,e*=e);q=m.pop();)if(!(!(y=q.node)||(r=q.x0)>d||(o=q.y0)>v||(c=q.x1)<l||(f=q.y1)<h))if(y.length){var _=(r+c)/2,x=(o+f)/2;m.push(new sr(y[3],_,x,c,f),new sr(y[2],r,x,_,f),new sr(y[1],_,o,c,x),new sr(y[0],r,o,_,x)),(i=(n>=x)<<1|t>=_)&&(q=m[m.length-1],m[m.length-1]=m[m.length-1-i],m[m.length-1-i]=q)}else{var w=t-+this._x.call(null,y.data),M=n-+this._y.call(null,y.data),D=w*w+M*M;if(D<e){var N=Math.sqrt(e=D);l=t-N,h=n-N,d=t+N,v=n+N,data=y.data}}return data},vr.remove=function(t){if(isNaN(c=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var n,e,r,o,c,f,l,h,d,v,i,m,y=this._root,_=this._x0,x=this._y0,w=this._x1,M=this._y1;if(!y)return this;if(y.length)for(;;){if((d=c>=(l=(_+w)/2))?_=l:w=l,(v=f>=(h=(x+M)/2))?x=h:M=h,n=y,!(y=y[i=v<<1|d]))return this;if(!y.length)break;(n[i+1&3]||n[i+2&3]||n[i+3&3])&&(e=n,m=i)}for(;y.data!==t;)if(r=y,!(y=y.next))return this;return(o=y.next)&&delete y.next,r?(o?r.next=o:delete r.next,this):n?(o?n[i]=o:delete n[i],(y=n[0]||n[1]||n[2]||n[3])&&y===(n[3]||n[2]||n[1]||n[0])&&!y.length&&(e?e[m]=y:this._root=y),this):(this._root=o,this)},vr.removeAll=function(data){for(var i=0,t=data.length;i<t;++i)this.remove(data[i]);return this},vr.root=function(){return this._root},vr.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},vr.visit=function(t){var q,n,e,r,o,c,f=[],l=this._root;for(l&&f.push(new sr(l,this._x0,this._y0,this._x1,this._y1));q=f.pop();)if(!t(l=q.node,e=q.x0,r=q.y0,o=q.x1,c=q.y1)&&l.length){var h=(e+o)/2,d=(r+c)/2;(n=l[3])&&f.push(new sr(n,h,d,o,c)),(n=l[2])&&f.push(new sr(n,e,d,h,c)),(n=l[1])&&f.push(new sr(n,h,r,o,d)),(n=l[0])&&f.push(new sr(n,e,r,h,d))}return this},vr.visitAfter=function(t){var q,n=[],e=[];for(this._root&&n.push(new sr(this._root,this._x0,this._y0,this._x1,this._y1));q=n.pop();){var r=q.node;if(r.length){var o,c=q.x0,f=q.y0,l=q.x1,h=q.y1,d=(c+l)/2,v=(f+h)/2;(o=r[0])&&n.push(new sr(o,c,f,d,v)),(o=r[1])&&n.push(new sr(o,d,f,l,v)),(o=r[2])&&n.push(new sr(o,c,v,d,h)),(o=r[3])&&n.push(new sr(o,d,v,l,h))}e.push(q)}for(;q=e.pop();)t(q.node,q.x0,q.y0,q.x1,q.y1);return this},vr.x=function(t){return arguments.length?(this._x=t,this):this._x},vr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var mr=function(t,p){if((i=(t=p?t.toExponential(p-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]},yr=function(t){return(t=mr(Math.abs(t)))?t[1]:NaN},_r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(t){return new wr(t)}function wr(t){if(!(n=_r.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}xr.prototype=wr.prototype,wr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Mr,Dr,Nr=function(s){t:for(var t,n=s.length,i=1,e=-1;i<n;++i)switch(s[i]){case".":e=t=i;break;case"0":0===e&&(e=i),t=i;break;default:if(e>0){if(!+s[i])break t;e=0}}return e>0?s.slice(0,e)+s.slice(t+1):s},kr=function(t,p){var n=mr(t,p);if(!n)return t+"";var e=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+e:e.length>r+1?e.slice(0,r+1)+"."+e.slice(r+1):e+new Array(r-e.length+2).join("0")},Sr={"%":function(t,p){return(100*t).toFixed(p)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,p){return t.toExponential(p)},f:function(t,p){return t.toFixed(p)},g:function(t,p){return t.toPrecision(p)},o:function(t){return Math.round(t).toString(8)},p:function(t,p){return kr(100*t,p)},r:kr,s:function(t,p){var n=mr(t,p);if(!n)return t+"";var e=n[0],r=n[1],i=r-(Mr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=e.length;return i===o?e:i>o?e+new Array(i-o+1).join("0"):i>0?e.slice(0,i)+"."+e.slice(i):"0."+new Array(1-i).join("0")+mr(t,Math.max(0,p+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Tr=function(t){return t},Cr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Dr=function(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],c=0,g=n[0],f=0;i>0&&g>0&&(f+g+1>r&&(g=Math.max(1,r-f)),o.push(t.substring(i-=g,i+g)),!((f+=g+1)>r));)g=n[c=(c+1)%n.length];return o.reverse().join(e)}):Tr,o=t.currency,c=t.decimal,f=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(i){return t[+i]})}}(t.numerals):Tr,l=t.percent||"%";function h(t){var n=(t=xr(t)).fill,e=t.align,h=t.sign,symbol=t.symbol,d=t.zero,v=t.width,m=t.comma,y=t.precision,_=t.trim,x=t.type;"n"===x?(m=!0,x="g"):Sr[x]||(null==y&&(y=12),_=!0,x="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var w="$"===symbol?o[0]:"#"===symbol&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",M="$"===symbol?o[1]:/[%p]/.test(x)?l:"",D=Sr[x],N=/[defgprs%]/.test(x);function k(t){var i,o,l,k=w,S=M;if("c"===x)S=D(t)+S,t="";else{var T=(t=+t)<0;if(t=D(Math.abs(t),y),_&&(t=Nr(t)),T&&0==+t&&(T=!1),k=(T?"("===h?h:"-":"-"===h||"("===h?"":h)+k,S=("s"===x?Cr[8+Mr/3]:"")+S+(T&&"("===h?")":""),N)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){S=(46===l?c+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var C=k.length+t.length+S.length,A=C<v?new Array(v-C+1).join(n):"";switch(m&&d&&(t=r(A+t,A.length?v-S.length:1/0),A=""),e){case"<":t=k+t+S+A;break;case"=":t=k+A+t+S;break;case"^":t=A.slice(0,C=A.length>>1)+k+t+S+A.slice(C);break;default:t=A+k+t+S}return f(t)}return y=null==y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,n){var e=h(((t=xr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(yr(n)/3))),o=Math.pow(10,-r),c=Cr[8+r/3];return function(t){return e(o*t)+c}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Dr.format,Dr.formatPrefix;var Ar=function(){return new Er};function Er(){this.reset()}Er.prototype={constructor:Er,reset:function(){this.s=this.t=0},add:function(t){Pr(Lr,t,this.t),Pr(this,Lr.s,this.s),this.s?this.t+=Lr.t:this.s=Lr.t},valueOf:function(){return this.s}};var Lr=new Er;function Pr(t,a,b){var n=t.s=a+b,e=n-a,r=n-e;t.t=a-r+(b-e)}var Rr=1e-6,Fr=Math.PI,Ur=Fr/2,zr=Fr/4,Ir=2*Fr,Yr=Fr/180,qr=Math.abs,Hr=Math.atan,Or=Math.atan2,jr=Math.cos,Vr=(Math.ceil,Math.exp),Wr=(Math.floor,Math.log),Zr=(Math.pow,Math.sin),Xr=(Math.sign,Math.sqrt),Gr=Math.tan;function Br(t){return t>1?0:t<-1?Fr:Math.acos(t)}function $r(t){return t>1?Ur:t<-1?-Ur:Math.asin(t)}function Kr(){}Ar(),Ar();function Jr(t){var n=t[0],e=t[1],r=jr(e);return[r*jr(n),r*Zr(n),Zr(e)]}function Qr(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function ti(t){var n=Xr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}Ar();function ni(t,n){return[qr(t)>Fr?t+Math.round(-t/Ir)*Ir:t,n]}ni.invert=ni;var ei=function(){var line,t=[];return{point:function(t,n){line.push([t,n])},lineStart:function(){t.push(line=[])},lineEnd:Kr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],line=null,n}}},ri=function(a,b){return qr(a[0]-b[0])<Rr&&qr(a[1]-b[1])<Rr};function ii(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var ai=function(t,n,e,r,o){var i,c,f=[],l=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],c=t[n];if(ri(r,c)){for(o.lineStart(),i=0;i<n;++i)o.point((r=t[i])[0],r[1]);o.lineEnd()}else f.push(e=new ii(r,t,null,!0)),l.push(e.o=new ii(r,null,e,!1)),f.push(e=new ii(c,t,null,!1)),l.push(e.o=new ii(c,null,e,!0))}}),f.length){for(l.sort(n),oi(f),oi(l),i=0,c=l.length;i<c;++i)l[i].e=e=!e;for(var h,d,v=f[0];;){for(var m=v,y=!0;m.v;)if((m=m.n)===v)return;h=m.z,o.lineStart();do{if(m.v=m.o.v=!0,m.e){if(y)for(i=0,c=h.length;i<c;++i)o.point((d=h[i])[0],d[1]);else r(m.x,m.n.x,1,o);m=m.n}else{if(y)for(h=m.p.z,i=h.length-1;i>=0;--i)o.point((d=h[i])[0],d[1]);else r(m.x,m.p.x,-1,o);m=m.p}h=(m=m.o).z,y=!y}while(!m.v);o.lineEnd()}}};function oi(t){if(n=t.length){for(var n,b,i=0,a=t[0];++i<n;)a.n=b=t[i],b.p=a,a=b;a.n=b=t[0],b.p=a}}var ui=Ar(),ci=function(polygon,t){var n=t[0],e=t[1],r=Zr(e),o=[Zr(n),-jr(n),0],c=0,f=0;ui.reset(),1===r?e=Ur+Rr:-1===r&&(e=-Ur-Rr);for(var i=0,l=polygon.length;i<l;++i)if(d=(h=polygon[i]).length)for(var h,d,v=h[d-1],m=v[0],y=v[1]/2+zr,_=Zr(y),x=jr(y),w=0;w<d;++w,m=D,_=k,x=S,v=M){var M=h[w],D=M[0],N=M[1]/2+zr,k=Zr(N),S=jr(N),T=D-m,C=T>=0?1:-1,A=C*T,E=A>Fr,L=_*k;if(ui.add(Or(L*C*Zr(A),x*S+L*jr(A))),c+=E?T+C*Ir:T,E^m>=n^D>=n){var P=Qr(Jr(v),Jr(M));ti(P);var R=Qr(o,P);ti(R);var F=(E^T>=0?-1:1)*$r(R[2]);(e>F||e===F&&(P[0]||P[1]))&&(f+=E^T>=0?1:-1)}}return(c<-Rr||c<Rr&&ui<-Rr)^1&f},si=function(t,n,e,r){return function(o){var polygon,c,f,line=n(o),h=ei(),d=n(h),v=!1,m={point:y,lineStart:x,lineEnd:w,polygonStart:function(){m.point=M,m.lineStart=D,m.lineEnd=N,c=[],polygon=[]},polygonEnd:function(){m.point=y,m.lineStart=x,m.lineEnd=w,c=l(c);var t=ci(polygon,r);c.length?(v||(o.polygonStart(),v=!0),ai(c,hi,t,e,o)):t&&(v||(o.polygonStart(),v=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),v&&(o.polygonEnd(),v=!1),c=polygon=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function y(n,e){t(n,e)&&o.point(n,e)}function _(t,n){line.point(t,n)}function x(){m.point=_,line.lineStart()}function w(){m.point=y,line.lineEnd()}function M(t,n){f.push([t,n]),d.point(t,n)}function D(){d.lineStart(),f=[]}function N(){M(f[0][0],f[0][1]),d.lineEnd();var i,t,n,e,r=d.clean(),l=h.result(),m=l.length;if(f.pop(),polygon.push(f),f=null,m)if(1&r){if((t=(n=l[0]).length-1)>0){for(v||(o.polygonStart(),v=!0),o.lineStart(),i=0;i<t;++i)o.point((e=n[i])[0],e[1]);o.lineEnd()}}else m>1&&2&r&&l.push(l.pop().concat(l.shift())),c.push(l.filter(fi))}return m}};function fi(t){return t.length>1}function hi(a,b){return((a=a.x)[0]<0?a[1]-Ur-Rr:Ur-a[1])-((b=b.x)[0]<0?b[1]-Ur-Rr:Ur-b[1])}si(function(){return!0},function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(c,f){var l=c>0?Fr:-Fr,h=qr(c-e);qr(h-Fr)<Rr?(t.point(e,r=(r+f)/2>0?Ur:-Ur),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(c,r),n=0):o!==l&&h>=Fr&&(qr(e-o)<Rr&&(e-=o*Rr),qr(c-l)<Rr&&(c-=l*Rr),r=function(t,n,e,r){var o,c,f=Zr(t-e);return qr(f)>Rr?Hr((Zr(n)*(c=jr(r))*Zr(e)-Zr(r)*(o=jr(n))*Zr(t))/(o*c*f)):(n+r)/2}(e,r,c,f),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),n=0),t.point(e=c,r=f),o=l},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var o;if(null==t)o=e*Ur,r.point(-Fr,o),r.point(0,o),r.point(Fr,o),r.point(Fr,0),r.point(Fr,-o),r.point(0,-o),r.point(-Fr,-o),r.point(-Fr,0),r.point(-Fr,o);else if(qr(t[0]-n[0])>Rr){var c=t[0]<n[0]?Fr:-Fr;o=e*c/2,r.point(-c,o),r.point(0,o),r.point(c,o)}else r.point(n[0],n[1])},[-Fr,-Ur]);Ar();Ar(),Ar();function di(t){this._context=t}di.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ir)}},result:Kr};Ar();function pi(){this._string=[]}function gi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}pi.prototype={_radius:4.5,_circle:gi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=gi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function vi(t){return function(n){var s=new mi;for(var e in t)s[e]=t[e];return s.stream=n,s}}function mi(){}mi.prototype={constructor:mi,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};jr(30*Yr);vi({point:function(t,n){this.stream.point(t*Yr,n*Yr)}});function yi(t){return function(n,e){var r=jr(n),o=jr(e),c=t(r*o);return[c*o*Zr(n),c*Zr(e)]}}function bi(t){return function(n,e){var r=Xr(n*n+e*e),o=t(r),c=Zr(o),f=jr(o);return[Or(n*c,r*f),$r(r&&e*c/r)]}}var _i=yi(function(t){return Xr(2/(1+t))});_i.invert=bi(function(t){return 2*$r(t/2)});var xi=yi(function(t){return(t=Br(t))&&t/Zr(t)});xi.invert=bi(function(t){return t});function wi(t,n){return[t,Wr(Gr((Ur+n)/2))]}wi.invert=function(t,n){return[t,2*Hr(Vr(n))-Ur]};function Mi(t,n){return[t,n]}Mi.invert=Mi;var Di=1.340264,Ni=-.081106,ki=893e-6,Si=.003796,Ti=Xr(3)/2;function Ci(t,n){var e=$r(Ti*Zr(n)),r=e*e,o=r*r*r;return[t*jr(e)/(Ti*(Di+3*Ni*r+o*(7*ki+9*Si*r))),e*(Di+Ni*r+o*(ki+Si*r))]}Ci.invert=function(t,n){for(var e,r=n,o=r*r,c=o*o*o,i=0;i<12&&(c=(o=(r-=e=(r*(Di+Ni*o+c*(ki+Si*o))-n)/(Di+3*Ni*o+c*(7*ki+9*Si*o)))*r)*o*o,!(qr(e)<1e-12));++i);return[Ti*t*(Di+3*Ni*o+c*(7*ki+9*Si*o))/jr(r),$r(Zr(r)/Ti)]};function Ai(t,n){var e=jr(n),r=jr(t)*e;return[e*Zr(t)/r,Zr(n)/r]}Ai.invert=bi(Hr);function Ei(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Ei.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,c=o*o;r-=e=(r*(1.007226+o*(.015085+c*(.028874*o-.044475-.005916*c)))-n)/(1.007226+o*(.045255+c*(.259866*o-.311325-.005916*11*c)))}while(qr(e)>Rr&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function Li(t,n){return[jr(n)*Zr(t),Zr(n)]}Li.invert=bi($r);function Pi(t,n){var e=jr(n),r=1+jr(t)*e;return[e*Zr(t)/r,Zr(n)/r]}Pi.invert=bi(function(t){return 2*Hr(t)});function Ri(t,n){return[Wr(Gr((Ur+n)/2)),-t]}Ri.invert=function(t,n){return[-n,2*Hr(Vr(t))-Ur]};function Fi(t){var n=0,e=t.children,i=e&&e.length;if(i)for(;--i>=0;)n+=e[i].value;else n=1;t.value=n}function Ui(data,t){var n,e,r,i,o,c=new qi(data),f=+data.value&&(c.value=data.value),l=[c];for(null==t&&(t=zi);n=l.pop();)if(f&&(n.value=+n.data.value),(r=t(n.data))&&(o=r.length))for(n.children=new Array(o),i=o-1;i>=0;--i)l.push(e=n.children[i]=new qi(r[i])),e.parent=n,e.depth=n.depth+1;return c.eachBefore(Yi)}function zi(t){return t.children}function Ii(t){t.data=t.data.data}function Yi(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function qi(data){this.data=data,this.depth=this.height=0,this.parent=null}qi.prototype=Ui.prototype={constructor:qi,count:function(){return this.eachAfter(Fi)},each:function(t){var n,e,i,r,o=this,c=[o];do{for(n=c.reverse(),c=[];o=n.pop();)if(t(o),e=o.children)for(i=0,r=e.length;i<r;++i)c.push(e[i])}while(c.length);return this},eachAfter:function(t){for(var n,i,e,r=this,o=[r],c=[];r=o.pop();)if(c.push(r),n=r.children)for(i=0,e=n.length;i<e;++i)o.push(n[i]);for(;r=c.pop();)t(r);return this},eachBefore:function(t){for(var n,i,e=this,r=[e];e=r.pop();)if(t(e),n=e.children)for(i=n.length-1;i>=0;--i)r.push(n[i]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(a,b){if(a===b)return a;var t=a.ancestors(),n=b.ancestors(),e=null;for(a=t.pop(),b=n.pop();a===b;)e=a,a=t.pop(),b=n.pop();return e}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var o=r.length;t!==e;)r.splice(o,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Ui(this).eachBefore(Ii)}};Array.prototype.slice;var Hi=function(t,n,e,r,o){for(var c,f=t.children,i=-1,l=f.length,h=t.value&&(r-n)/t.value;++i<l;)(c=f[i]).y0=e,c.y1=o,c.x0=n,c.x1=n+=c.value*h};function Oi(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}Oi.prototype=Object.create(qi.prototype);var ji=function(t,n,e,r,o){for(var c,f=t.children,i=-1,l=f.length,h=t.value&&(o-e)/t.value;++i<l;)(c=f[i]).x0=n,c.x1=r,c.y0=e,c.y1=e+=c.value*h},Vi=(1+Math.sqrt(5))/2;function Wi(t,n,e,r,o,c){for(var f,l,h,d,v,m,y,_,x,w,M,D=[],N=n.children,k=0,S=0,T=N.length,C=n.value;k<T;){h=o-e,d=c-r;do{v=N[S++].value}while(!v&&S<T);for(m=y=v,M=v*v*(w=Math.max(d/h,h/d)/(C*t)),x=Math.max(y/M,M/m);S<T;++S){if(v+=l=N[S].value,l<m&&(m=l),l>y&&(y=l),M=v*v*w,(_=Math.max(y/M,M/m))>x){v-=l;break}x=_}D.push(f={value:v,dice:h<d,children:N.slice(k,S)}),f.dice?Hi(f,e,r,o,C?r+=d*v/C:c):ji(f,e,r,C?e+=h*v/C:o,c),C-=v,k=S}return D}(function t(n){function e(t,e,r,o,c){Wi(n,t,e,r,o,c)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e})(Vi),function t(n){function e(t,e,r,o,c){if((f=t._squarify)&&f.ratio===n)for(var f,l,h,i,d,v=-1,m=f.length,y=t.value;++v<m;){for(h=(l=f[v]).children,i=l.value=0,d=h.length;i<d;++i)l.value+=h[i].value;l.dice?Hi(l,e,r,o,r+=(c-r)*l.value/y):ji(l,e,r,e+=(o-e)*l.value/y,c),y-=l.value}else t._squarify=f=Wi(n,t,e,r,o,c),f.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Vi);var Zi=function(){return Math.random()},Xi=(function t(source){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return source()*n+t}}return n.source=t,n}(Zi),function t(source){function n(t,n){var e,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=e)o=e,e=null;else do{e=2*source()-1,o=2*source()-1,r=e*e+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(Zi)),Gi=(function t(source){function n(){var t=Xi.source(source).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Zi),function t(source){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=source();return n}}return n.source=t,n}(Zi));(function t(source){function n(t){var n=Gi.source(source)(t);return function(){return n()/t}}return n.source=t,n})(Zi),function t(source){function n(t){return function(){return-Math.log(1-source())/t}}return n.source=t,n}(Zi);var Bi=Array.prototype;Bi.map,Bi.slice;var $i=new Date,Ki=new Date;function Ji(t,n,e,r){function o(n){return t(n=new Date(+n)),n}return o.floor=o,o.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},o.round=function(t){var n=o(t),e=o.ceil(t);return t-n<e-t?n:e},o.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},o.range=function(e,r,c){var f,l=[];if(e=o.ceil(e),c=null==c?1:Math.floor(c),!(e<r&&c>0))return l;do{l.push(f=new Date(+e)),n(e,c),t(e)}while(f<e&&e<r);return l},o.filter=function(e){return Ji(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(o.count=function(n,r){return $i.setTime(+n),Ki.setTime(+r),t($i),t(Ki),Math.floor(e($i,Ki))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(n){return r(n)%t==0}:function(n){return o.count(0,n)%t==0}):o:null}),o}var Qi=Ji(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Qi.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ji(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Qi:null};Qi.range;var ta=6e4,na=6048e5,ea=Ji(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),ra=(ea.range,Ji(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+n*ta)},function(t,n){return(n-t)/ta},function(t){return t.getMinutes()})),ia=(ra.range,Ji(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ta)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()})),aa=(ia.range,Ji(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ta)/864e5},function(t){return t.getDate()-1})),oa=aa;aa.range;function ua(i){return Ji(function(t){t.setDate(t.getDate()-(t.getDay()+7-i)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ta)/na})}var ca=ua(0),sa=ua(1),fa=ua(2),la=ua(3),ha=ua(4),da=ua(5),pa=ua(6),ga=(ca.range,sa.range,fa.range,la.range,ha.range,da.range,pa.range,Ji(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),va=(ga.range,Ji(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));va.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ji(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var ma=va,ya=(va.range,Ji(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*ta)},function(t,n){return(n-t)/ta},function(t){return t.getUTCMinutes()})),ba=(ya.range,Ji(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()})),_a=(ba.range,Ji(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1})),xa=_a;_a.range;function wa(i){return Ji(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-i)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/na})}var Ma=wa(0),Da=wa(1),Na=wa(2),ka=wa(3),Sa=wa(4),Ta=wa(5),Ca=wa(6),Aa=(Ma.range,Da.range,Na.range,ka.range,Sa.range,Ta.range,Ca.range,Ji(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Ea=(Aa.range,Ji(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Ea.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ji(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var La=Ea;Ea.range;function Pa(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ra(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fa(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Ua,za,Ia,Ya={"-":"",_:" ",0:"0"},qa=/^\s*\d+/,Ha=/^%/,Oa=/[\\^$*+?|[\]().{}]/g;function ja(t,n,e){var r=t<0?"-":"",o=(r?-t:t)+"",c=o.length;return r+(c<e?new Array(e-c+1).join(n)+o:o)}function Va(s){return s.replace(Oa,"\\$&")}function Wa(t){return new RegExp("^(?:"+t.map(Va).join("|")+")","i")}function Za(t){for(var map={},i=-1,n=t.length;++i<n;)map[t[i].toLowerCase()]=i;return map}function Xa(t,n,i){var e=qa.exec(n.slice(i,i+1));return e?(t.w=+e[0],i+e[0].length):-1}function Ga(t,n,i){var e=qa.exec(n.slice(i,i+1));return e?(t.u=+e[0],i+e[0].length):-1}function Ba(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.U=+e[0],i+e[0].length):-1}function $a(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.V=+e[0],i+e[0].length):-1}function Ka(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.W=+e[0],i+e[0].length):-1}function Ja(t,n,i){var e=qa.exec(n.slice(i,i+4));return e?(t.y=+e[0],i+e[0].length):-1}function Qa(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.y=+e[0]+(+e[0]>68?1900:2e3),i+e[0].length):-1}function to(t,n,i){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(i,i+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),i+e[0].length):-1}function no(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.m=e[0]-1,i+e[0].length):-1}function eo(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.d=+e[0],i+e[0].length):-1}function ro(t,n,i){var e=qa.exec(n.slice(i,i+3));return e?(t.m=0,t.d=+e[0],i+e[0].length):-1}function io(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.H=+e[0],i+e[0].length):-1}function ao(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.M=+e[0],i+e[0].length):-1}function oo(t,n,i){var e=qa.exec(n.slice(i,i+2));return e?(t.S=+e[0],i+e[0].length):-1}function uo(t,n,i){var e=qa.exec(n.slice(i,i+3));return e?(t.L=+e[0],i+e[0].length):-1}function co(t,n,i){var e=qa.exec(n.slice(i,i+6));return e?(t.L=Math.floor(e[0]/1e3),i+e[0].length):-1}function so(t,n,i){var e=Ha.exec(n.slice(i,i+1));return e?i+e[0].length:-1}function fo(t,n,i){var e=qa.exec(n.slice(i));return e?(t.Q=+e[0],i+e[0].length):-1}function lo(t,n,i){var e=qa.exec(n.slice(i));return e?(t.Q=1e3*+e[0],i+e[0].length):-1}function ho(t,p){return ja(t.getDate(),p,2)}function po(t,p){return ja(t.getHours(),p,2)}function go(t,p){return ja(t.getHours()%12||12,p,2)}function vo(t,p){return ja(1+oa.count(ma(t),t),p,3)}function mo(t,p){return ja(t.getMilliseconds(),p,3)}function yo(t,p){return mo(t,p)+"000"}function bo(t,p){return ja(t.getMonth()+1,p,2)}function _o(t,p){return ja(t.getMinutes(),p,2)}function xo(t,p){return ja(t.getSeconds(),p,2)}function wo(t){var n=t.getDay();return 0===n?7:n}function Mo(t,p){return ja(ca.count(ma(t),t),p,2)}function Do(t,p){var n=t.getDay();return t=n>=4||0===n?ha(t):ha.ceil(t),ja(ha.count(ma(t),t)+(4===ma(t).getDay()),p,2)}function No(t){return t.getDay()}function ko(t,p){return ja(sa.count(ma(t),t),p,2)}function So(t,p){return ja(t.getFullYear()%100,p,2)}function To(t,p){return ja(t.getFullYear()%1e4,p,4)}function Co(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ja(n/60|0,"0",2)+ja(n%60,"0",2)}function Ao(t,p){return ja(t.getUTCDate(),p,2)}function Eo(t,p){return ja(t.getUTCHours(),p,2)}function Lo(t,p){return ja(t.getUTCHours()%12||12,p,2)}function Po(t,p){return ja(1+xa.count(La(t),t),p,3)}function Ro(t,p){return ja(t.getUTCMilliseconds(),p,3)}function Fo(t,p){return Ro(t,p)+"000"}function Uo(t,p){return ja(t.getUTCMonth()+1,p,2)}function zo(t,p){return ja(t.getUTCMinutes(),p,2)}function Io(t,p){return ja(t.getUTCSeconds(),p,2)}function Yo(t){var n=t.getUTCDay();return 0===n?7:n}function qo(t,p){return ja(Ma.count(La(t),t),p,2)}function Ho(t,p){var n=t.getUTCDay();return t=n>=4||0===n?Sa(t):Sa.ceil(t),ja(Sa.count(La(t),t)+(4===La(t).getUTCDay()),p,2)}function Oo(t){return t.getUTCDay()}function jo(t,p){return ja(Da.count(La(t),t),p,2)}function Vo(t,p){return ja(t.getUTCFullYear()%100,p,2)}function Wo(t,p){return ja(t.getUTCFullYear()%1e4,p,4)}function Zo(){return"+0000"}function Xo(){return"%"}function Go(t){return+t}function Bo(t){return Math.floor(+t/1e3)}!function(t){Ua=function(t){var n=t.dateTime,e=t.date,r=t.time,o=t.periods,c=t.days,f=t.shortDays,l=t.months,h=t.shortMonths,d=Wa(o),v=Za(o),m=Wa(c),y=Za(c),_=Wa(f),x=Za(f),w=Wa(l),M=Za(l),D=Wa(h),N=Za(h),k={a:function(t){return f[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:ho,e:ho,f:yo,H:po,I:go,j:vo,L:mo,m:bo,M:_o,p:function(t){return o[+(t.getHours()>=12)]},Q:Go,s:Bo,S:xo,u:wo,U:Mo,V:Do,w:No,W:ko,x:null,X:null,y:So,Y:To,Z:Co,"%":Xo},S={a:function(t){return f[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ao,e:Ao,f:Fo,H:Eo,I:Lo,j:Po,L:Ro,m:Uo,M:zo,p:function(t){return o[+(t.getUTCHours()>=12)]},Q:Go,s:Bo,S:Io,u:Yo,U:qo,V:Ho,w:Oo,W:jo,x:null,X:null,y:Vo,Y:Wo,Z:Zo,"%":Xo},T={a:function(t,n,i){var e=_.exec(n.slice(i));return e?(t.w=x[e[0].toLowerCase()],i+e[0].length):-1},A:function(t,n,i){var e=m.exec(n.slice(i));return e?(t.w=y[e[0].toLowerCase()],i+e[0].length):-1},b:function(t,n,i){var e=D.exec(n.slice(i));return e?(t.m=N[e[0].toLowerCase()],i+e[0].length):-1},B:function(t,n,i){var e=w.exec(n.slice(i));return e?(t.m=M[e[0].toLowerCase()],i+e[0].length):-1},c:function(t,e,i){return E(t,n,e,i)},d:eo,e:eo,f:co,H:io,I:io,j:ro,L:uo,m:no,M:ao,p:function(t,n,i){var e=d.exec(n.slice(i));return e?(t.p=v[e[0].toLowerCase()],i+e[0].length):-1},Q:fo,s:lo,S:oo,u:Ga,U:Ba,V:$a,w:Xa,W:Ka,x:function(t,n,i){return E(t,e,n,i)},X:function(t,n,i){return E(t,r,n,i)},y:Qa,Y:Ja,Z:to,"%":so};function C(t,n){return function(e){var r,o,c,f=[],i=-1,l=0,h=t.length;for(e instanceof Date||(e=new Date(+e));++i<h;)37===t.charCodeAt(i)&&(f.push(t.slice(l,i)),null!=(o=Ya[r=t.charAt(++i)])?r=t.charAt(++i):o="e"===r?" ":"0",(c=n[r])&&(r=c(e,o)),f.push(r),l=i+1);return f.push(t.slice(l,i)),f.join("")}}function A(t,n){return function(e){var r,o,c=Fa(1900);if(E(c,t,e+="",0)!=e.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(o=(r=Ra(Fa(c.y))).getUTCDay(),r=o>4||0===o?Da.ceil(r):Da(r),r=xa.offset(r,7*(c.V-1)),c.y=r.getUTCFullYear(),c.m=r.getUTCMonth(),c.d=r.getUTCDate()+(c.w+6)%7):(o=(r=n(Fa(c.y))).getDay(),r=o>4||0===o?sa.ceil(r):sa(r),r=oa.offset(r,7*(c.V-1)),c.y=r.getFullYear(),c.m=r.getMonth(),c.d=r.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),o="Z"in c?Ra(Fa(c.y)).getUTCDay():n(Fa(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(o+5)%7:c.w+7*c.U-(o+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,Ra(c)):n(c)}}function E(t,n,e,r){for(var o,c,i=0,f=n.length,l=e.length;i<f;){if(r>=l)return-1;if(37===(o=n.charCodeAt(i++))){if(o=n.charAt(i++),!(c=T[o in Ya?n.charAt(i++):o])||(r=c(t,e,r))<0)return-1}else if(o!=e.charCodeAt(r++))return-1}return r}return k.x=C(e,k),k.X=C(r,k),k.c=C(n,k),S.x=C(e,S),S.X=C(r,S),S.c=C(n,S),{format:function(t){var n=C(t+="",k);return n.toString=function(){return t},n},parse:function(t){var p=A(t+="",Pa);return p.toString=function(){return t},p},utcFormat:function(t){var n=C(t+="",S);return n.toString=function(){return t},n},utcParse:function(t){var p=A(t,Ra);return p.toString=function(){return t},p}}}(t),Ua.format,Ua.parse,za=Ua.utcFormat,Ia=Ua.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||za("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Ia("%Y-%m-%dT%H:%M:%S.%LZ");var $o=function(t){for(var n=t.length/6|0,e=new Array(n),i=0;i<n;)e[i]="#"+t.slice(6*i,6*++i);return e},Ko=($o("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$o("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),$o("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$o("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$o("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),$o("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$o("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$o("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),$o("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),function(t){return wn(t[t.length-1])});Ko(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($o)),Ko(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($o)),Ko(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($o)),Ko(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($o)),Ko(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($o)),Ko(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($o)),Ko(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($o)),Ko(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($o)),Ko(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($o)),Ko(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($o)),Ko(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($o)),Ko(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($o)),Ko(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($o)),Ko(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($o)),Ko(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($o)),Ko(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($o)),Ko(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($o)),Ko(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($o)),Ko(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($o)),Ko(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($o)),Ko(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($o)),Ko(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($o)),Ko(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($o)),Ko(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($o)),Ko(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($o)),Ko(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($o)),Ko(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($o)),qn(hn(300,.5,0),hn(-240,.5,1)),qn(hn(-100,.75,.35),hn(80,1.5,.8)),qn(hn(260,.75,.35),hn(80,1.5,.8)),hn(),Pt(),Math.PI,Math.PI;function Jo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}Jo($o("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Jo($o("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jo($o("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jo($o("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var Qo=1e-12,tu=Math.PI,nu=2*tu;function eu(t){this._context=t}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ru=function(t){return new eu(t)};au(ru);function iu(t){this._curve=t}function au(t){function n(n){return new iu(t(n))}return n._curve=t,n}iu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,t){this._curve.point(t*Math.sin(a),t*-Math.cos(a))}};Array.prototype.slice;Math.sqrt(1/3);var ou=Math.sin(tu/10)/Math.sin(7*tu/10),uu=(Math.sin(nu/10),Math.cos(nu/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function cu(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function su(t){this._context=t}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cu(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function fu(t){this._context=t}fu.prototype={areaStart:uu,areaEnd:uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:cu(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function lu(t){this._context=t}lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:cu(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function hu(t,n){this._basis=new su(t),this._beta=n}hu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,o=t[0],c=n[0],f=t[e]-o,l=n[e]-c,i=-1;++i<=e;)r=i/e,this._basis.point(this._beta*t[i]+(1-this._beta)*(o+r*f),this._beta*n[i]+(1-this._beta)*(c+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(t){return 1===n?new su(t):new hu(t,n)}return e.beta=function(n){return t(+n)},e})(.85);function du(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function pu(t,n){this._context=t,this._k=(1-n)/6}pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:du(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:du(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new pu(t,n)}return e.tension=function(n){return t(+n)},e})(0);function gu(t,n){this._context=t,this._k=(1-n)/6}gu.prototype={areaStart:uu,areaEnd:uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:du(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new gu(t,n)}return e.tension=function(n){return t(+n)},e})(0);function vu(t,n){this._context=t,this._k=(1-n)/6}vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:du(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new vu(t,n)}return e.tension=function(n){return t(+n)},e})(0);function mu(t,n,e){var r=t._x1,o=t._y1,c=t._x2,f=t._y2;if(t._l01_a>Qo){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Qo){var b=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);c=(c*b+t._x1*t._l23_2a-n*t._l12_2a)/h,f=(f*b+t._y1*t._l23_2a-e*t._l12_2a)/h}t._context.bezierCurveTo(r,o,c,f,t._x2,t._y2)}function yu(t,n){this._context=t,this._alpha=n}yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:mu(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new yu(t,n):new pu(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function bu(t,n){this._context=t,this._alpha=n}bu.prototype={areaStart:uu,areaEnd:uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:mu(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new bu(t,n):new gu(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function _u(t,n){this._context=t,this._alpha=n}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mu(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new _u(t,n):new vu(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function xu(t){this._context=t}xu.prototype={areaStart:uu,areaEnd:uu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function wu(t){return t<0?-1:1}function Mu(t,n,e){var r=t._x1-t._x0,h1=n-t._x1,o=(t._y1-t._y0)/(r||h1<0&&-0),c=(e-t._y1)/(h1||r<0&&-0),p=(o*h1+c*r)/(r+h1);return(wu(o)+wu(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(p))||0}function Du(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Nu(t,n,e){var r=t._x0,o=t._y0,c=t._x1,f=t._y1,l=(c-r)/3;t._context.bezierCurveTo(r+l,o+l*n,c-l,f-l*e,c,f)}function ku(t){this._context=t}function Su(t){this._context=new Tu(t)}function Tu(t){this._context=t}function Cu(t){this._context=t}function Au(t){var i,n,e=t.length-1,a=new Array(e),b=new Array(e),r=new Array(e);for(a[0]=0,b[0]=2,r[0]=t[0]+2*t[1],i=1;i<e-1;++i)a[i]=1,b[i]=4,r[i]=4*t[i]+2*t[i+1];for(a[e-1]=2,b[e-1]=7,r[e-1]=8*t[e-1]+t[e],i=1;i<e;++i)n=a[i]/b[i-1],b[i]-=n,r[i]-=n*r[i-1];for(a[e-1]=r[e-1]/b[e-1],i=e-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[e-1]=(t[e]+a[e-1])/2,i=0;i<e-1;++i)b[i]=2*t[i+1]-a[i+1];return[a,b]}ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nu(this,this._t0,Du(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Nu(this,Du(this,e=Mu(this,t,n)),e);break;default:Nu(this,this._t0,e=Mu(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Su.prototype=Object.create(ku.prototype)).point=function(t,n){ku.prototype.point.call(this,n,t)},Tu.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,o,c){this._context.bezierCurveTo(n,t,r,e,c,o)}},Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Au(t),o=Au(n),c=0,f=1;f<e;++c,++f)this._context.bezierCurveTo(r[0][c],o[0][c],r[1][c],o[1][c],t[f],n[f]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Eu(t,n){this._context=t,this._t=n}Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};function Lu(){this._=null}function Pu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ru(t,n){var p=n,q=n.R,e=p.U;e?e.L===p?e.L=q:e.R=q:t._=q,q.U=e,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function Fu(t,n){var p=n,q=n.L,e=p.U;e?e.L===p?e.L=q:e.R=q:t._=q,q.U=e,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function Uu(t){for(;t.L;)t=t.L;return t}Lu.prototype={constructor:Lu,insert:function(t,n){var e,r,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Uu(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(o=r.R)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.R&&(Ru(this,e),e=(t=e).U),e.C=!1,r.C=!0,Fu(this,r)):(o=r.L)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.L&&(Fu(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ru(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,o=t.U,c=t.L,f=t.R;if(e=c?f?Uu(f):c:f,o?o.L===t?o.L=e:o.R=e:this._=e,c&&f?(r=e.C,e.C=t.C,e.L=c,c.U=e,e!==f?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=f,f.U=e):(e.U=o,o=e,t=e.R)):(r=t.C,t=e),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((n=o.R).C&&(n.C=!1,o.C=!0,Ru(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Fu(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,Ru(this,o),t=this._;break}}else if((n=o.L).C&&(n.C=!1,o.C=!0,Fu(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Ru(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,Fu(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var zu=Lu;function Iu(t,n,e,r){var o=[null,null],c=cc.push(o)-1;return o.left=t,o.right=n,e&&qu(o,t,n,e),r&&qu(o,n,t,r),oc[t.index].halfedges.push(c),oc[n.index].halfedges.push(c),o}function Yu(t,n,e){var r=[n,e];return r.left=t,r}function qu(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Hu(t,n,e,r,o){var c,a=t[0],b=t[1],f=a[0],l=a[1],h=0,d=1,v=b[0]-f,m=b[1]-l;if(c=n-f,v||!(c>0)){if(c/=v,v<0){if(c<h)return;c<d&&(d=c)}else if(v>0){if(c>d)return;c>h&&(h=c)}if(c=r-f,v||!(c<0)){if(c/=v,v<0){if(c>d)return;c>h&&(h=c)}else if(v>0){if(c<h)return;c<d&&(d=c)}if(c=e-l,m||!(c>0)){if(c/=m,m<0){if(c<h)return;c<d&&(d=c)}else if(m>0){if(c>d)return;c>h&&(h=c)}if(c=o-l,m||!(c<0)){if(c/=m,m<0){if(c>d)return;c>h&&(h=c)}else if(m>0){if(c<h)return;c<d&&(d=c)}return!(h>0||d<1)||(h>0&&(t[0]=[f+h*v,l+h*m]),d<1&&(t[1]=[f+d*v,l+d*m]),!0)}}}}}function Ou(t,n,e,r,o){var c=t[1];if(c)return!0;var f,l,h=t[0],d=t.left,v=t.right,m=d[0],y=d[1],_=v[0],x=v[1],w=(m+_)/2,M=(y+x)/2;if(x===y){if(w<n||w>=r)return;if(m>_){if(h){if(h[1]>=o)return}else h=[w,e];c=[w,o]}else{if(h){if(h[1]<e)return}else h=[w,o];c=[w,e]}}else if(l=M-(f=(m-_)/(x-y))*w,f<-1||f>1)if(m>_){if(h){if(h[1]>=o)return}else h=[(e-l)/f,e];c=[(o-l)/f,o]}else{if(h){if(h[1]<e)return}else h=[(o-l)/f,o];c=[(e-l)/f,e]}else if(y<x){if(h){if(h[0]>=r)return}else h=[n,f*n+l];c=[r,f*r+l]}else{if(h){if(h[0]<n)return}else h=[r,f*r+l];c=[n,f*n+l]}return t[0]=h,t[1]=c,!0}function ju(t,n){var e=t.site,r=n.left,o=n.right;return e===o&&(o=r,r=e),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(e===r?(r=n[1],o=n[0]):(r=n[0],o=n[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function Vu(t,n){return n[+(n.left!==t.site)]}function Wu(t,n){return n[+(n.left===t.site)]}var Zu,Xu=[];function Gu(){Pu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bu(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,o=t.site,c=e.site;if(r!==c){var f=o[0],l=o[1],h=r[0]-f,d=r[1]-l,v=c[0]-f,m=c[1]-l,y=2*(h*m-d*v);if(!(y>=-fc)){var _=h*h+d*d,x=v*v+m*m,w=(m*_-d*x)/y,M=(h*x-v*_)/y,circle=Xu.pop()||new Gu;circle.arc=t,circle.site=o,circle.x=w+f,circle.y=(circle.cy=M+l)+Math.sqrt(w*w+M*M),t.circle=circle;for(var D=null,N=uc._;N;)if(circle.y<N.y||circle.y===N.y&&circle.x<=N.x){if(!N.L){D=N.P;break}N=N.L}else{if(!N.R){D=N;break}N=N.R}uc.insert(D,circle),D||(Zu=circle)}}}}function $u(t){var circle=t.circle;circle&&(circle.P||(Zu=circle.N),uc.remove(circle),Xu.push(circle),Pu(circle),t.circle=null)}var Ku=[];function Ju(){Pu(this),this.edge=this.site=this.circle=null}function Qu(t){var n=Ku.pop()||new Ju;return n.site=t,n}function tc(t){$u(t),ac.remove(t),Ku.push(t),Pu(t)}function nc(t){var circle=t.circle,n=circle.x,e=circle.cy,r=[n,e],o=t.P,c=t.N,f=[t];tc(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<sc&&Math.abs(e-l.circle.cy)<sc;)o=l.P,f.unshift(l),tc(l),l=o;f.unshift(l),$u(l);for(var h=c;h.circle&&Math.abs(n-h.circle.x)<sc&&Math.abs(e-h.circle.cy)<sc;)c=h.N,f.push(h),tc(h),h=c;f.push(h),$u(h);var d,v=f.length;for(d=1;d<v;++d)h=f[d],l=f[d-1],qu(h.edge,l.site,h.site,r);l=f[0],(h=f[v-1]).edge=Iu(l.site,h.site,null,r),Bu(l),Bu(h)}function ec(t){for(var n,e,r,o,c=t[0],f=t[1],l=ac._;l;)if((r=rc(l,f)-c)>sc)l=l.L;else{if(!((o=c-ic(l,f))>sc)){r>-sc?(n=l.P,e=l):o>-sc?(n=l,e=l.N):n=e=l;break}if(!l.R){n=l;break}l=l.R}!function(t){oc[t.index]={site:t,halfedges:[]}}(t);var h=Qu(t);if(ac.insert(n,h),n||e){if(n===e)return $u(n),e=Qu(n.site),ac.insert(h,e),h.edge=e.edge=Iu(n.site,h.site),Bu(n),void Bu(e);if(e){$u(n),$u(e);var d=n.site,v=d[0],m=d[1],y=t[0]-v,_=t[1]-m,x=e.site,w=x[0]-v,M=x[1]-m,D=2*(y*M-_*w),N=y*y+_*_,k=w*w+M*M,S=[(M*N-_*k)/D+v,(y*k-w*N)/D+m];qu(e.edge,d,x,S),h.edge=Iu(d,t,null,S),e.edge=Iu(t,x,null,S),Bu(n),Bu(e)}else h.edge=Iu(n.site,h.site)}}function rc(t,n){var e=t.site,r=e[0],o=e[1],c=o-n;if(!c)return r;var f=t.P;if(!f)return-1/0;var l=(e=f.site)[0],h=e[1],d=h-n;if(!d)return l;var v=l-r,m=1/c-1/d,b=v/d;return m?(-b+Math.sqrt(b*b-2*m*(v*v/(-2*d)-h+d/2+o-c/2)))/m+r:(r+l)/2}function ic(t,n){var e=t.N;if(e)return rc(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var ac,oc,uc,cc,sc=1e-6,fc=1e-12;function lc(a,b){return b[1]-a[1]||b[0]-a[0]}function hc(t,n){var e,r,circle,o=t.sort(lc).pop();for(cc=[],oc=new Array(t.length),ac=new zu,uc=new zu;;)if(circle=Zu,o&&(!circle||o[1]<circle.y||o[1]===circle.y&&o[0]<circle.x))o[0]===e&&o[1]===r||(ec(o),e=o[0],r=o[1]),o=t.pop();else{if(!circle)break;nc(circle.arc)}if(function(){for(var t,n,e,r,i=0,o=oc.length;i<o;++i)if((t=oc[i])&&(r=(n=t.halfedges).length)){var c=new Array(r),f=new Array(r);for(e=0;e<r;++e)c[e]=e,f[e]=ju(t,cc[n[e]]);for(c.sort(function(i,t){return f[t]-f[i]}),e=0;e<r;++e)f[e]=n[c[e]];for(e=0;e<r;++e)n[e]=f[e]}}(),n){var c=+n[0][0],f=+n[0][1],l=+n[1][0],h=+n[1][1];!function(t,n,e,r){for(var o,i=cc.length;i--;)Ou(o=cc[i],t,n,e,r)&&Hu(o,t,n,e,r)&&(Math.abs(o[0][0]-o[1][0])>sc||Math.abs(o[0][1]-o[1][1])>sc)||delete cc[i]}(c,f,l,h),function(t,n,e,r){var o,c,f,l,h,d,v,m,y,_,x,w,M=oc.length,D=!0;for(o=0;o<M;++o)if(c=oc[o]){for(f=c.site,l=(h=c.halfedges).length;l--;)cc[h[l]]||h.splice(l,1);for(l=0,d=h.length;l<d;)x=(_=Wu(c,cc[h[l]]))[0],w=_[1],m=(v=Vu(c,cc[h[++l%d]]))[0],y=v[1],(Math.abs(x-m)>sc||Math.abs(w-y)>sc)&&(h.splice(l,0,cc.push(Yu(f,_,Math.abs(x-t)<sc&&r-w>sc?[t,Math.abs(m-t)<sc?y:r]:Math.abs(w-r)<sc&&e-x>sc?[Math.abs(y-r)<sc?m:e,r]:Math.abs(x-e)<sc&&w-n>sc?[e,Math.abs(m-e)<sc?y:n]:Math.abs(w-n)<sc&&x-t>sc?[Math.abs(y-n)<sc?m:t,n]:null))-1),++d);d&&(D=!1)}if(D){var N,k,S,T=1/0;for(o=0,D=null;o<M;++o)(c=oc[o])&&(S=(N=(f=c.site)[0]-t)*N+(k=f[1]-n)*k)<T&&(T=S,D=c);if(D){var C=[t,n],A=[t,r],E=[e,r],L=[e,n];D.halfedges.push(cc.push(Yu(f=D.site,C,A))-1,cc.push(Yu(f,A,E))-1,cc.push(Yu(f,E,L))-1,cc.push(Yu(f,L,C))-1)}}for(o=0;o<M;++o)(c=oc[o])&&(c.halfedges.length||delete oc[o])}(c,f,l,h)}this.edges=cc,this.cells=oc,ac=uc=cc=oc=null}hc.prototype={constructor:hc,polygons:function(){var t=this.edges;return this.cells.map(function(n){var polygon=n.halfedges.map(function(i){return Vu(n,t[i])});return polygon.data=n.site.data,polygon})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,i){if(o=(r=e.halfedges).length)for(var r,o,c,a,b,f,l=e.site,h=-1,d=n[r[o-1]],v=d.left===l?d.right:d.left;++h<o;)c=v,v=(d=n[r[h]]).left===l?d.right:d.left,c&&v&&i<c.index&&i<v.index&&(b=c,f=v,((a=l)[0]-f[0])*(b[1]-a[1])-(a[0]-b[0])*(f[1]-a[1])<0)&&t.push([l.data,c.data,v.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,o,c=this,f=c._found||0,l=c.cells.length;!(o=c.cells[f]);)if(++f>=l)return null;var h=t-o.site[0],d=n-o.site[1],v=h*h+d*d;do{o=c.cells[r=f],f=null,o.halfedges.forEach(function(e){var r=c.edges[e],l=r.left;if(l!==o.site&&l||(l=r.right)){var h=t-l[0],d=n-l[1],m=h*h+d*d;m<v&&(v=m,f=l.index)}})}while(null!==f);return c._found=r,null==e||v<=e*e?o.site:null}};function dc(t,n,e){this.k=t,this.x=n,this.y=e}dc.prototype={constructor:dc,scale:function(t){return 1===t?this:new dc(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new dc(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new dc(1,0,0);dc.prototype},577:function(t,n,e){var r=e(9),o=e(11),c=e(22),f=/"/g,l=function(t,n,e,r){var o=String(c(t)),l="<"+n;return""!==e&&(l+=" "+e+'="'+String(r).replace(f,"&quot;")+'"'),l+">"+o+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(l),r(r.P+r.F*o(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",e)}}}]);